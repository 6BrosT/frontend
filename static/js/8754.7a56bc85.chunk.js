"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[8754],{78754:(e,t,n)=>{n.r(t),n.d(t,{OVERDUE_HANDLING:()=>ke,default:()=>we});var a=n(89790),s=n(54045),i=n(51997),o=n(65954),r=n(96447),l=n(61317),c=n(19545),m=n(9019),_=n(79536),d=n(62481),u=n(9289),x=n(47131),h=n(73428),g=n(46923),p=n(19536),y=n(83929),f=n(44758),j=n(75908),Z=n(17592),b=n(19860),C=n(81127),k=n(90200),w=n(11053),S=n(99140),q=n(7547),T=n(15535),v=n(16977),E=n(80142),I=n(37735),N=n(72619),P=n(80610),O=n(51344),A=n(2749),D=n(92556),H=n(31845),W=n(63408),L=n(99221),B=n(47313),R=n(58467),U=n(90469),F=n(38556),z=n(70501),M=n(1550),Q=n(15103);const G="style_container__Akdie",Y="style_searchWrapper__0MyY6",J="style_colSearchContainer__Je2lU";var V=n(41835),$=n(5124),K=n(65537),X=n(49132),ee=n(46417);const te=e=>{let{colSearchLabel:t,shuffleQuestionsLabel:n}=e;const[a,s]=(0,B.useState)("name"),[i,o]=(0,B.useState)(!1),r=(0,K.I0)(),l=(0,K.v9)((e=>e.questionCreate));return(0,ee.jsxs)(z.Z,{className:G,children:[(0,ee.jsx)(_.Z,{className:Y,children:(0,ee.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,ee.jsx)(m.ZP,{item:!0,xs:6,children:(0,ee.jsx)($.Z,{onSearchClick:e=>{console.log(e),r((0,X.$c)(e))},maxWidth:"100%"})}),(0,ee.jsx)(m.ZP,{item:!0,xs:3,children:(0,ee.jsx)(M.Z,{className:J,children:(0,ee.jsx)(Q.Z,{id:"colSearch",children:t})})}),n&&(0,ee.jsx)(m.ZP,{item:!0,xs:3,style:{display:"flex",justifyContent:"flex-end"},children:(0,ee.jsx)(y.Z,{control:(0,ee.jsx)(f.Z,{checked:l.shuffleQuestions,onChange:e=>{r((0,X.Mv)(e.target.checked))},name:"shuffleQuestions"}),label:n||"X\xe1o tr\u1ed9n c\xe2u h\u1ecfi"})})]})}),(0,ee.jsx)(S.Z,{btnType:S.s.Primary,startIcon:(0,ee.jsx)(V.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},children:"Xu\u1ea5t d\u1eef li\u1ec7u"})]})};var ne=n(89990),ae=n(75590),se=n(65339),ie=n(39113),oe=n(43714);function re(e){let{open:t,title:n,handleClose:a,children:s,cancelText:i,confirmText:o,onHandleCancel:r,onHanldeConfirm:l,categoryPickTitle:c,categoryList:_,onQuestionPick:d,...u}=e;const{t:x}=(0,ae.$G)(),[h,g]=B.useState("0"),p=(0,K.v9)((e=>e.questionCategory)),y=B.useMemo((()=>[{field:"stt",headerName:"STT",minWidth:1},{field:"name",headerName:x("exam_management_create_question_name"),minWidth:250},{field:"questionText",headerName:x("exam_management_create_question_description"),minWidth:400,renderCell:e=>(0,ee.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{field:"qtypeText",headerName:x("exam_management_create_question_type"),minWidth:150}]),[]),[f,j]=B.useState(""),Z=(0,K.I0)(),[b,C]=B.useState([]);return(0,ee.jsxs)(ne.Z,{open:t,handleClose:a,title:n,cancelText:i,confirmText:o,onHandleCancel:r,onHanldeConfirm:l?()=>l(b):()=>{},minWidth:"1000px",...u,children:[(0,ee.jsxs)(m.ZP,{container:!0,spacing:1,columns:12,children:[(0,ee.jsx)(m.ZP,{item:!0,xs:3,children:(0,ee.jsx)(L.Z,{children:c||""})}),(0,ee.jsx)(m.ZP,{item:!0,xs:9,children:(0,ee.jsx)(I.Z,{labelId:"category-label",value:h,onHandleChange:e=>{g(e),(async e=>{let{categoryId:t,search:n=f,pageNo:a=0,pageSize:s=99}=e;try{const e=await se.a.getQuestionsByCategoryId({categoryId:t,search:n,pageNo:a,pageSize:s});Z((0,ie.kh)(e))}catch(i){console.error("Failed to fetch questions by category id",i)}})({categoryId:e})},items:_,backgroundColor:"white",style:{marginTop:"0px"}})})]}),(0,ee.jsx)(m.ZP,{container:!0,spacing:1,children:(0,ee.jsx)(m.ZP,{item:!0,xs:12,children:(0,ee.jsx)(w.Z,{dataList:p.questions.map(((e,t)=>({stt:t+1,qtypeText:e.qtype===oe.S.SHORT_ANSWER?"c\xe2u h\u1ecfi ng\u1eafn":e.qtype===oe.S.MULTIPLE_CHOICE?"c\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m":e.qtype===oe.S.ESSAY?"c\xe2u h\u1ecfi t\u1ef1 lu\u1eadn":e.qtype===oe.S.TRUE_FALSE?"c\xe2u h\u1ecfi \u0111\xfang/sai":e.qtype===oe.S.CODE?"c\xe2u h\u1ecfi code":"",...e}))),tableHeader:y,onSelectData:async(e,t)=>{const n=e.map((e=>({questionId:e.toString()})));C(n)},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!1,checkboxSelection:!0,onClickRow:e=>{console.log(e)}})})})]})}var le=n(70441),ce=n(80007),me=n(43750);function _e(e){let{open:t,title:n,questionType:a,handleChangeQuestionType:s,handleClose:i,children:o,cancelText:r,confirmText:l,onHandleCancel:c,onHanldeConfirm:_,...d}=e;const{t:u}=(0,ae.$G)(),[x,h]=B.useState(Object.values(me.Z).map((e=>e.code)).some((e=>e===a)));return(0,ee.jsx)(ne.Z,{open:t,handleClose:i,title:n,cancelText:r,confirmText:l,onHandleCancel:c,onHanldeConfirm:_,confirmDisabled:!x,...d,children:(0,ee.jsxs)(m.ZP,{container:!0,spacing:1,columns:12,minWidth:"450px",children:[(0,ee.jsxs)(m.ZP,{item:!0,xs:6,children:[(0,ee.jsx)(L.Z,{paddingBottom:"10px","translation-key":"common_question",children:u("common_question")}),(0,ee.jsx)(M.Z,{component:"fieldset",sx:{maxHeight:"200px",overflowY:"auto"},children:(0,ee.jsx)(le.Z,{ariaLabel:"question-type",value:a,handleChange:e=>{h(!0),s(e)},items:[{value:"essay",label:u("common_question_type_essay")},{value:"multiple-choice",label:u("common_question_type_multi_choice")},{value:"short-answer",label:u("common_question_type_short")},{value:"true-false",label:u("common_question_type_yes_no")}],"translation-key":["common_question_type_essay","common_question_type_short","common_question_type_multi_choice","common_question_type_yes_no"]})})]}),(0,ee.jsx)(m.ZP,{item:!0,xs:6,children:(0,ee.jsxs)(ce.Z,{"translation-key":["common_question_type_yes_no","common_question_type_multi_choice","common_question_type_short","common_question","common_question_type_essay"],children:["essay"===a&&"".concat(u("common_question_type_essay")," ").concat(u("common_question")),"multiple-choice"===a&&"".concat(u("common_question_type_multi_choice")," ").concat(u("common_question")),"short-answer"===a&&"".concat(u("common_question_type_short")," ").concat(u("common_question")),"true-false"===a&&"".concat(u("common_question_type_yes_no")," ").concat(u("common_question"))]})})]})})}const de={root:"styles_root__v--7+",container:"styles_container__IziqJ",mainContent:"styles_mainContent__Rb9rB",formBody:"styles_formBody__8892H",drawerBody:"styles_drawerBody__nrSUJ",drawerFieldContainer:"styles_drawerFieldContainer__NWb57",drawerTextTitle:"styles_drawerTextTitle__p0dvZ",inputTextfield:"styles_inputTextfield__QCTrR",iconErrorOutline:"styles_iconErrorOutline__UwGFF",textEditor:"styles_textEditor__i5+ER",breadcumpWrapper:"styles_breadcumpWrapper__pvRwV",icArrow:"styles_icArrow__+GxN6",cursorPointer:"styles_cursorPointer__KzUKL"};var ue=n(47477),xe=n(23885),he=n(74512),ge=n(70816),pe=n.n(ge),ye=n(25231),fe=n(571);const je=400,Ze=(0,Z.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{flexGrow:1,width:"calc(100% - ".concat(je,"px)"),padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginRight:-je,...n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:0},position:"relative"}})),be=(0,Z.ZP)(j.Z,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...n&&{width:"calc(100% - ".concat(je,"px)"),transition:t.transitions.create(["margin","width"],{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginRight:je}}})),Ce=(0,Z.ZP)("div")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",padding:t.spacing(0,1),...t.mixins.toolbar,justifyContent:"flex-start"}})),ke={AUTOSUBMIT:"autosubmit",GRACEPERIOD:"graceperiod",AUTOABANDON:"autoabandon"};function we(){const{courseId:e}=(0,R.UO)(),{examId:t}=(0,R.UO)(),n=(0,K.v9)((e=>e.questionCreate)),j=(0,K.v9)((e=>e.questionBankCategory)),Z=(0,K.I0)();(0,B.useEffect)((()=>{he.O.getExamById(null!==t&&void 0!==t?t:"").then((e=>{Z((0,X.Je)(e.name)),Z((0,X.hY)(e.intro)),Z((0,X.Az)(e.maxScores)),Z((0,X.ax)(e.timeOpen)),Z((0,X.WT)(e.timeClose)),Z((0,X.tx)(e.timeLimit)),Z((0,X.zY)(e.maxAttempts)),Z((0,X.Nk)(e.overdueHanding))})),he.O.getExamQuestionById(null!==t&&void 0!==t?t:"",null).then((e=>{Z((0,X.O1)(e.questions))}))}),[]);const{t:z}=(0,ae.$G)(),{width:M}=(0,F.Z)(),Q=(0,R.s0)(),G=(0,b.Z)(),[Y,J]=B.useState(!0),[V,$]=B.useState("seconds"),[ne,ie]=B.useState(!0),[le,ce]=B.useState(!1),[me,ge]=B.useState(!1),[ke,we]=B.useState("essay"),[Se,qe]=B.useState(!1),[Te,ve]=B.useState("0"),[Ee,Ie]=B.useState(!1),[Ne,Pe]=B.useState(!1),[Oe,Ae]=B.useState(!1),[De,He]=B.useState(),[We,Le]=B.useState(!1),Be=B.useMemo((()=>[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:z("exam_management_create_question_name"),flex:.7,minWidth:150},{field:"questionText",headerName:z("exam_management_create_question_description"),renderCell:e=>(0,ee.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}}),flex:2,minWidth:300},{field:"defaultMark",headerName:z("assignment_management_max_score"),minWidth:50},{field:"qtypeText",headerName:z("exam_management_create_question_type"),flex:2,minWidth:150},{field:"action",headerName:z("common_action"),type:"actions",flex:2,minWidth:150,getActions:e=>[(0,ee.jsx)(C.u,{icon:(0,ee.jsx)(o.Z,{}),label:"Edit"}),(0,ee.jsx)(C.u,{onClick:()=>{switch(e.row.qtype){case"MULTIPLE_CHOICE":Ie(!Ee);break;case"ESSAY":Pe(!Ne);break;case"SHORT_ANSWER":He(e.row),Ae(!Oe);break;case"TRUE_FALSE":Le(!We)}},icon:(0,ee.jsx)(c.Z,{}),label:"Preview"}),(0,ee.jsx)(C.u,{icon:(0,ee.jsx)(i.Z,{}),label:"Delete"})]}]),[Ne,Ee,Oe,We,z]);const Re=()=>{ce(!1)},Ue=()=>{(async e=>{let{search:t="",pageNo:n=0,pageSize:a=99}=e;try{const e=await fe._.getQuestionBankCategories({search:t,pageNo:n,pageSize:a});Z((0,ye.DG)(e))}catch(s){console.log(s)}})({}),ge(!0)},Fe=()=>{ge(!1)};B.useEffect((()=>{J(!(M<1080))}),[M]);const ze=B.useRef(null),{height:Me}=(0,ue.Z)({ref:ze}),Qe=B.useRef(null),{height:Ge}=(0,ue.Z)({ref:Qe});return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(_e,{open:le,handleClose:Re,title:z("exam_management_create_new_question"),cancelText:z("common_cancel"),confirmText:z("common_add"),onHanldeConfirm:()=>{switch(ke){case"essay":Q(U._.lecturer.question.essay.create,{state:{courseId:e}});break;case"multiple-choice":Q(U._.lecturer.question.multiple_choice.create,{state:{courseId:e}});break;case"short-answer":Q(U._.lecturer.question.short_answer.create,{state:{courseId:e}});break;case"true-false":Q(U._.lecturer.question.true_false.create,{state:{courseId:e}})}Re()},onHandleCancel:Re,questionType:ke,handleChangeQuestionType:e=>{we(e)},"translation-key":["exam_management_create_new_question","common_cancel","common_add"]}),(0,ee.jsx)(P.Z,{open:Ee,setOpen:Ie,"aria-labelledby":"customized-dialog-title1",maxWidth:"md",fullWidth:!0}),(0,ee.jsx)(N.Z,{open:Ne,setOpen:Pe,"aria-labelledby":"customized-dialog-title2",maxWidth:"md",fullWidth:!0}),(0,ee.jsx)(O.Z,{open:Oe,question:De,setOpen:Ae,"aria-labelledby":"customized-dialog-title3",maxWidth:"md",fullWidth:!0}),(0,ee.jsx)(A.Z,{open:We,setOpen:Le,"aria-labelledby":"customized-dialog-title4",maxWidth:"md",fullWidth:!0}),(0,ee.jsx)(re,{open:me,handleClose:Fe,title:z("exam_management_create_from_bank"),cancelText:z("common_cancel"),confirmText:z("common_add"),onHanldeConfirm:async e=>{const t={questions:e},n=(await se.a.cloneQuestionByIdIn(t)).questions.map((e=>({id:e.id,organization:e.organization,difficulty:e.difficulty,name:e.name,questionText:e.questionText,generalFeedback:e.generalFeedback,defaultMark:e.defaultMark,createdBy:e.createdBy,updatedBy:e.updatedBy,qtype:e.qtype,answers:e.answers,createdAt:e.createdAt,updatedAt:e.updatedAt})));console.log(n),Z((0,X.O1)(n)),Fe()},onHandleCancel:Fe,categoryPickTitle:z("exam_management_create_from_bank_choose_topic"),categoryList:j.categories.questionBankCategories.map(((e,t)=>({value:e.id,label:e.name}))),"translation-key":["exam_management_create_from_bank","common_cancel","common_add","exam_management_create_from_bank_choose_topic"]}),(0,ee.jsxs)(m.ZP,{className:de.root,children:[(0,ee.jsx)(k.Z,{ref:ze}),(0,ee.jsxs)(_.Z,{className:de.container,sx:{marginTop:"".concat(Me,"px")},children:[(0,ee.jsx)(d.ZP,{}),(0,ee.jsx)(be,{position:"fixed",sx:{top:"".concat(Me+1,"px"),backgroundColor:"white",boxShadow:"0px 2px 4px #00000026"},ref:Qe,open:Y,children:(0,ee.jsxs)(u.Z,{children:[(0,ee.jsxs)(_.Z,{id:de.breadcumpWrapper,children:[(0,ee.jsx)(W.Z,{colorname:"--blue-500",className:de.cursorPointer,onClick:()=>Q(U._.lecturer.course.management),"translation-key":"common_course_management",children:z("common_course_management")}),(0,ee.jsx)(r.Z,{id:de.icArrow}),(0,ee.jsx)(W.Z,{colorname:"--blue-500",className:de.cursorPointer,onClick:()=>Q(U._.lecturer.course.assignment.replace(":courseId",null!==e&&void 0!==e?e:"")),"translation-key":"course_detail_assignment_list",children:z("course_detail_assignment_list")}),(0,ee.jsx)(r.Z,{id:de.icArrow}),(0,ee.jsx)(W.Z,{colorname:"--blue-500","translation-key":"course_lecturer_assignment_create_exam",children:z("course_lecturer_assignment_create_exam")})]}),(0,ee.jsx)(x.Z,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:()=>{J(!0)},sx:{...Y&&{display:"none"}},children:(0,ee.jsx)(l.Z,{color:"action"})})]})}),(0,ee.jsx)(Ze,{open:Y,className:de.mainContent,sx:{height:"calc(100% - ".concat(Ge,"px)"),marginTop:"".concat(Ge,"px")},children:(0,ee.jsx)(h.Z,{children:(0,ee.jsxs)(_.Z,{component:"form",className:de.formBody,autoComplete:"off",children:[(0,ee.jsx)(H.Z,{fontWeight:"500","translation-key":"course_lecturer_assignment_edit_exam",children:z("course_lecturer_assignment_edit_exam")}),(0,ee.jsx)(v.Z,{type:"text",title:z("common_exam_name"),value:n.examName,onChange:e=>{Z((0,X.Je)(e.target.value))},placeholder:z("exam_management_create_enter_exam_name"),backgroundColor:"white","translation-key":["common_exam_name","exam_management_create_enter_exam_name"]}),(0,ee.jsxs)(m.ZP,{container:!0,spacing:1,columns:12,children:[(0,ee.jsx)(m.ZP,{item:!0,xs:3,children:(0,ee.jsx)(L.Z,{"translation-key":"common_exam_description",children:z("common_exam_description")})}),(0,ee.jsx)(m.ZP,{item:!0,xs:9,className:de.textEditor,children:(0,ee.jsx)(D.Z,{value:n.examDescription,onChange:e=>{Z((0,X.hY)(e))}})})]}),(0,ee.jsx)(E.Z,{style:{marginTop:"20px"},popupId:"add-question-popup",triggerButtonText:z("common_add_question"),triggerButtonProps:{width:"150px"},btnType:S.s.Outlined,menuItems:[{label:z("exam_management_create_new_question"),onClick:async e=>{ce(!0),e.close()}},{label:z("exam_management_create_from_bank"),onClick:async e=>{Ue(),e.close()}}],"translation-key":["common_add_question","exam_management_create_new_question","exam_management_create_from_bank"]}),(0,ee.jsxs)(m.ZP,{container:!0,spacing:1,children:[(0,ee.jsx)(m.ZP,{item:!0,xs:12,children:(0,ee.jsx)(H.Z,{fontWeight:"500","translation-key":"exam_management_create_question_list",children:z("exam_management_create_question_list")})}),(0,ee.jsx)(m.ZP,{item:!0,xs:12,children:(0,ee.jsx)(te,{shuffleQuestionsLabel:z("exam_management_create_question_scramble")})}),(0,ee.jsx)(m.ZP,{item:!0,xs:12,children:(0,ee.jsx)(w.Z,{dataList:n.questionCreate.filter((e=>e.name.toLowerCase().includes(n.searchQuestion.toLowerCase()))).map(((e,t)=>({stt:t+1,qtypeText:e.qtype===oe.S.SHORT_ANSWER?"c\xe2u h\u1ecfi ng\u1eafn":e.qtype===oe.S.MULTIPLE_CHOICE?"c\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m":e.qtype===oe.S.ESSAY?"c\xe2u h\u1ecfi t\u1ef1 lu\u1eadn":e.qtype===oe.S.TRUE_FALSE?"c\xe2u h\u1ecfi \u0111\xfang/sai":e.qtype===oe.S.CODE?"c\xe2u h\u1ecfi code":"",...e}))),tableHeader:Be,onSelectData:()=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},page:1,pageSize:5,totalElement:n.questionCreate.length,onPaginationModelChange:e=>{console.log(e)},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})})]})]})})}),(0,ee.jsxs)(g.ZP,{sx:{width:je,flexShrink:0,"& .MuiDrawer-paper":{width:je,position:"fixed",height:"calc(100% - ".concat(Me+1,"px)"),top:"".concat(Me+1,"px")}},variant:"persistent",anchor:"right",open:Y,children:[(0,ee.jsx)(Ce,{children:(0,ee.jsx)(x.Z,{onClick:()=>{J(!1)},children:"rtl"===G.direction?(0,ee.jsx)(a.Z,{}):(0,ee.jsx)(s.Z,{})})}),(0,ee.jsx)(p.Z,{}),(0,ee.jsxs)(_.Z,{className:de.drawerBody,children:[(0,ee.jsxs)(_.Z,{className:de.drawerFieldContainer,children:[(0,ee.jsx)(L.Z,{"translation-key":"assignment_management_max_score",children:z("assignment_management_max_score")}),(0,ee.jsx)(v.Z,{type:"number",value:n.maxScore,onChange:e=>{Z((0,X.Az)(parseInt(e.target.value)))},placeholder:z("exam_management_create_enter_score"),backgroundColor:"#D9E2ED","translation-key":"exam_management_create_enter_score"})]}),(0,ee.jsxs)(_.Z,{className:de.drawerFieldContainer,children:[(0,ee.jsx)(L.Z,{className:de.drawerTextTitle,"translation-key":["course_assignment_detail_open_time","course_detail_exam"],children:"".concat(z("course_detail_exam")," ").concat(xe.ZP.format(z("course_assignment_detail_open_time"),"lowercase"))}),(0,ee.jsx)(T.Z,{value:pe()(n.timeOpen),onHandleValueChange:e=>{var t;Z((0,X.ax)(null!==(t=null===e||void 0===e?void 0:e.toDate().toISOString())&&void 0!==t?t:(new Date).toISOString()))},backgroundColor:"#D9E2ED"})]}),(0,ee.jsxs)(_.Z,{className:de.drawerFieldContainer,children:[(0,ee.jsx)(L.Z,{className:de.drawerTextTitle,"translation-key":["course_assignment_detail_close_time","course_detail_exam"],children:"".concat(z("course_detail_exam")," ").concat(xe.ZP.format(z("course_assignment_detail_close_time"),"lowercase"))}),(0,ee.jsx)(T.Z,{value:pe()(n.timeClose),onHandleValueChange:e=>{var t;Z((0,X.WT)(null!==(t=null===e||void 0===e?void 0:e.toDate().toISOString())&&void 0!==t?t:(new Date).toISOString()))},backgroundColor:"#D9E2ED"})]}),(0,ee.jsxs)(_.Z,{className:de.drawerFieldContainer,children:[(0,ee.jsx)(L.Z,{"translation-key":"common_do_time",children:z("common_do_time")}),(0,ee.jsxs)(m.ZP,{container:!0,spacing:1,gap:1,columns:12,children:[(0,ee.jsx)(m.ZP,{item:!0,xs:4,children:(0,ee.jsx)(v.Z,{type:"number",value:n.timeLimit,onChange:e=>{Z((0,X.tx)(parseInt(e.target.value)))},placeholder:z("common_enter_quan"),disabled:!ne,backgroundColor:"#D9E2ED","translation-key":"common_enter_quan"})}),(0,ee.jsx)(m.ZP,{item:!0,xs:4,children:(0,ee.jsx)(I.Z,{labelId:"select-exam-time-limit-unit-label",value:V,onHandleChange:e=>$(e),style:{marginTop:"8px"},items:[{value:"weeks",label:z("contest_detail_feature_week")},{value:"days",label:z("contest_detail_feature_day")},{value:"hours",label:z("contest_detail_feature_hour")},{value:"minutes",label:z("contest_detail_feature_minute")},{value:"seconds",label:z("contest_detail_feature_second")}],disabled:!ne,backgroundColor:"#D9E2ED","translation-key":["contest_detail_feature_week","contest_detail_feature_day","contest_detail_feature_hour","contest_detail_feature_minute","contest_detail_feature_second"]})}),(0,ee.jsx)(m.ZP,{item:!0,xs:3,children:(0,ee.jsx)(y.Z,{style:{marginTop:"7px"},control:(0,ee.jsx)(f.Z,{checked:ne,onChange:e=>ie(e.target.checked)}),label:z("common_turn_on"),"translation-key":"common_turn_on"})})]})]}),(0,ee.jsxs)(_.Z,{className:de.drawerFieldContainer,children:[(0,ee.jsx)(L.Z,{className:de.drawerTextTitle,"translation-key":"exam_management_create_when_time_end",children:z("exam_management_create_when_time_end")}),(0,ee.jsx)(I.Z,{labelId:"select-assignment-overdue-handling-label",value:n.overdueHandling,onHandleChange:e=>{Z((0,X.Nk)(e))},items:[{value:"AUTOSUBMIT",label:z("exam_management_create_when_time_end_auto")},{value:"AUTOABANDON",label:z("exam_management_create_when_time_end_delete")}],backgroundColor:"#D9E2ED","translation-key":["exam_management_create_when_time_end","exam_management_create_when_time_end_delete","exam_management_create_when_time_end_spare"]})]}),(0,ee.jsxs)(_.Z,{className:de.drawerFieldContainer,children:[(0,ee.jsx)(L.Z,{className:de.drawerTextTitle,"translation-key":"exam_management_create_retry_num",children:z("exam_management_create_retry_num")}),(0,ee.jsx)(I.Z,{labelId:"select-assignment-max-attempts-label",value:n.maxAttempt.toString(),onHandleChange:e=>{Z((0,X.zY)(parseInt(e)))},items:[{value:"0",label:z("exam_management_create_retry_num_infinite")},...Array.from(Array(10).keys()).map((e=>({value:(e+1).toString(),label:(e+1).toString()})))],backgroundColor:"#D9E2ED","translation-key":"exam_management_create_retry_num_infinite"})]}),(0,ee.jsxs)(_.Z,{className:de.drawerFieldContainer,children:[(0,ee.jsx)(L.Z,{className:de.drawerTextTitle,"translation-key":"asingment_management_possibility",children:z("asingment_management_possibility")}),(0,ee.jsx)(I.Z,{labelId:"select-assignment-availability-label",value:Te,onHandleChange:e=>ve(e),items:[{value:"0",label:z("asingment_management_possibility_show")},{value:"1",label:z("asingment_management_possibility_hind_can_not_access")}],backgroundColor:"#D9E2ED","translation-key":["asingment_management_possibility_hind_can_not_access","asingment_management_possibility_show","asingment_management_possibility_hide_can_access"]})]}),(0,ee.jsx)(q.Z,{btnType:S.s.Outlined,fullWidth:!0,style:{marginTop:"20px"},padding:"10px",loading:Se,onClick:function(){qe(!0),(()=>{const a=n.questionCreate.map((e=>({questionId:e.id,page:0}))),s=(()=>{switch(V){case"weeks":return 604800*n.timeLimit;case"days":return 86400*n.timeLimit;case"hours":return 3600*n.timeLimit;case"minutes":return 60*n.timeLimit;case"seconds":return n.timeLimit;default:return 0}})(),i={courseId:null!==e&&void 0!==e?e:"",name:n.examName,intro:n.examDescription,score:n.maxScore,maxScore:n.maxScore,timeOpen:new Date(n.timeOpen),timeClose:new Date(n.timeClose),timeLimit:s,overdueHandling:n.overdueHandling.toUpperCase(),canRedoQuestions:!0,maxAttempts:n.maxAttempt,shuffleQuestions:n.shuffleQuestions,gradeMethod:"QUIZ_GRADEHIGHEST",questionIds:a};he.O.editExam(null!==t&&void 0!==t?t:"",i).then((e=>{console.log(e),Z((0,X.Jf)()),Z((0,X.SL)())})).catch((e=>{console.log(e)}))})(),Q(U._.lecturer.course.assignment.replace(":courseId",null!==e&&void 0!==e?e:"")),setTimeout((()=>{qe(!1)}),1e3)},"translation-key":"course_lecturer_assignment_edit_exam",children:z("course_lecturer_assignment_edit_exam")})]})]})]})]})]})}}}]);