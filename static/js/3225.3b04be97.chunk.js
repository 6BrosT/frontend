"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[3225],{38400:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Jn});var s=n(9019),a=n(79536),i=n(47313);const r="styles_root__rYXbf",o="styles_container__w2fbP",l="styles_body__UOB0Y";var c=n(51765),d=n(46923),m=n(17592),u=n(90200),_=n(90469),x=n(38707);const h={drawer:"styles_drawer__Mq4rF"};var g=n(87258),p=n(47477),v=n(46417);const y=300,j=[{name:"Trang ch\u1ee7",icon:(0,v.jsx)(c.Z,{className:h.itemIcon}),link:_._.student.course.management},{name:"L\u1ecbch",icon:(0,v.jsx)(g.Qu,{className:h.itemIcon}),link:_._.student.calendar}],Z=(0,m.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{flexGrow:1,width:"calc(100% - ".concat(y,"px)"),overflow:"auto",padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(y,"px"),...n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}}));function f(e){let{children:t}=e;const[n,s]=i.useState(!0),r=(0,i.useRef)(null),{height:o}=(0,p.Z)({ref:r});return(0,v.jsxs)(a.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,v.jsx)(u.Z,{toggleDrawer:()=>{s((e=>!e))},ref:r}),(0,v.jsx)(d.ZP,{className:h.drawer,sx:{width:y,flexShrink:0,"& .MuiDrawer-paper":{width:y,marginTop:"".concat(o+2,"px")}},variant:"persistent",anchor:"left",open:n,children:(0,v.jsx)(x.Z,{sideBarItem:j})}),(0,v.jsx)(Z,{open:n,sx:{marginTop:"".concat(o,"px"),height:"calc(100% - ".concat(o,"px)")},children:t})]})}var b=n(58467),D=n(5124);const C={cardContainer:"styles_cardContainer__2ajk5",topGroup:"styles_topGroup__8RAwc",detailGroup:"styles_detailGroup__eMAAn",cardDivider:"styles_cardDivider__OoVSO",moreButton:"styles_moreButton__Px59T",listWrapper:"styles_listWrapper__MFNfD",listItem:"styles_listItem__HNrwv"};var I=n(48119),w=n(19536),k=n(48310),T=n(90891),S=n(2135),N=n(67216),A=n(83213),M=n(32600),P=n(33223),R=n(49709),E=n(78041),B=n(75590),z=n(38037),L=n(68464);const W=(0,m.ZP)((e=>{let{className:t,...n}=e;return(0,v.jsx)(R.Z,{...n,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{["& .".concat(E.Z.tooltip)]:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #dadde9"}}})),G=e=>{const{t:t}=(0,B.$G)();return(0,v.jsxs)(s.ZP,{className:C.cardContainer,children:[(0,v.jsx)(a.Z,{className:C.topGroup,children:(0,v.jsx)(a.Z,{className:C.detailGroup,children:(0,v.jsx)(z.Z,{children:e.courseCategory})})}),(0,v.jsx)(w.Z,{className:C.cardDivider}),(0,v.jsxs)(k.Z,{className:C.listWrapper,children:[(0,v.jsx)(L.Z,{className:C.courseNameText,colorname:"--blue-3",children:(0,v.jsx)(T.Z,{component:S.rU,to:_._.student.course.information.replace(":courseId",e.courseId),underline:"hover",color:"inherit",children:e.courseName})}),e.teacherList.slice(0,2).map((e=>(0,v.jsxs)(N.ZP,{className:C.listItem,children:[(0,v.jsx)(M.Z,{children:(0,v.jsx)(I.Z,{alt:e.firstName,src:""})}),(0,v.jsx)(A.Z,{primary:(0,v.jsxs)(T.Z,{component:S.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))]}),e.teacherList.length>2?(0,v.jsx)(W,{placement:"right-end",title:(0,v.jsx)(k.Z,{children:e.teacherList.map((e=>(0,v.jsxs)(N.ZP,{className:C.tooltipTeacherList,children:[(0,v.jsx)(M.Z,{children:(0,v.jsx)(I.Z,{alt:e.firstName,src:""})}),(0,v.jsx)(A.Z,{primary:(0,v.jsxs)(T.Z,{component:S.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))}),slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-14]}}]}},children:(0,v.jsx)(P.Z,{className:C.moreButton,"translation-key":"course_see_all_teacher",children:t("course_see_all_teacher")})}):null]})},Q={pageTitle:"styles_pageTitle__ILFgQ",featureGroup:"styles_featureGroup__kKo7W",changeViewButtonGroup:"styles_changeViewButtonGroup__xVORm",filterContainer:"styles_filterContainer__ioJH4",coursesBody:"styles_coursesBody__AnqJ+"};var F=n(55719),U=n(43960),H=n(30961),O=n(48571);const V={container:"styles_container__uG1Au",courseInfo:"styles_courseInfo__mt0th",teacherItemText:"styles_teacherItemText__wUsgF",teacherListGridContainer:"styles_teacherListGridContainer__YRKxT",teacherAvatarContainer:"styles_teacherAvatarContainer__eVodn",teacherAvatar:"styles_teacherAvatar__oS9kv",primaryTeacherText:"styles_primaryTeacherText__0chUn",secondaryTeacherText:"styles_secondaryTeacherText__Drrwe"},Y=e=>(0,v.jsx)(s.ZP,{className:V.container,children:(0,v.jsx)(s.ZP,{container:!0,spacing:1,children:(0,v.jsxs)(s.ZP,{item:!0,xs:12,container:!0,direction:"column",children:[(0,v.jsx)(s.ZP,{item:!0,xs:!0,className:V.courseInfo,children:(0,v.jsx)(a.Z,{className:V.courseInfoWrapper,children:(0,v.jsx)(z.Z,{gutterBottom:!0,variant:"subtitle1",colorname:"--blue-3",children:(0,v.jsxs)(T.Z,{component:S.rU,to:_._.student.course.information.replace(":courseId",e.courseId),underline:"hover",color:"inherit",children:[e.courseName," - ",e.courseCategory]})})})}),(0,v.jsx)(s.ZP,{item:!0,xs:!0,className:V.teacherListGridContainer,children:e.teacherList.map((e=>(0,v.jsxs)(N.ZP,{children:[(0,v.jsx)(M.Z,{className:V.teacherAvatarContainer,children:(0,v.jsx)(I.Z,{className:V.teacherAvatar,alt:e.firstName,src:""})}),(0,v.jsx)(A.Z,{classes:{primary:V.primaryTeacherText,secondary:V.secondaryTeacherText},primary:(0,v.jsxs)(T.Z,{component:S.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))})]})})});var $=n(96743),J=n(31845),K=n(85281),q=n(6968),X=n(4094),ee=n(1229),te=function(e){return e[e.cardView=1]="cardView",e[e.listView=2]="listView",e}(te||{});const ne=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!1),[m,u]=(0,i.useState)([]),[_,x]=(0,i.useState)(te.listView),{loggedUser:h}=(0,ee.Z)(),g=(0,i.useCallback)((async()=>{d(!0);try{const e=await q._.getCourseTypes();r(e.courseTypes)}catch(e){console.error("Failed to fetch course types",e)}finally{d(!1)}}),[]),p=(0,i.useCallback)((async t=>{let{search:n=e,courseType:s=m,pageNo:a=0,pageSize:i=10}=t;if(null!==h&&void 0!==h&&h.userId){d(!0);try{const e=await X.E.getAllCourseByUserId(h.userId,{search:n,courseType:s,pageNo:a,pageSize:i});l(e.courses)}catch(r){console.error("Failed to fetch courses",r)}finally{d(!1)}}}),[e,m,null===h||void 0===h?void 0:h.userId]);(0,i.useEffect)((()=>{g()}),[]),(0,i.useEffect)((()=>{null!==h&&void 0!==h&&h.userId&&p({search:e,courseType:m})}),[e,m,null===h||void 0===h?void 0:h.userId,p]);const y=(0,i.useCallback)(((e,t)=>{x(t)}),[]),j=(0,i.useCallback)((t=>{u(t),p({search:e,courseType:t})}),[p,e]),{t:Z}=(0,B.$G)(),f=(0,i.useMemo)((()=>m.length?o.filter((e=>m.includes(e.courseType.name))):o),[o,m]);return(0,v.jsxs)(a.Z,{id:Q.coursesBody,children:[(0,v.jsx)(J.Z,{className:Q.pageTitle,"translation-key":"course_list_title",children:Z("course_list_title")}),(0,v.jsx)(D.Z,{onSearchClick:t}),c?(0,v.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,v.jsx)(K.Z,{})}):(0,v.jsxs)(a.Z,{className:Q.featureGroup,children:[(0,v.jsx)(a.Z,{className:Q.filterContainer,children:(0,v.jsx)($.Z,{label:Z("course_filter"),defaultChipList:n.map((e=>e.name)),filterList:m,onFilterListChangeHandler:j,"translation-key":"course_filter"})}),(0,v.jsxs)(F.Z,{className:Q.changeViewButtonGroup,value:_,exclusive:!0,onChange:y,children:[(0,v.jsx)(U.Z,{value:te.listView,"aria-label":"list",children:(0,v.jsx)(H.Z,{})}),(0,v.jsx)(U.Z,{value:te.cardView,"aria-label":"module",children:(0,v.jsx)(O.Z,{})})]})]}),(0,v.jsx)(a.Z,{sx:{flexGrow:1,marginTop:_===te.cardView?"0":"20px"},className:Q.gridContainer,children:(0,v.jsx)(s.ZP,{container:!0,spacing:_===te.cardView?2:4,children:f.map((e=>(0,v.jsx)(s.ZP,{item:!0,xs:12,sm:_===te.cardView?6:12,md:_===te.cardView?4:12,lg:_===te.cardView?3:12,children:_===te.cardView?(0,v.jsx)(G,{courseId:e.id,courseAvatarUrl:"https://picsum.photos/200",courseCategory:e.courseType.name,courseName:e.name,teacherList:e.teachers}):(0,v.jsx)(Y,{courseId:e.id,courseAvatarUrl:"https://picsum.photos/200",courseCategory:e.courseType.name,courseName:e.name,teacherList:e.teachers})},e.id)))})})]})};var se=n(5211),ae=n(80240),ie=n(18708),re=n(99140),oe=n(37735),le=n(10658),ce=n.n(le),de=n(65033),me=n(97707),ue=n(83929),_e=n(74268),xe=n(15535),he=n(89990),ge=n(16977),pe=n(92556),ve=n(99221);const ye="styles_formBody__xmvl2",je="styles_textEditor__XF+Mz";var Ze=n(38556),fe=n(70816),be=n.n(fe);const De=e=>{let{data:t,handleChangData:n,open:r,title:o,handleClose:l,children:c,cancelText:d,confirmText:m,onHandleCancel:u,onHanldeConfirm:_,...x}=e;const h=(0,i.useCallback)((()=>{n({isExpanded:!t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,eventDescription:t.eventDescription,start:t.start,end:t.end,allDay:t.allDay})}),[t,n]),{height:g}=(0,Ze.Z)(),{t:p}=(0,B.$G)();return(0,v.jsx)(he.Z,{open:r,handleClose:l,title:o,cancelText:d,confirmText:m,onHandleCancel:u,onHanldeConfirm:_,minWidth:"800px",maxHeight:"".concat(.6*g,"px"),...x,children:(0,v.jsxs)(a.Z,{component:"form",className:ye,autoComplete:"off",children:[(0,v.jsx)(ge.Z,{type:"text",title:p("calendar_event_name"),"translation-key":"calendar_event_name",value:t.eventTitle,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:e.target.value,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription})}}),(0,v.jsxs)(s.ZP,{container:!0,spacing:1,columns:12,children:[(0,v.jsx)(s.ZP,{item:!0,xs:3,children:(0,v.jsx)(ve.Z,{"translation-key":"calendar_event_date",children:p("calendar_event_date")})}),(0,v.jsx)(s.ZP,{item:!0,xs:9,children:(0,v.jsx)(xe.Z,{value:be()(t.start),onHandleValueChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:(null===e||void 0===e?void 0:e.toString())||"",end:t.end,allDay:t.allDay,eventDescription:t.eventDescription})}})})]}),(0,v.jsxs)(s.ZP,{container:!0,spacing:1,columns:12,children:[(0,v.jsx)(s.ZP,{item:!0,xs:3,children:(0,v.jsx)(ve.Z,{"translation-key":"calendar_event_type",children:p("calendar_event_type")})}),(0,v.jsx)(s.ZP,{item:!0,xs:9,"translation-key":"calendar_event_type_user",children:p("calendar_event_type_user")})]}),(0,v.jsx)(re.Z,{"translation-key":["calendar_event_collapse","calendar_event_expand"],btnType:re.s.Text,onClick:h,width:"fit-content",padding:"0px",children:t.isExpanded?"".concat(p("calendar_event_collapse"),"..."):"".concat(p("calendar_event_expand"),"...")}),(0,v.jsxs)(de.Z,{in:t.isExpanded,children:[(0,v.jsxs)(s.ZP,{container:!0,spacing:1,columns:12,children:[(0,v.jsx)(s.ZP,{item:!0,xs:3,children:(0,v.jsx)(ve.Z,{"translation-key":"detail_problem_description",children:p("detail_problem_description")})}),(0,v.jsx)(s.ZP,{item:!0,xs:9,className:je,children:(0,v.jsx)(pe.Z,{value:t.eventDescription,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:e})}})})]}),(0,v.jsxs)(s.ZP,{container:!0,spacing:1,columns:12,sx:{marginTop:"30px"},children:[(0,v.jsx)(s.ZP,{item:!0,xs:3,sx:{marginTop:"10px"},children:(0,v.jsx)(ve.Z,{"translation-key":"calendar_event_time_range",children:p("calendar_event_time_range")})}),(0,v.jsx)(s.ZP,{item:!0,xs:9,children:(0,v.jsxs)(me.Z,{"aria-label":"duration",name:"duration",value:t.durationRadioIndex,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:e.target.value,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription})},children:[(0,v.jsx)(ue.Z,{value:"0",control:(0,v.jsx)(_e.Z,{}),label:p("calendar_event_name_time_no_range"),"translation-key":"calendar_event_name_time_no_range"},0),(0,v.jsx)(ue.Z,{value:"1",control:(0,v.jsx)(_e.Z,{}),label:p("calendar_event_name_time_till"),"translation-key":"calendar_event_name_time_till"},1),(0,v.jsx)(xe.Z,{value:be()(t.end),onHandleValueChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:(null===e||void 0===e?void 0:e.toString())||"",allDay:t.allDay,eventDescription:t.eventDescription})},disabled:"1"!==t.durationRadioIndex}),(0,v.jsx)(ue.Z,{value:"2",control:(0,v.jsx)(_e.Z,{}),label:p("calendar_event_name_time_minute"),"translation-key":"calendar_event_name_time_minute"},2),(0,v.jsx)(ge.Z,{type:"number",value:t.durationInMinute,onChange:e=>{const s=ce()(t.start).add(Number(e.target.value),"minute").toString();n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:Number(e.target.value),eventTitle:t.eventTitle,start:t.start,end:s,allDay:t.allDay,eventDescription:t.eventDescription})},disabled:"2"!==t.durationRadioIndex,maxWith:"200px"})]})})]})]})]})})},Ce="styles_calendarBody__h+Yva";var Ie=n(19860),we=n(15300);const ke=()=>{const{t:e}=(0,B.$G)(),t=(0,Ie.Z)(),n=(0,we.Z)(t.breakpoints.down("sm")),[r,o]=(0,i.useState)({isExpanded:!1,durationRadioIndex:"0",durationInMinute:0,eventTitle:"",eventDescription:"",start:"",end:"",allDay:!1,isAddEventDialogOpen:!1,selectDateInfo:null,filterCourse:"0",currentEvents:[{id:(0,ie.J)(),title:"S\u1ef1 ki\u1ec7n n\u1ed9p b\xe0i nh\u1eadp m\xf4n l\u1eadp tr\xecnh",start:"2024-02-28",end:"2024-03-02",allDay:!0,description:"N\u1ed9p b\xe0i t\u1eadp l\u1edbn"},{id:(0,ie.J)(),title:"S\u1ef1 ki\u1ec7n thi cu\u1ed1i k\xec nh\u1eadp m\xf4n l\u1eadp tr\xecnh",start:"2024-02-20",end:"2024-02-22",allDay:!0,description:"Thi cu\u1ed1i k\xec"}]}),l=(0,i.useCallback)((e=>{o((t=>({...t,start:e.startStr,selectDateInfo:e,isAddEventDialogOpen:!0})))}),[]),c=(0,i.useCallback)((()=>{o((e=>({...e,isAddEventDialogOpen:!0,selectDateInfo:null,eventTitle:"",start:ce()().toString(),end:ce()().toString()})))}),[]),d=(0,i.useCallback)((()=>{o((e=>({...e,isAddEventDialogOpen:!1})))}),[]),m=(0,i.useCallback)((()=>{o((e=>{var t,n,s;return{...e,currentEvents:[...e.currentEvents,{id:(0,ie.J)(),title:e.eventTitle,start:(null===(t=r.selectDateInfo)||void 0===t?void 0:t.startStr)||"",end:(null===(n=r.selectDateInfo)||void 0===n?void 0:n.endStr)||"",allDay:(null===(s=r.selectDateInfo)||void 0===s?void 0:s.allDay)||!1,description:e.eventDescription}]}})),d()}),[d,r.selectDateInfo]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(De,{open:r.isAddEventDialogOpen,handleClose:()=>{d(),o((e=>({...e,isExpanded:!1})))},data:r,handleChangData:e=>{o((t=>({...t,isExpanded:e.isExpanded,durationRadioIndex:e.durationRadioIndex,durationInMinute:e.durationInMinute,eventTitle:e.eventTitle,start:e.start,end:e.end,allDay:e.allDay})))},title:e("calendar_add_event"),cancelText:e("common_cancel"),confirmText:e("common_add"),onHandleCancel:()=>{d(),o((e=>({...e,isExpanded:!1})))},"translation-key":["calendar_add_event","common_add","common_cancel"],onHanldeConfirm:()=>{m()}}),(0,v.jsxs)(a.Z,{id:Ce,children:[(0,v.jsx)(J.Z,{"translation-key":"calendar_title",children:e("calendar_title")}),(0,v.jsx)(w.Z,{}),(0,v.jsx)(a.Z,{sx:{marginBottom:"10px"},children:(0,v.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",direction:n?"column":"row",children:[(0,v.jsx)(s.ZP,{item:!0,xs:12,sm:12,md:6,children:(0,v.jsx)(oe.Z,{labelId:"select-assignment-section-label",value:r.filterCourse,onHandleChange:e=>{o((t=>({...t,filterCourse:e})))},sx:{width:"100%"},items:[{value:"0",label:e("calendar_all_course")},{value:"1",label:"Nh\u1eadp m\xf4n l\u1eadp tr\xecnh"},{value:"2",label:"L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng"}],"translation-key":"calendar_all_course"})}),(0,v.jsx)(s.ZP,{item:!0,xs:12,sm:12,md:6,container:!0,justifyContent:n?"flex-start":"flex-end",children:(0,v.jsx)(re.Z,{btnType:re.s.Outlined,onClick:()=>{c()},startIcon:(0,v.jsx)(se.Z,{}),"translation-key":"calendar_add_event",children:e("calendar_add_event")})})]})}),(0,v.jsx)(a.Z,{children:(0,v.jsx)(ae.Z,{events:r.currentEvents,handleDateSelect:l})})]})]})};var Te=n(95861),Se=n(65280);const Ne="styles_tabWrapper__+a-qb",Ae="styles_tabs__gJ-AS",Me="styles_courseDetailBody__fOwQH",Pe="styles_eventContainer__T+KKm",Re="styles_eventTitle__BePsu",Ee="styles_eventList__npe4e",Be="styles_gridContainer__G5n2c",ze="styles_courseImgCardContainer__5gn1s",Le="styles_courseImage__W99bw",We="styles_classNameOverlay__o2NLT",Ge="styles_gridBodyContainer__kqLOR",Qe="styles_resourceAccordionContainer__ETyaw",Fe="styles_resourceSummaryContainer__Iih5i",Ue="styles_resourceSummaryText__T8xBG",He="styles_accordDetail__6E-mQ",Oe="styles_topicWrapper__7lftG";var Ve=n(73428),Ye=n(16957),$e=n(47131),Je=n(61113),Ke=n(52769),qe=n(98492),Xe=n(41872),et=n(6306),tt=n(19425);const nt={container:"styles_container__EpQSL",linkContainer:"styles_linkContainer__nOBd-",resourceName:"styles_resourceName__YKlBK",imageContainer:"styles_imageContainer__yyYif",imageContainerAssignment:"styles_imageContainerAssignment__GRGda"};var st=n(68357);const at=e=>{let t;switch(e.type){case tt.Q.assignment:t=st.Z.course.courseAssignment;break;case tt.Q.file:t=(e=>{var t;const n=(null===(t=e.split(".").pop())||void 0===t?void 0:t.split("?")[0])||"";return["jpg","jpeg","png","gif","bmp","tiff"].includes(n.toLowerCase())?st.Z.course.courseImage:"pdf"===n.toLowerCase()?st.Z.course.coursePDF:"docx"===n.toLowerCase()?st.Z.course.courseDOC:"xlsx"===n.toLowerCase()?st.Z.course.courseXLS:"ppt"===n.toLowerCase()?st.Z.course.coursePPT:st.Z.course.courseFile})(e.content);break;case tt.Q.url:t=st.Z.course.courseUrl;break;default:return null}return(0,v.jsx)(a.Z,{className:nt.container,children:(0,v.jsx)(s.ZP,{container:!0,children:(0,v.jsxs)(T.Z,{component:S.rU,to:(t=>{switch(t){case tt.Q.assignment:return _._.student.assignment.detail.replace(":assignmentId",e.assignmentId).replace(":courseId",e.courseId);case tt.Q.file:case tt.Q.url:return e.content;default:return"/"}})(e.type),underline:"hover",className:nt.linkContainer,children:[(0,v.jsx)(s.ZP,{item:!0,children:(0,v.jsx)("img",{className:nt.imageResourse,src:t,alt:"Resource"})}),(0,v.jsx)(s.ZP,{item:!0,children:(0,v.jsx)(Je.Z,{color:"#0f6cbf",className:nt.resourceName,children:e.name})})]})})})};var it=n(65537),rt=n(15067),ot=n(52545);const lt=()=>{const{t:e}=(0,B.$G)(),[t,n]=(tt.Q.assignment,tt.Q.assignment,tt.Q.file,tt.Q.assignment,tt.Q.assignment,tt.Q.assignment,tt.Q.file,tt.Q.file,tt.Q.assignment,tt.Q.file,tt.Q.assignment,tt.Q.assignment,tt.u.submitted,tt.Q.assignment,tt.u.notSubmitted,tt.Q.assignment,tt.u.notSubmitted,tt.Q.assignment,tt.u.submitted,(0,i.useState)([])),r=(0,it.I0)(),o=(0,it.v9)((e=>e.section)),{courseId:l}=(0,b.UO)();(0,i.useEffect)((()=>{(async()=>{r((0,ot.K4)(!0));try{if(l){const e=await rt.N.getSectionsByCourseId(l);r((0,ot.by)(e)),r((0,ot.K4)(!1))}else console.error("courseId is undefined"),r((0,ot.K4)(!1))}catch(e){console.error("Failed to fetch sections",e),r((0,ot.K4)(!1))}})()}),[]);const c=e=>{switch(e){case"Files":default:return tt.Q.file;case"Assignments":return tt.Q.assignment;case"URLs":return tt.Q.url;case"Quizzes":return tt.Q.exam}};return(0,v.jsxs)(s.ZP,{container:!0,spacing:1,className:Be,children:[(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsxs)(Ve.Z,{className:ze,children:[(0,v.jsx)(Ye.Z,{component:"img",className:Le,src:"https://picsum.photos/1800/300"}),(0,v.jsx)(Je.Z,{variant:"h1",className:We,children:"T\xean kh\xf3a h\u1ecdc d\xe0i"})]})}),o.isLoading?(0,v.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,v.jsx)(K.Z,{})}):(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(a.Z,{margin:1,padding:0,children:(0,v.jsx)(s.ZP,{container:!0,className:Ge,children:(0,v.jsx)(s.ZP,{item:!0,className:Oe,xs:12,children:o.sections.map(((e,s)=>{const i=void 0===t[s]||Boolean(t[s]);return(0,v.jsx)(a.Z,{children:(0,v.jsxs)(Ke.Z,{expanded:i,className:Qe,children:[(0,v.jsx)(qe.Z,{expandIcon:(0,v.jsx)(a.Z,{children:(0,v.jsx)($e.Z,{onClick:()=>(e=>{void 0===t[e]?n((t=>({...t,[e]:!1}))):n((t=>({...t,[e]:!Boolean(t[e])})))})(s),style:{transform:"rotate(".concat(i?0:180,"deg)")},children:(0,v.jsx)(et.Z,{})})}),className:Fe,children:(0,v.jsx)(Je.Z,{className:Ue,align:"center",children:e.name})}),(0,v.jsx)(Xe.Z,{className:He,children:e.modules.map(((e,t)=>(0,v.jsx)(at,{courseId:l||"",assignmentId:e.assignmentId,name:e.name,type:c(e.typeModule),content:e.content},t)))})]})},s)}))})})})})]})},ct={},dt={container:"styles_container__YC9pW",linkContainer:"styles_linkContainer__C0Vuf"},mt=e=>{let t;switch(e.type){case tt.Q.assignment:t=st.Z.course.courseAssignment;break;case tt.Q.file:t=st.Z.course.courseFile;break;default:return null}return(0,v.jsx)(a.Z,{className:dt.container,children:(0,v.jsx)(s.ZP,{container:!0,children:(0,v.jsxs)(T.Z,{component:S.rU,to:"#",underline:"hover",className:dt.linkContainer,children:[(0,v.jsx)(s.ZP,{item:!0,children:(0,v.jsx)("img",{src:t,alt:"Resource"})}),(0,v.jsx)(s.ZP,{item:!0,children:(0,v.jsx)(Je.Z,{className:dt.resourceName,children:e.name})})]})})})};var ut=n(70501);const _t="styles_container__4j7XU",xt="styles_courseDetail__IpFgC",ht="styles_exportButton__Bsv8J",gt="styles_textBadge__tqPrT",pt="styles_badgeTypoText__vapXJ";var vt=n(41835);const yt=()=>{const{t:e}=(0,B.$G)();return(0,v.jsx)(ut.Z,{className:_t,children:(0,v.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsxs)(a.Z,{className:xt,children:[(0,v.jsxs)(a.Z,{children:[(0,v.jsx)(Je.Z,{variant:"h4",children:"T\xean kh\xf3a h\u1ecdc"}),(0,v.jsx)(Je.Z,{sx:{color:"var(--gray-50)"},children:"m\xf4 t\u1ea3 kh\xf3a h\u1ecdc"})]}),(0,v.jsx)(P.Z,{startIcon:(0,v.jsx)(vt.Z,{}),variant:"outlined",className:ht,"translation-key":"common_data_export",children:e("common_data_export")})]})}),(0,v.jsxs)(s.ZP,{item:!0,xs:2,sx:{m:1},children:[(0,v.jsx)(Je.Z,{sx:{color:"var(--gray-50)"},"translation-key":"course_grade_average",children:e("course_grade_average")}),(0,v.jsx)(a.Z,{component:"span",className:gt,sx:{backgroundColor:"var(--green-200)"},children:(0,v.jsx)(Je.Z,{variant:"h5",className:pt,children:"100"})})]}),(0,v.jsxs)(s.ZP,{item:!0,xs:2,sx:{m:1},children:[(0,v.jsx)(Je.Z,{sx:{color:"var(--gray-50)"},"translation-key":"course_grade_submitted",children:e("course_grade_submitted")}),(0,v.jsx)(a.Z,{component:"span",className:gt,sx:{backgroundColor:"var(--blue-200)"},children:(0,v.jsx)(Je.Z,{variant:"h5",className:pt,children:"7"})})]})]})})};var jt=n(11053);const Zt=()=>{const{t:e}=(0,B.$G)(),t=[{id:1,type:tt.Q.assignment,item:"B\xe0i t\u1eadp 1",weight:0,grade:void 0,range:100,percentage:10},{id:2,type:tt.Q.assignment,item:"B\xe0i t\u1eadp 2",weight:0,grade:10,range:100},{id:3,type:tt.Q.assignment,item:"B\xe0i t\u1eadp 3",weight:0,grade:10,range:100},{id:4,type:tt.Q.assignment,item:"B\xe0i ki\u1ec3m tra 1",weight:0,grade:10,range:100},{id:5,type:tt.Q.assignment,item:"B\xe0i ki\u1ec3m tra 2",weight:0,grade:10,range:100},{id:6,type:tt.Q.assignment,item:"B\xe0i ki\u1ec3m tra 3",weight:0,grade:10,range:100}],n=[{field:"id",headerName:"STT",minWidth:1},{field:"item",headerName:e("course_grade_grid_topic"),width:200,flex:.2,disableColumnMenu:!0,renderCell:e=>(0,v.jsx)(T.Z,{component:S.rU,to:"".concat(e.row.id),children:(0,v.jsx)(mt,{name:e.value,type:e.row.type})})},{field:"type",headerName:e("course_grade_topic_type"),minWidth:1,flex:.2,renderCell:e=>(0,v.jsx)(Je.Z,{children:e.value===tt.Q.assignment?"B\xe0i t\u1eadp":e.value===tt.Q.file?"File":"URL"})},{field:"weight",headerName:e("course_grade_weight"),minWidth:50,disableColumnMenu:!0,flex:.2},{field:"grade",headerName:e("common_grade"),minWidth:50,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,v.jsxs)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[Number(e.value)?(0,v.jsx)(Je.Z,{fontSize:18,children:e.value}):(0,v.jsx)(Je.Z,{fontSize:18,children:"_"}),"/",e.row.range]})},{field:"range",headerName:e("course_grade_range"),minWidth:50,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,v.jsx)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:Number(e.value)?e.value:"_"})},{field:"percentage",headerName:e("common_percentage"),minWidth:50,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,v.jsx)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:Number(e.value)?"".concat(e.value,"%"):"_"})},{field:"feedback",headerName:e("course_grade_response"),minWidth:200,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,v.jsx)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:Number(e.value)?"".concat(e.value,"%"):"_"})}];return(0,v.jsxs)(s.ZP,{container:!0,spacing:1,className:ct.gridContainer,children:[(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(J.Z,{"translation-key":"course_grade_title",children:e("course_grade_title")})}),(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(yt,{})}),(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(jt.Z,{dataList:t,tableHeader:n,onSelectData:(e,t)=>{},visibleColumn:{id:!1,type:!0,item:!0,grade:!0,weight:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!0,onClickRow:e=>{console.log(e)}})})]})};var ft=n(1550),bt=n(15103),Dt=n(88797),Ct=n(51405);const It="style_container__UTzF1",wt="style_searchWrapper__6B5pf",kt="style_colSearchContainer__zENll",Tt=()=>{const[e,t]=(0,i.useState)("name"),{t:n}=(0,B.$G)();return(0,v.jsxs)(ut.Z,{className:It,children:[(0,v.jsxs)(a.Z,{className:wt,children:[(0,v.jsx)(D.Z,{onSearchClick:e=>{console.log(e)}}),(0,v.jsxs)(ft.Z,{className:kt,children:[(0,v.jsx)(bt.Z,{id:"colSearch","translation-key":"common_find_by_col",children:n("common_find_by_col")}),(0,v.jsxs)(Dt.Z,{labelId:"colSearch",id:"colSearchSelect",value:e,onChange:(e,n)=>{t(e.target.value)},label:n("common_find_by_col"),"translation-key":"common_find_by_col",children:[(0,v.jsx)(Ct.Z,{value:"name","translation-key":"common_name",children:n("common_name")}),(0,v.jsx)(Ct.Z,{value:"emai",children:"Email"}),(0,v.jsx)(Ct.Z,{value:"role","translation-key":"common_role",children:n("common_role")})]})]})]}),(0,v.jsx)(re.Z,{btnType:re.s.Primary,startIcon:(0,v.jsx)(vt.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},"translation-key":"common_data_export",children:n("common_data_export")})]})};var St=n(66123);const Nt=()=>{const[e,t]=(0,i.useState)(""),n=(0,it.I0)(),r=(0,it.v9)((e=>e.courseUser)),[o,l]=(0,i.useState)(0),[c,d]=(0,i.useState)(10),{courseId:m}=(0,b.UO)(),u=async t=>{let{search:s=e,pageNo:a=o,pageSize:i=c}=t;n((0,St.K4)(!0));try{const e=await X.E.getUserByCourseId(null!==m&&void 0!==m?m:"",{search:s,pageNo:a,pageSize:i});n((0,St.Z$)(e)),n((0,St.K4)(!1))}catch(r){console.error("Failed to fetch course user",r),n((0,St.K4)(!1))}};(0,i.useEffect)((()=>{u({search:e})}),[e]);const{t:_}=(0,B.$G)(),x=[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:_("common_fullname"),width:200,flex:.8,renderCell:e=>(0,v.jsx)(T.Z,{component:S.rU,to:"".concat(e.row.id),children:e.value})},{field:"email",headerName:"Email",width:200,flex:.8},{field:"roles",headerName:_("common_role"),width:50,flex:.4}];return(0,v.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(J.Z,{"translation-key":"course_participant_title",children:_("course_participant_title")})}),(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(Tt,{})}),r.isLoading?(0,v.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,v.jsx)(K.Z,{})}):(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(jt.Z,{dataList:r.users.map(((e,t)=>({id:e.userId,name:e.firstName+" "+e.lastName,email:e.email,roles:e.role}))),tableHeader:x,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},getRowClassName:e=>0===e.row.id?"even-row":"odd-row",page:o,pageSize:c,totalElement:r.totalItems,onPaginationModelChange:(t,n)=>{l(t.page),d(t.pageSize),u({search:e,pageNo:t.page,pageSize:t.pageSize})},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})})]})},At="styles_assignmentBody__oxqX3",Mt="styles_assignmentsWrapper__XeP8H",Pt="styles_topic__Z9I7S";var Rt=n(33099),Et=n(2119);const Bt={container:"styles_container__dvI-l",accordionContainer:"styles_accordionContainer__oi8+8",announcementSubject:"styles_announcementSubject__2VljV","MuiInputBase-root":"styles_MuiInputBase-root__QZOmD",imageResource:"styles_imageResource__KFp7T",titleContainer:"styles_titleContainer__9WQWx",title:"styles_title__0jO5T"};var zt=n(80007),Lt=n(83789);const Wt=e=>{let{resourceTitle:t,resourceEndedDate:n,courseId:s,examId:r,intro:o,type:l}=e;const{t:c}=(0,B.$G)(),[d,m]=(0,i.useState)(!1);l=l||Lt._.assignment;const u=(0,b.s0)();return(0,v.jsx)(a.Z,{className:Bt.container,children:(0,v.jsxs)(Ke.Z,{expanded:d,className:Bt.accordionContainer,children:[(0,v.jsxs)(qe.Z,{className:Bt.accordionDetails,onClick:()=>{m(!0)},children:[(0,v.jsxs)(a.Z,{className:Bt.titleContainer,children:[(0,v.jsx)("img",{src:l==Lt._.assignment?st.Z.course.assignmentIcon:st.Z.course.quizIcon,className:Bt.imageResource,alt:"assignment"}),(0,v.jsx)(zt.Z,{children:t})]}),(0,v.jsxs)(zt.Z,{"translation-key":"course_assignment_deadline",children:[c("course_assignment_deadline"),": ",ce()(n).format("DD/MM/YYYY")]})]}),(0,v.jsx)(Xe.Z,{children:(0,v.jsx)(pe.Z,{value:o,readOnly:!0})}),(0,v.jsxs)(Et.Z,{children:[(0,v.jsx)(re.Z,{btnType:re.s.Text,onClick:()=>{m(!1)},"translation-key":"common_cancel",children:c("common_cancel")}),(0,v.jsx)(re.Z,{btnType:re.s.Primary,onClick:()=>{l===Lt._.assignment?u(_._.student.assignment.detail.replace(":courseId",null!==s&&void 0!==s?s:"").replace(":assignmentId",null!==r&&void 0!==r?r:"")):u(_._.student.exam.detail.replace(":courseId",null!==s&&void 0!==s?s:"").replace(":examId",null!==r&&void 0!==r?r:""))},"translation-key":"course_assignment_detail",children:c("course_assignment_detail")})]})]})})};var Gt=n(74512),Qt=n(79720),Ft=n(16705),Ut=n(44597);const Ht=()=>{const e=(0,it.I0)(),t=(0,it.v9)((e=>e.exam)),n=(0,it.v9)((e=>e.assignment)),{courseId:r}=(0,b.UO)();(0,i.useEffect)((()=>{(async t=>{try{const n=await Gt.O.getExamsByCourseId(t);e((0,Qt.u6)(n))}catch(n){console.log(n)}})(null!==r&&void 0!==r?r:""),(async t=>{try{const n=await Ft.Y.getAssignmentsByCourseId(t);e((0,Ut.Uv)(n))}catch(n){console.log(n)}})(null!==r&&void 0!==r?r:""),console.log("examState",t.exams)}),[]);const{t:o}=(0,B.$G)();(0,b.s0)();return(0,v.jsxs)(a.Z,{className:At,children:[(0,v.jsx)(J.Z,{"translation-key":"course_detail_assignment_list",children:o("course_detail_assignment_list")}),(0,v.jsx)(s.ZP,{container:!0,children:(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(D.Z,{onSearchClick:e=>{console.log(e)}})})}),(0,v.jsxs)(a.Z,{className:Mt,children:[(0,v.jsxs)(a.Z,{className:Pt,children:[(0,v.jsx)(Rt.Z,{"translation-key":"course_detail_assignment",children:o("course_detail_assignment")}),n.assignments.map((e=>(0,v.jsx)(Wt,{courseId:r,examId:e.id,resourceTitle:e.title,resourceEndedDate:e.timeClose,intro:e.intro,type:Lt._.assignment})))]}),(0,v.jsxs)(a.Z,{className:Pt,children:[(0,v.jsx)(Rt.Z,{"translation-key":"course_detail_exam",children:o("course_detail_exam")}),t.exams.exams.map((e=>(0,v.jsx)(Wt,{courseId:r,examId:e.id,resourceTitle:e.name,resourceEndedDate:e.timeClose,intro:e.intro,type:Lt._.exam})))]})]})]})};var Ot=n(89790),Vt=n(63408);const Yt={assignmentBody:"styles_assignmentBody__uG9uk",assignmentsWrapper:"styles_assignmentsWrapper__vxBIy",topic:"styles_topic__GUyXY",assignmentTitle:"styles_assignmentTitle__Ub-KQ",assignmentIcon:"styles_assignmentIcon__UbipB"};var $t=n(45148),Jt=n(83703);const Kt="styles_successColor__2oV75",qt="styles_dangerBackground__uMDvi",Xt="styles_errorColor__9nVLl";function en(e){let{rows:t}=e;return(0,v.jsx)($t.Z,{variant:"outlined",children:(0,v.jsx)(Jt.Z,{variant:"soft",borderAxis:"bothBetween",hoverRow:!0,children:(0,v.jsx)("tbody",{children:t.map((e=>(0,v.jsxs)("tr",{children:[(0,v.jsx)("th",{scope:"row",style:{width:"30%"},children:e.header}),(0,v.jsx)("td",{className:1===e.status?Kt:0===e.status?Xt:2===e.status?qt:"",children:e.data})]},e.header)))})})})}var tn=n(33060),nn=n(32952),sn=n(33256),an=n(75948),rn=n(33117);const on=()=>{var e,t,n,r,o,l,c,d,m,u,x,h,g,p,y,j,Z,f,D,C,I,k,T,S,N,A,M,P,R,E,z,L,W;const{t:G}=(0,B.$G)(),Q=(0,b.s0)(),{assignmentId:F}=(0,b.UO)(),{courseId:U}=(0,b.UO)(),H=(0,it.v9)((e=>e.assignment)),O=(0,it.v9)((e=>e.submissionAssignment)),V=(0,it.I0)(),Y=(0,it.v9)(rn.HF);function $(e,t){const n=e.getTime()-t.getTime(),s=864e5,a=36e5,i=Math.floor(n/s),r=Math.floor(n%s/a),o=Math.floor(n%a/6e4),l=Math.floor(n%6e4/1e3);return{days:Math.abs(i),hours:Math.abs(r),minutes:Math.abs(o),seconds:Math.abs(l)}}console.log("assignmentState",O.submissionAssignmentDetails),(0,i.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await Ft.Y.getAssignmentById(e);V((0,Ut.QI)(t))}catch(t){console.log(t)}})(null!==F&&void 0!==F?F:"")})(),(async(e,t)=>{try{const n=await sn.J.getSubmissionAssignmentById(e,t);V((0,an.DR)(n))}catch(n){console.log(n)}})(Y.userId,null!==F&&void 0!==F?F:"")}),[]);const K=new Date(null!==(e=null===(t=H.assignmentDetails)||void 0===t?void 0:t.timeClose)&&void 0!==e?e:new Date),q=$(K,new Date),X=$(K,new Date(null!==(n=null===(r=O.submissionAssignmentDetails)||void 0===r?void 0:r.submitTime)&&void 0!==n?n:new Date)),ee=e=>e.days>0?e.days+" "+G("days")+" "+e.hours+" "+G("hours"):e.hours>0?e.hours+" "+G("hours")+" "+e.minutes+" "+G("minutes"):e.minutes+" "+G("minutes")+" "+e.seconds+" "+G("seconds"),te=()=>{var e,t,n,s,a;if(null===(e=O.submissionAssignmentDetails)||void 0===e||!e.submitTime)return 0;return new Date(null!==(t=null===(n=O.submissionAssignmentDetails)||void 0===n?void 0:n.submitTime)&&void 0!==t?t:new Date)<new Date(null!==(s=null===(a=H.assignmentDetails)||void 0===a?void 0:a.timeClose)&&void 0!==s?s:new Date)?1:2};console.log(O.submissionAssignmentDetails);let ne=new Date(null!==(o=null===(l=O.submissionAssignmentDetails)||void 0===l?void 0:l.submitTime)&&void 0!==o?o:new Date),se=new Date(null!==(c=null===(d=H.assignmentDetails)||void 0===d?void 0:d.timeClose)&&void 0!==c?c:new Date);console.log(te()),console.log(ne,se);let ae=[{header:G("course_student_assignment_submission_status"),data:null!==(m=O.submissionAssignmentDetails)&&void 0!==m&&m.submitTime?G("course_student_assignment_submission_status_submitted"):G("course_student_assignment_submission_status_not_submitted"),status:null!==(u=O.submissionAssignmentDetails)&&void 0!==u&&u.submitTime?1:3},{header:G("course_student_assignment_grading_status"),data:null!==(x=O.submissionAssignmentDetails)&&void 0!==x&&x.isGraded?G("course_student_assignment_submission_status_graded"):G("course_student_assignment_submission_status_not_grading"),status:null!==(h=O.submissionAssignmentDetails)&&void 0!==h&&h.isGraded?1:3},{header:G("course_student_assignment_time_remaining"),data:1===te()?G("assignment_submitted")+ee(X)+G("early"):2===te()?G("assignment_submitted_late")+ee(q)+G("late"):new Date(null!==(g=null===(p=H.assignmentDetails)||void 0===p?void 0:p.timeClose)&&void 0!==g?g:new Date)<new Date?G("assignment_overdue")+ee(q):ee(q),status:te()},{header:G("course_student_assignment_last_modified"),data:null!==(y=O.submissionAssignmentDetails)&&void 0!==y&&y.timemodefied?ce()(null===(j=O.submissionAssignmentDetails)||void 0===j?void 0:j.timemodefied).format("DD/MM/YYYY hh:mm:ss A"):"-"}];var ie;null!==(Z=O.submissionAssignmentDetails)&&void 0!==Z&&Z.submissionAssignmentFile&&ae.push({header:G("course_student_assignment_file_submission"),data:(0,v.jsx)(nn.Z,{files:null!==(ie=O.submissionAssignmentDetails.submissionAssignmentFile.files.map((e=>({id:e.id,name:e.fileName,downloadUrl:e.fileUrl,size:e.fileSize,type:e.mimetype,lastModified:new Date(e.timemodified).toLocaleString("en-US",{timeZone:"Asia/Ho_Chi_Minh"})}))))&&void 0!==ie?ie:[],treeView:!1})});null!==(f=O.submissionAssignmentDetails)&&void 0!==f&&f.submissionAssignmentOnlineText&&ae.push({header:G("course_student_assignment_online_text_submission"),data:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:O.submissionAssignmentDetails.submissionAssignmentOnlineText.content||""}})});let oe=[{header:G("course_student_assignment_grade"),data:(null===(D=O.submissionAssignmentDetails)||void 0===D?void 0:D.isGraded)&&(null===(C=O.submissionAssignmentDetails)||void 0===C?void 0:C.grade.toFixed(2))||"-"},{header:G("course_student_assignment_feedback"),data:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===(I=O.submissionAssignmentDetails)||void 0===I?void 0:I.content)||""}})}];return(0,v.jsxs)(a.Z,{className:Yt.assignmentBody,children:[(0,v.jsx)(re.Z,{btnType:re.s.Primary,onClick:()=>{Q(_._.student.course.assignment.replace(":courseId",null!==U&&void 0!==U?U:""))},startIcon:(0,v.jsx)(Ot.Z,{sx:{color:"white"}}),width:"fit-content",children:(0,v.jsx)(zt.Z,{"translation-key":"common_backk",children:G("common_back")})}),(0,v.jsxs)(a.Z,{className:Yt.assignmentTitle,children:[(0,v.jsx)("img",{className:Yt.assignmentIcon,src:st.Z.course.courseAssignment,alt:"assignment"}),(0,v.jsx)(J.Z,{children:null===(k=H.assignmentDetails)||void 0===k?void 0:k.title})]}),(0,v.jsxs)(Ve.Z,{className:Yt.pageActivityHeader,sx:{padding:"10px",backgroundColor:"#F8F9FA"},children:[(0,v.jsxs)(s.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,v.jsx)(s.ZP,{item:!0,children:(0,v.jsxs)(Vt.Z,{fontWeight:"600","translation-key":"course_assignment_detail_open_time",children:[G("course_assignment_detail_open_time"),":"]})}),(0,v.jsx)(s.ZP,{item:!0,children:(0,v.jsx)(zt.Z,{children:null===(T=ce()(null===(S=H.assignmentDetails)||void 0===S?void 0:S.timeOpen))||void 0===T?void 0:T.format("DD/MM/YYYY hh:mm:ss A")})})]}),(0,v.jsxs)(s.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,v.jsx)(s.ZP,{item:!0,children:(0,v.jsxs)(Vt.Z,{fontWeight:"600","translation-key":"course_assignment_detail_close_time",children:[G("course_assignment_detail_close_time"),":"]})}),(0,v.jsx)(s.ZP,{item:!0,children:(0,v.jsx)(zt.Z,{children:null===(N=ce()(null===(A=H.assignmentDetails)||void 0===A?void 0:A.timeClose))||void 0===N?void 0:N.format("DD/MM/YYYY hh:mm:ss A")})})]}),(0,v.jsx)(w.Z,{style:{marginTop:"10px",marginBottom:"10px"}}),(0,v.jsxs)(a.Z,{className:Yt.assignmentDescription,children:[(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===(M=H.assignmentDetails)||void 0===M?void 0:M.intro)||""}}),(0,v.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:(null===(P=H.assignmentDetails)||void 0===P?void 0:P.activity)||""}}),(0,v.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:(null===(R=H.assignmentDetails)||void 0===R?void 0:R.activity)||""}}),(0,v.jsx)(nn.Z,{files:null===(E=H.assignmentDetails)||void 0===E||null===(z=E.introAttachments)||void 0===z?void 0:z.map((e=>({id:e.id,name:e.fileName,downloadUrl:e.fileUrl,size:e.fileSize,type:e.mimetype,lastModified:new Date(e.timemodified).toLocaleString("en-US",{timeZone:"Asia/Ho_Chi_Minh"})})))})]})]}),(0,v.jsx)(tn.Z,{"translation-key":["course_student_assignment_submission_status"],children:G("course_student_assignment_submission_status")}),(0,v.jsx)(en,{rows:ae,"translation-key":["course_student_assignment_submission_status","course_student_assignment_grading_status","course_student_assignment_time_remaining","course_student_assignment_last_modified","course_student_assignment_file_submission","assignment_submitted","assignment_overdue","assignment_submitted_late","late","early"]}),(null===(L=O.submissionAssignmentDetails)||void 0===L?void 0:L.isGraded)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(tn.Z,{"translation-key":["course_student_assignment_grade"],children:G("course_student_assignment_grade")}),(0,v.jsx)(en,{rows:oe,"translation-key":["course_student_assignment_grade","course_student_assignment_feedback"]})]}),!(null!==(W=H.assignmentDetails)&&void 0!==W&&W.moodleId)&&(0,v.jsx)(re.Z,{btnType:re.s.Primary,onClick:()=>{Q(_._.student.assignment.submit.replace(":assignmentId",null!==F&&void 0!==F?F:"").replace(":courseId",null!==U&&void 0!==U?U:""))},width:"fit-content",children:(0,v.jsx)(zt.Z,{"translation-key":"course_assignment_detail_submit",children:G("course_assignment_detail_submit")})})]})};var ln=n(42832),cn=n(71538),dn=n(63366),mn=n(87462),un=n(8007),_n=n(31179),xn=n(23521),hn=n(8990),gn=n(89674),pn=n(39028),vn=n(48114),yn=n(8362),jn=n(60985),Zn=n(19422);function fn(e){return(0,Zn.d6)("MuiLink",e)}const bn=(0,Zn.sI)("MuiLink",["root","disabled","focusVisible","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","focusVisible","variantPlain","variantOutlined","variantSoft","variantSolid","underlineNone","underlineHover","underlineAlways","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs","startDecorator","endDecorator"]);var Dn=n(59500);const Cn=["color","textColor","variant"],In=["children","disabled","onBlur","onFocus","level","overlay","underline","endDecorator","startDecorator","component","slots","slotProps"],wn=(0,vn.Z)("span",{name:"JoyLink",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})((e=>{let{ownerState:t}=e;var n;return(0,mn.Z)({display:"inline-flex",marginInlineEnd:"clamp(4px, var(--Link-gap, 0.375em), 0.75rem)"},"string"!==typeof t.startDecorator&&("flex-start"===t.alignItems||"flex-start"===(null==(n=t.sx)?void 0:n.alignItems))&&{marginTop:"2px"})})),kn=(0,vn.Z)("span",{name:"JoyLink",slot:"endDecorator",overridesResolver:(e,t)=>t.endDecorator})((e=>{let{ownerState:t}=e;var n;return(0,mn.Z)({display:"inline-flex",marginInlineStart:"clamp(4px, var(--Link-gap, 0.25em), 0.5rem)"},"string"!==typeof t.startDecorator&&("flex-start"===t.alignItems||"flex-start"===(null==(n=t.sx)?void 0:n.alignItems))&&{marginTop:"2px"})})),Tn=(0,vn.Z)("a",{name:"JoyLink",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;var s,a,i,r,o,l,c;return[(0,mn.Z)({"--Icon-fontSize":"1.25em","--Icon-color":"currentColor","--CircularProgress-size":"1.25em","--CircularProgress-thickness":"3px"},n.level&&"inherit"!==n.level&&t.typography[n.level],"inherit"===n.level&&{font:"inherit"},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{"@media (hover: hover)":{textDecorationLine:"underline"}}},"always"===n.underline&&{textDecoration:"underline"},n.startDecorator&&{verticalAlign:"bottom"},{textDecorationThickness:"max(0.08em, 1px)",textUnderlineOffset:"0.15em",display:"inline-flex",alignItems:"center",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:t.vars.radius.xs,padding:0,cursor:"pointer",textDecorationColor:"var(--variant-outlinedBorder, rgba(".concat(null==(s=t.vars.palette[n.color])?void 0:s.mainChannel," / var(--Link-underlineOpacity, 0.72)))")},n.variant?(0,mn.Z)({paddingBlock:"min(0.1em, 4px)",paddingInline:"0.25em"},!n.nesting&&{marginInline:"-0.25em"}):{color:"var(--variant-plainColor, rgba(".concat(null==(a=t.vars.palette[n.color])?void 0:a.mainChannel," / 1))"),["&.".concat(bn.disabled)]:{pointerEvents:"none",color:"var(--variant-plainDisabledColor, rgba(".concat(null==(i=t.vars.palette[n.color])?void 0:i.mainChannel," / 0.6))")}},{userSelect:"button"===n.component?"none":void 0,MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},n.overlay?{position:"initial","&::after":{content:'""',display:"block",position:"absolute",top:0,left:0,bottom:0,right:0,borderRadius:"var(--unstable_actionRadius, inherit)",margin:"var(--unstable_actionMargin)"},["".concat(t.focus.selector)]:{"&::after":t.focus.default}}:{position:"relative",[t.focus.selector]:t.focus.default}),n.variant&&(0,mn.Z)({},null==(r=t.variants[n.variant])?void 0:r[n.color],{"&:hover":{"@media (hover: hover)":null==(o=t.variants["".concat(n.variant,"Hover")])?void 0:o[n.color]},"&:active":null==(l=t.variants["".concat(n.variant,"Active")])?void 0:l[n.color],["&.".concat(bn.disabled)]:null==(c=t.variants["".concat(n.variant,"Disabled")])?void 0:c[n.color]})]})),Sn=i.forwardRef((function(e,t){const n=(0,yn.Z)({props:e,name:"JoyLink"}),{color:s="primary",textColor:a,variant:r}=n,o=(0,dn.Z)(n,Cn),l=i.useContext(Dn.FR),c=i.useContext(Dn.eu),d=(0,pn.Z)((0,mn.Z)({},o,{color:a})),{children:m,disabled:u=!1,onBlur:_,onFocus:x,level:h="body-md",overlay:g=!1,underline:p="hover",endDecorator:y,startDecorator:j,component:Z,slots:f={},slotProps:b={}}=d,D=(0,dn.Z)(d,In),C=l||c?e.level||"inherit":h,{isFocusVisibleRef:I,onBlur:w,onFocus:k,ref:T}=(0,xn.Z)(),[S,N]=i.useState(!1),A=(0,hn.Z)(t,T),M=(0,mn.Z)({},d,{color:s,disabled:u,focusVisible:S,underline:p,variant:r,level:C,overlay:g,nesting:l}),P=(e=>{const{level:t,color:n,variant:s,underline:a,focusVisible:i,disabled:r}=e,o={root:["root",n&&"color".concat((0,_n.Z)(n)),r&&"disabled",i&&"focusVisible",t,a&&"underline".concat((0,_n.Z)(a)),s&&"variant".concat((0,_n.Z)(s))],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return(0,un.Z)(o,fn,{})})(M),R=(0,mn.Z)({},D,{component:Z,slots:f,slotProps:b}),[E,B]=(0,jn.Z)("root",{additionalProps:{onBlur:e=>{w(e),!1===I.current&&N(!1),_&&_(e)},onFocus:e=>{k(e),!0===I.current&&N(!0),x&&x(e)}},ref:A,className:P.root,elementType:Tn,externalForwardedProps:R,ownerState:M}),[z,L]=(0,jn.Z)("startDecorator",{className:P.startDecorator,elementType:wn,externalForwardedProps:R,ownerState:M}),[W,G]=(0,jn.Z)("endDecorator",{className:P.endDecorator,elementType:kn,externalForwardedProps:R,ownerState:M});return(0,v.jsx)(Dn.FR.Provider,{value:!0,children:(0,v.jsxs)(E,(0,mn.Z)({},B,{children:[j&&(0,v.jsx)(z,(0,mn.Z)({},L,{children:j})),(0,gn.Z)(m,["Skeleton"])?i.cloneElement(m,{variant:m.props.variant||"inline"}):m,y&&(0,v.jsx)(W,(0,mn.Z)({},G,{children:y}))]}))})}));function Nn(e){let{rows:t,headers:n,examId:s,courseId:a,examMark:i,examGrade:r}=e;const{t:o}=(0,B.$G)(),l=[o("common_january"),o("common_february"),o("common_march"),o("common_april"),o("common_may"),o("common_june"),o("common_july"),o("common_august"),o("common_september"),o("common_october"),o("common_november"),o("common_december")],c=[o("common_sunday"),o("common_monday"),o("common_tuesday"),o("common_wednesday"),o("common_thursday"),o("common_friday"),o("common_saturday")];return(0,v.jsxs)(Jt.Z,{variant:"soft",size:"lg",hoverRow:!0,sx:{backgroundColor:"white","& tbody tr:hover":{backgroundColor:"#f3f3f3"}},children:[(0,v.jsx)("thead",{children:(0,v.jsx)("tr",{children:n.map(((e,t)=>(0,v.jsx)("th",{style:{backgroundColor:"white",borderBottom:"2px solid rgb(128,128,128)"},children:(0,v.jsx)(zt.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e})},t)))})}),(0,v.jsxs)("tbody",{children:[0!==t.length&&t.map(((e,t)=>{const n=new Date(e.submitTime),d="SUBMITTED"===e.status?o("course_lecturer_assignment_submitted"):o("exam_detail_graded");return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:t+1}),(0,v.jsxs)("td",{children:[(0,v.jsx)(zt.Z,{"translation-key":["exam_detail_graded","course_lecturer_assignment_submitted"],fontSize:".875rem",color:"#212121",fontWeight:"600",children:d}),(0,v.jsx)(zt.Z,{fontSize:".75rem",color:"#212121",sx:{opacity:.7},"translation-key":"course_management_exam_submmit_on",children:"".concat(o("course_management_exam_submmit_on")," ").concat(o("common_show_time",{weekDay:c[n.getDay()],day:n.getDate(),month:l[n.getMonth()],year:n.getFullYear(),time:"".concat(n.getHours()<10?"0".concat(n.getHours()):n.getHours(),":").concat(n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes())}))})]}),(0,v.jsx)("td",{children:e.markTotal}),(0,v.jsx)("td",{children:e.markTotal/i*r}),(0,v.jsx)("td",{children:(0,v.jsx)(S.rU,{to:"".concat(_._.student.exam.review.replace(":courseId",a).replace(":examId",s).replace(":submissionId",e.examSubmissionId)),children:(0,v.jsx)(Sn,{"translation-key":"exam_detail_summary_open_review",href:"",underline:"hover",variant:"plain",level:"body-sm",children:o("exam_detail_summary_open_review")})})})]},t)})),0===t.length&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("tr",{children:(0,v.jsx)("td",{colSpan:n.length,style:{textAlign:"center",verticalAlign:"middle"},children:(0,v.jsx)(zt.Z,{"translation-key":"exam_detail_summary_no_attempt",fontSize:".875rem",color:"#212121",fontWeight:"600",children:o("exam_detail_summary_no_attempt")})})})})]})]})}const An={assignmentBody:"styles_assignmentBody__FRJVU",assignmentsWrapper:"styles_assignmentsWrapper__DNq5X",topic:"styles_topic__9jj0t"};var Mn=n(4271),Pn=n(66565),Rn=n(22514),En=n(10850),Bn=n(2959),zn=n(21426),Ln=n(44113);let Wn=function(e){return e[e.success=200]="success",e[e.serverError=500]="serverError",e[e.notFound=404]="notFound",e[e.badRequest=400]="badRequest",e}({});var Gn=n(90182);const Qn=e=>{const{t:t}=(0,B.$G)(),n=(0,b.s0)(),{errorTitle:s,debugInfo:i,navLink:r}=e;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Gn.q,{children:(0,v.jsx)("title",{children:t("course_error_page")})}),(0,v.jsx)(J.Z,{color:"#212121",fontWeight:"bolder",gutterBottom:!0,children:t("course_error")}),(0,v.jsx)(Bn.Z,{color:"danger",variant:"soft",children:(0,v.jsx)(zt.Z,{fontSize:".875rem",fontWeight:"500",color:"#680505",children:s})}),(0,v.jsx)(a.Z,{display:"flex",justifyContent:"flex-end",marginTop:"20px",children:(0,v.jsx)(Pn.Z,{onClick:()=>{n(r||"/",{})},children:t("common_continue")})})]})};var Fn=n(29946),Un=n(23885),Hn=n(85627);const On=()=>{var e;const{t:t}=(0,B.$G)(),{examId:n}=(0,b.UO)(),{courseId:r}=(0,b.UO)(),o=(0,it.I0)(),l=(0,it.v9)((e=>e.exam)),c=(0,it.v9)((e=>e.takeExam.startAt)),[d,m]=(0,i.useState)([]),[u,x]=(0,i.useState)(!0),[h,g]=(0,i.useState)(new Date),[p,y]=(0,i.useState)(new Date),[j,Z]=(0,i.useState)(!1),[f,D]=(0,i.useState)(""),[C,I]=(0,i.useState)(0),[w,k]=(0,i.useState)({id:"",courseId:"",name:"",scores:0,maxScores:0,timeOpen:new Date,timeClose:new Date,timeLimit:0,intro:"",overdueHanding:"",canRedoQuestions:!1,maxAttempts:0,shuffleAnswers:!1,gradeMethod:"",createdAt:new Date,updatedAt:new Date});(0,i.useEffect)((()=>{(()=>{let e=0;"QUIZ_GRADEHIGHEST"===w.gradeMethod?e=Math.max(...d.map((e=>e.markTotal)))/(w.scores||1)*(w.maxScores||0):"QUIZ_GRADEAVERAGE"===w.gradeMethod?e=d.reduce(((e,t)=>e+t.markTotal),0)/d.length:"QUIZ_ATTEMPTFIRST"===w.gradeMethod&&(e=d[0].markTotal);"QUIZ_ATTEMPTLAST"===w.gradeMethod&&(e=d[d.length-1].markTotal),I(e)})()}),[d]),(0,i.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await Gt.O.getExamById(e);k(t),o((0,Qt.gm)(t))}catch(n){n.code!==Wn.notFound&&n.code!==Wn.serverError||(Z(!0),D(t("course_error_exam_not_found")))}})(null!==n&&void 0!==n?n:l.examDetail.id),await(async(e,t)=>{try{const n=await Gt.O.getAllAttemptByExamIdAndUserId(e,t);m(n)}catch(n){console.error(n)}})(null!==n&&void 0!==n?n:l.examDetail.id,"2d7ed5a0-fb21-4927-9a25-647c17d29668"),x(!1)})();const e=new Date(w.timeOpen)?new Date(w.timeOpen):new Date,s=new Date(w.timeClose)?new Date(w.timeClose):new Date;g(e),y(s)}),[]);const T=(0,b.s0)(),S=[t("common_january"),t("common_february"),t("common_march"),t("common_april"),t("common_may"),t("common_june"),t("common_july"),t("common_august"),t("common_september"),t("common_october"),t("common_november"),t("common_december")],N=[t("common_sunday"),t("common_monday"),t("common_tuesday"),t("common_wednesday"),t("common_thursday"),t("common_friday"),t("common_saturday")];return j?(0,v.jsx)(Qn,{errorTitle:f}):(0,v.jsxs)(a.Z,{className:An.assignmentBody,children:[(0,v.jsx)(Gn.q,{"translation-key":"course_detail_exam",children:(0,v.jsxs)("title",{children:[t("course_detail_exam")," | ",w.name]})}),(0,v.jsx)(J.Z,{children:w.name}),(0,v.jsx)(Pn.Z,{variant:"soft",color:"neutral",onClick:()=>{T(_._.student.course.assignment.replace(":courseId",l.examDetail.courseId))},startDecorator:(0,v.jsx)(Ot.Z,{}),"translation-key":"common_back",sx:{width:"fit-content"},children:t("common_back")}),(0,v.jsx)(Bn.Z,{variant:"outlined",color:"neutral",sx:{padding:"10px"},children:(0,v.jsx)(s.ZP,{container:!0,children:(0,v.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,v.jsxs)(ln.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,v.jsx)(Rn.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,v.jsxs)(ln.Z,{direction:"row",spacing:.5,children:[(0,v.jsx)(zt.Z,{fontWeight:"bolder","translation-key":"course_assignment_detail_open_time",color:"#434343",fontSize:"12px",children:"".concat(t("course_assignment_detail_open_time"),": ")}),(0,v.jsxs)(zt.Z,{color:"#434343",fontSize:"12px",children:[" ",t("common_show_time",{weekDay:N[h.getDay()],day:h.getDate(),month:S[h.getMonth()],year:h.getFullYear(),time:"".concat(h.getHours()<10?"0".concat(h.getHours()):h.getHours(),":").concat(h.getMinutes()<10?"0".concat(h.getMinutes()):h.getMinutes())})]})]}),(0,v.jsx)(En.Z,{sx:{color:"#707070",fontSize:"20px"}})," ",(0,v.jsxs)(ln.Z,{direction:"row",spacing:.5,children:[(0,v.jsx)(zt.Z,{fontWeight:"bolder",color:"#434343",fontSize:"12px","translation-key":"course_assignment_detail_close_time",children:"".concat(t("course_assignment_detail_close_time"),": ")}),(0,v.jsx)(zt.Z,{color:"#434343",fontSize:"12px",children:t("common_show_time",{weekDay:N[p.getDay()],day:p.getDate(),month:S[p.getMonth()],year:p.getFullYear(),time:"".concat(p.getHours()<10?"0".concat(p.getHours()):p.getHours(),":").concat(p.getMinutes()<10?"0".concat(p.getMinutes()):p.getMinutes())})})]})]})})})}),(0,v.jsx)(a.Z,{className:An.assignmentDescription,children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:w.intro}})}),(0,v.jsxs)(ln.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,v.jsx)(Pn.Z,{disabled:d.length===w.maxAttempts&&0!==w.maxAttempts,onClick:()=>{const e=w.timeOpen?new Date(w.timeOpen):new Date,t=w.timeClose?new Date(w.timeClose):new Date,s=w.createdAt?new Date(w.createdAt):new Date,a=w.updatedAt?new Date(w.updatedAt):new Date,i={id:w.id,courseId:w.courseId,name:w.name,scores:w.scores,maxScores:w.maxScores,timeOpen:e.toISOString(),timeClose:t.toISOString(),timeLimit:w.timeLimit,intro:w.intro,overdueHanding:w.overdueHanding,canRedoQuestions:w.canRedoQuestions,maxAttempts:w.maxAttempts,shuffleAnswers:w.shuffleAnswers,gradeMethod:w.gradeMethod,createdAt:s.toISOString(),updatedAt:a.toISOString()};o((0,Mn.uA)(i)),T(_._.student.exam.take.replace(":courseId",r||l.examDetail.courseId).replace(":examId",n||l.examDetail.id))},sx:{width:"fit-content",height:"fit-content"},children:t(c?"exam_detail_continue":"exam_detail_start")}),(0,v.jsx)(Hn.Z,{thickness:3,sx:{fontWeight:"bolder",textAlign:"center"},size:"lg",determinate:!0,value:0===w.maxAttempts?100:d.length/(w.maxAttempts||1)*100,"translation-key":["exam_detail_summary_attempt","exam_detail_attempt_unlimited"],children:0===w.maxAttempts?(0,v.jsx)(v.Fragment,{children:t("exam_detail_attempt_unlimited")}):(0,v.jsxs)(v.Fragment,{children:["".concat(d.length," / ").concat(w.maxAttempts),(0,v.jsx)("br",{}),t("exam_detail_summary_attempt")]})})]}),(0,v.jsx)(Bn.Z,{variant:"soft",color:"neutral",sx:{padding:"10px"},children:(0,v.jsxs)(ln.Z,{spacing:1.5,children:[(0,v.jsxs)(ln.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,v.jsx)(zn.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,v.jsxs)(ln.Z,{direction:"row",spacing:.5,children:[(0,v.jsxs)(zt.Z,{"translation-key":"exam_detail_time_limit",fontWeight:"bolder",color:"#434343",fontSize:"12px",children:[t("exam_detail_time_limit"),": "]}),(0,v.jsx)(zt.Z,{color:"#434343",fontSize:"12px",children:(0,cn.m)(1e3*(null!==(e=w.timeLimit)&&void 0!==e?e:0),Un.ZP.language)})]})]}),(0,v.jsxs)(ln.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,v.jsx)(Ln.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,v.jsxs)(ln.Z,{direction:"row",spacing:.5,children:[(0,v.jsxs)(zt.Z,{"translation-key":"exam_detail_grading_method",fontWeight:"bolder",color:"#434343",fontSize:"12px",children:[t("exam_detail_grading_method"),": "]}),(0,v.jsx)(zt.Z,{color:"#434343",fontSize:"12px",children:"QUIZ_GRADEHIGHEST"===w.gradeMethod?t("exam_detail_grading_method_high_score"):"QUIZ_GRADEAVERAGE"===w.gradeMethod?t("exam_detail_grading_method_average_score"):"QUIZ_ATTEMPTFIRST"===w.gradeMethod?t("exam_detail_grading_method_first_submit"):"QUIZ_ATTEMPTLAST"===w.gradeMethod?t("exam_detail_grading_method_last_submit"):""})]})]}),(0,v.jsxs)(ln.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,v.jsx)(Fn.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,v.jsxs)(ln.Z,{direction:"row",spacing:.5,children:[(0,v.jsx)(zt.Z,{fontWeight:"bolder",color:"#434343",fontSize:"12px","translation-key":"exam_detail_max_attempt",children:"".concat(0===w.maxAttempts?t("exam_detail_attempt_unlimited"):t("exam_detail_max_attempt"),": ")}),(0,v.jsx)(zt.Z,{color:"#434343",fontSize:"12px",children:w.maxAttempts})]})]})]})}),(0,v.jsx)(tn.Z,{"translation-key":"exam_detail_summary_previous_attempt",children:t("exam_detail_summary_previous_attempt")}),(0,v.jsx)(Nn,{examId:n||l.examDetail.id,courseId:r||l.examDetail.courseId,headers:[t("exam_detail_summary_attempt"),t("exam_detail_summary_state"),"".concat(t("exam_detail_mark")," / ").concat(w.scores),"".concat(t("common_final_grade")," / ").concat(w.maxScores),t("exam_detail_summary_review")],rows:d,examMark:w.scores||0,examGrade:w.maxScores||0}),0!==d.length&&(0,v.jsxs)(tn.Z,{"translation-key":"exam_detail_grading_method_high_score",children:[t("exam_detail_grading_method_high_score"),": ",(0,v.jsx)("span",{style:{color:"red"},children:C})," / ",w.maxScores]})]})};var Vn=n(89840);const Yn=e=>{const{id:t,name:n,type:s,startDate:i,endDate:r,status:o}=e,{t:l}=(0,B.$G)();let c="";const d=o===tt.u.submitted?"var(--gray-3)":"white",m=o===tt.u.submitted?"line-through":"none";if(s===tt.Q.assignment)c=l("common_type_assignment");return(0,v.jsx)(N.ZP,{alignItems:"flex-start",sx:{backgroundColor:d},children:(0,v.jsx)(Vn.Z,{children:(0,v.jsx)(A.Z,{primary:(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(Je.Z,{component:"span",variant:"body2",color:"text.primary",sx:{textDecorationLine:m},children:n})}),secondary:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Je.Z,{"translation-key":"common_type_assignment",component:"span",variant:"body2",color:"text.primary",children:c}),(0,v.jsxs)(a.Z,{children:[(0,v.jsxs)(Je.Z,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary","translation-key":"common_deadline",children:[l("common_deadline"),":"]})," ".concat(r," ")]})]})})})})},$n=(0,i.memo)((e=>{const{t:t}=(0,B.$G)(),n=(0,b.s0)(),{courseId:r}=(0,b.UO)(),{pathname:o}=(0,b.TH)(),l=(0,m.ZP)(Te.Z)({"& .MuiTabs-indicator":{backgroundColor:"transparent",display:"none",borderBottom:"none"},"& .MuiTabs-flexContainer":{width:"fit-content",padding:"4px 3px",borderRadius:8}}),c=(0,m.ZP)((e=>(0,v.jsx)(Se.Z,{disableRipple:!0,...e})))((e=>{let{theme:t}=e;return{textTransform:"none",width:120,minHeight:29,borderRadius:10,padding:"10px 6px",fontSize:16,[t.breakpoints.up("sm")]:{minWidth:0},fontWeight:500,color:"rgba(0, 0, 0, 0.85)",fontFamily:["-apple-system","BlinkMacSystemFont",'"Roboto"'].join(","),"&:hover":{color:"#1976d2",backgroundColor:"#ECF4FD",transition:"all 0.2s ease-in-out",opacity:1},"&.Mui-selected":{color:"#1976d2",backgroundColor:"#ECF4FD",fontWeight:t.typography.fontWeightMedium},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}})),d=(0,i.useMemo)((()=>[_._.student.course.information,_._.student.course.assignment,_._.student.course.grade,_._.student.course.participant]),[_._]),u=(0,i.useMemo)((()=>{if(r){const e=d.findIndex((e=>{return t=e.replace(":courseId",r),!!o.startsWith(t);var t}));return-1===e?0:e}}),[o,d]),x=[{id:1,name:"Assignment 1",type:tt.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:tt.u.submitted},{id:2,name:"Assignment 2",type:tt.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:tt.u.notSubmitted},{id:3,name:"Assignment 3",type:tt.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:tt.u.notSubmitted},{id:4,name:"Assignment 4",type:tt.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:tt.u.submitted}],h=(0,b.TH)().pathname.includes("information");return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(a.Z,{className:Ne,"translation-key":["course_detail_classroom","course_detail_assignment","common_grade","course_detail_participant"],children:(0,v.jsxs)(l,{value:u,onChange:(e,t)=>{r&&n(d[t].replace(":courseId",r))},"aria-label":"basic tabs example",className:Ae,children:[(0,v.jsx)(c,{sx:{textTransform:"none"},label:t("course_detail_classroom"),value:0}),(0,v.jsx)(c,{sx:{textTransform:"none"},label:t("course_detail_assignment"),value:1}),(0,v.jsx)(c,{sx:{textTransform:"none"},label:t("common_grade"),value:2}),(0,v.jsx)(c,{sx:{textTransform:"none"},label:t("course_detail_participant"),value:3})]})}),(0,v.jsx)(a.Z,{id:Me,children:(0,v.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,v.jsx)(s.ZP,{item:!0,xs:h?7.2:12,children:(0,v.jsxs)(b.Z5,{children:[(0,v.jsx)(b.AW,{path:"information",element:(0,v.jsx)(lt,{})}),(0,v.jsx)(b.AW,{path:"assignments",element:(0,v.jsx)(Ht,{})}),(0,v.jsx)(b.AW,{path:"assignments/:assignmentId",element:(0,v.jsx)(on,{})}),(0,v.jsx)(b.AW,{path:"assignments/exams/:examId",element:(0,v.jsx)(On,{})}),(0,v.jsx)(b.AW,{path:"grade",element:(0,v.jsx)(Zt,{})}),(0,v.jsx)(b.AW,{path:"participant",element:(0,v.jsx)(Nt,{})})]})}),h&&(0,v.jsxs)(s.ZP,{item:!0,xs:4.8,children:[(0,v.jsx)(ke,{}),(0,v.jsxs)(ut.Z,{className:Pe,children:[(0,v.jsx)(Je.Z,{className:Re,"translation-key":"course_detail_need_to_do_title",children:t("course_detail_need_to_do_title")}),(0,v.jsx)(w.Z,{}),(0,v.jsx)(k.Z,{sx:{width:"100%",bgcolor:"background.paper"},className:Ee,children:x.map(((e,t)=>(0,v.jsx)(Yn,{id:e.id,name:e.name,endDate:e.endDate,startDate:e.startDate,type:e.type,status:e.status},t)))})]})]})]})})]})})),Jn=e=>(0,v.jsx)(s.ZP,{className:r,children:(0,v.jsx)(f,{children:(0,v.jsx)(a.Z,{className:o,children:(0,v.jsx)(a.Z,{className:l,children:(0,v.jsxs)(b.Z5,{children:[(0,v.jsx)(b.AW,{path:"courses",element:(0,v.jsx)(ne,{})}),(0,v.jsx)(b.AW,{path:"courses/:courseId/*",element:(0,v.jsx)($n,{})}),(0,v.jsx)(b.AW,{path:"calendar",element:(0,v.jsx)(ke,{})})]})})})})})},21426:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45045)),i=n(46417);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-.22-13h-.06c-.4 0-.72.32-.72.72v4.72c0 .35.18.68.49.86l4.15 2.49c.34.2.78.1.98-.24.21-.34.1-.79-.25-.99l-3.87-2.3V7.72c0-.4-.32-.72-.72-.72"}),"AccessTimeRounded")},44113:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45045)),i=n(46417);t.Z=(0,a.default)((0,i.jsx)("path",{d:"m12 17.27 5.17 3.12c.38.23.85-.11.75-.54l-1.37-5.88 4.56-3.95c.33-.29.16-.84-.29-.88l-6.01-.51-2.35-5.54c-.17-.41-.75-.41-.92 0L9.19 8.63l-6.01.51c-.44.04-.62.59-.28.88l4.56 3.95-1.37 5.88c-.1.43.37.77.75.54z"}),"GradeRounded")},10850:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45045)),i=n(46417);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHorizRounded")},29946:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45045)),i=n(46417);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5"}),"ReplayRounded")},22514:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45045)),i=n(46417);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M15.29 17.29c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L16.7 6.7a.9959.9959 0 0 0-1.41 0c-.38.39-.39 1.03 0 1.42L18.17 11H7c-.55 0-1 .45-1 1s.45 1 1 1h11.17l-2.88 2.88c-.39.39-.39 1.02 0 1.41M3 18c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1v10c0 .55.45 1 1 1"}),"StartRounded")},2959:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(63366),a=n(87462),i=n(47313),r=n(94146),o=n(8007),l=n(31179),c=n(89674),d=n(8362),m=n(52603),u=n(48114),_=n(19422);function x(e){return(0,_.d6)("MuiCard",e)}(0,_.sI)("MuiCard",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg","horizontal","vertical"]);var h=n(27810),g=n(60985),p=n(46417);const v=["className","color","component","invertedColors","size","variant","children","orientation","slots","slotProps"],y=(0,u.Z)("div")((e=>{let{theme:t,ownerState:n}=e;var s;const{p:i,padding:r,borderRadius:o}=(0,h.V)({theme:t,ownerState:n},["p","padding","borderRadius"]);return[(0,a.Z)({"--Icon-color":"neutral"!==n.color||"solid"===n.variant?"currentColor":t.vars.palette.text.icon,"--Card-childRadius":"max((var(--Card-radius) - var(--variant-borderWidth, 0px)) - var(--Card-padding), min(var(--Card-padding) / 2, (var(--Card-radius) - var(--variant-borderWidth, 0px)) / 2))","--AspectRatio-radius":"var(--Card-childRadius)","--unstable_actionMargin":"calc(-1 * var(--variant-borderWidth, 0px))","--unstable_actionRadius":"var(--Card-radius)","--CardCover-radius":"calc(var(--Card-radius) - var(--variant-borderWidth, 0px))","--CardOverflow-offset":"calc(-1 * var(--Card-padding))","--CardOverflow-radius":"calc(var(--Card-radius) - var(--variant-borderWidth, 0px))","--Divider-inset":"calc(-1 * var(--Card-padding))"},"sm"===n.size&&{"--Card-radius":t.vars.radius.sm,"--Card-padding":"0.625rem",gap:"0.5rem"},"md"===n.size&&{"--Card-radius":t.vars.radius.md,"--Card-padding":"1rem",gap:"0.75rem 1rem"},"lg"===n.size&&{"--Card-radius":t.vars.radius.lg,"--Card-padding":"1.5rem",gap:"1rem 1.5rem"},{padding:"var(--Card-padding)",borderRadius:"var(--Card-radius)",backgroundColor:t.vars.palette.background.surface,position:"relative",display:"flex",flexDirection:"horizontal"===n.orientation?"row":"column"},t.typography["body-".concat(n.size)],"solid"===n.variant&&n.color&&n.invertedColors&&(0,m.Qr)(n.color)(t),"soft"===n.variant&&n.color&&n.invertedColors&&(0,m.Ev)(n.color)(t),null==(s=t.variants[n.variant])?void 0:s[n.color]),void 0!==i&&{"--Card-padding":i},void 0!==r&&{"--Card-padding":r},void 0!==o&&{"--Card-radius":o}]})),j=(0,u.Z)(y,{name:"JoyCard",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Z=i.forwardRef((function(e,t){const n=(0,d.Z)({props:e,name:"JoyCard"}),{className:m,color:u="neutral",component:_="div",invertedColors:h=!1,size:y="md",variant:Z="outlined",children:f,orientation:b="vertical",slots:D={},slotProps:C={}}=n,I=(0,s.Z)(n,v),w=(0,a.Z)({},n,{color:u,component:_,orientation:b,size:y,variant:Z,invertedColors:h}),k=(e=>{const{size:t,variant:n,color:s,orientation:a}=e,i={root:["root",a,n&&"variant".concat((0,l.Z)(n)),s&&"color".concat((0,l.Z)(s)),t&&"size".concat((0,l.Z)(t))]};return(0,o.Z)(i,x,{})})(w),T=(0,a.Z)({},I,{component:_,slots:D,slotProps:C}),[S,N]=(0,g.Z)("root",{ref:t,className:(0,r.Z)(k.root,m),elementType:j,externalForwardedProps:T,ownerState:w});return(0,p.jsx)(S,(0,a.Z)({},N,{children:i.Children.map(f,((e,t)=>{if(!i.isValidElement(e))return e;const n={};if((0,c.Z)(e,["Divider"])){n.inset="inset"in e.props?e.props.inset:"context";const t="vertical"===b?"horizontal":"vertical";n.orientation="orientation"in e.props?e.props.orientation:t}return 0===t&&(n["data-first-child"]=""),t===i.Children.count(f)-1&&(n["data-last-child"]=""),i.cloneElement(e,n)}))}))})),f=Z}}]);