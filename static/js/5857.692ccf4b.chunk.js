"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[5857],{38707:(e,t,s)=>{s.d(t,{Z:()=>g});var n=s(94425),r=s(50494),i=s(79536),a=s(65033),l=s(48310),o=s(67216),c=s(89840),d=s(74748),m=s(83213),x=s(47313),u=s(65537),h=s(58467),p=s(6294);const j={sideBar:"styles_sideBar__z5Ask",boxContainer:"styles_boxContainer__bUcnn",item:"styles_item__wkRw1",itemIcon:"styles_itemIcon__n4sFn",childItem:"styles_childItem__LMhub",agentText:"styles_agentText__gIL6y",TitleContainer:"styles_TitleContainer__RwY0K"};var _=s(46417);function g(e){const t=(0,h.s0)(),s=(0,u.I0)(),g=(0,h.TH)().pathname,[Z,f]=(0,x.useState)(e.sideBarItem),[b,y]=(0,x.useState)(null);(0,x.useEffect)((()=>{f(e.sideBarItem)}),[e.sideBarItem]),(0,x.useEffect)((()=>{Z.forEach(((e,t)=>{var n;if(e.children)e.children.forEach(((e,n)=>{if(e.link.includes(g))return s((0,p.h)({parentIndex:t,childIndex:n})),void y(t)}));else if(null!==(n=e.link)&&void 0!==n&&n.includes(g))return void s((0,p.h)({parentIndex:t,childIndex:-1}))}))}),[g]);const P=(0,u.v9)((e=>e.selected));return(0,_.jsx)(i.Z,{className:j.boxContainer,children:(0,_.jsx)(i.Z,{className:j.sideBar,children:(0,_.jsx)(l.Z,{children:Z.map(((i,u)=>(0,_.jsxs)(x.Fragment,{children:[(0,_.jsx)(o.ZP,{disablePadding:!0,children:(0,_.jsxs)(c.Z,{onClick:()=>((n,r,i)=>{void 0===r.children&&(s((0,p.h)({parentIndex:n,childIndex:-1})),t(r.link)),b===n?y(null):(y(n),f(e.sideBarItem),0===i.length&&(f((e=>e.map(((e,t)=>t===n?{...e}:e)))),r&&r.link&&t(r.link)))})(u,i,i.children||[]),className:j.item,selected:P.parentIndex===u&&-1===P.childIndex,children:[(0,_.jsx)(d.Z,{children:i.icon}),(0,_.jsx)(m.Z,{"translation-key":i["translation-key"]?i["translation-key"]:"none",primary:i.name,className:j.itemText}),i.children&&(b===u?(0,_.jsx)(n.Z,{}):(0,_.jsx)(r.Z,{}))]})}),i.children&&(0,_.jsx)(a.Z,{in:b===u,timeout:"auto",unmountOnExit:!0,children:(0,_.jsx)(l.Z,{component:"div",disablePadding:!0,children:i.children.map(((e,n)=>(0,_.jsx)(c.Z,{onClick:()=>((e,n)=>{s((0,p.h)({parentIndex:e,childIndex:n})),t(Z[e].children[n].link)})(u,n),className:j.childItem,selected:P.parentIndex===u&&P.childIndex===n,children:(0,_.jsx)(m.Z,{secondary:e.name})},n)))})})]},u)))})})})}},62737:(e,t,s)=>{s.r(t),s.d(t,{default:()=>nt});var n=s(9019),r=s(79536);const i="styles_root__zeGk-",a="styles_body__qqtSL";var l=s(58467),o=s(15949),c=s(1567),d=s(51997),m=s(65954),x=s(42832),u=s(48119),h=s(66212),p=s(73428),j=s(19536),_=s(24929),g=s(81127),Z=s(11053),f=s(70501);const b="style_container__doJae",y="style_searchWrapper__7UwoV";var P=s(18413),v=s(75590),w=s(80007),T=s(99140),k=s(37735),C=s(46417);const S=e=>{let{isLoading:t=!1,searchValue:s,setSearchValue:n,onHandleChange:i,numOfResults:a=0,showFilter:l=!0,filterKeyList:o=[],filterValueList:c=[],currentFilterKey:d="",currentFilterValue:m="",handleFilterKeyChange:u=(e=>{}),handleFilterValueChange:p=(e=>{}),onHandleApplyFilter:j=(()=>{}),onHandleCancelFilter:_=(()=>{}),createBtnText:g="",onClickCreate:Z=(()=>{})}=e;const{t:S}=(0,v.$G)();return(0,C.jsxs)(x.Z,{direction:"column",gap:2,children:[l&&o.length>0&&c.length>0&&(0,C.jsxs)(f.Z,{className:b,children:[(0,C.jsx)(f.Z,{sx:{display:"flex",alignItems:"center",height:"60px",margin:"10px",padding:"5px 10px"},children:(0,C.jsxs)(x.Z,{direction:"row",gap:1,display:"flex",alignItems:"center",children:[(0,C.jsx)(w.Z,{width:"80px",children:S("common_filter_by")}),(0,C.jsx)(k.Z,{labelId:"select-assignment-section-label",value:d,onHandleChange:u,width:"fit-content",items:o}),(0,C.jsx)(k.Z,{labelId:"select-assignment-section-label",value:m,onHandleChange:p,width:"fit-content",items:c})]})}),(0,C.jsxs)(x.Z,{direction:"row",gap:2,sx:{padding:"10px"},display:"flex",justifyContent:"flex-end",children:[(0,C.jsx)(T.Z,{btnType:T.s.Outlined,"translate-key":"common_cancel_filter",onClick:_,children:S("common_cancel_filter")}),(0,C.jsx)(T.Z,{btnType:T.s.Primary,"translate-key":"common_apply_filter",onClick:j,children:S("common_apply_filter")})]})]}),(0,C.jsx)(r.Z,{className:y,children:(0,C.jsxs)(x.Z,{direction:"row",gap:2,children:[(0,C.jsx)(P.Z,{value:s,setValue:n,onHandleChange:i,maxWidth:"50%"}),Z&&(0,C.jsx)(r.Z,{sx:{display:"flex",justifyContent:"flex-end",width:"100%"},children:(0,C.jsx)(T.Z,{btnType:T.s.Primary,onClick:Z,children:g})})]})}),t?(0,C.jsx)(C.Fragment,{}):s&&s.length>0&&(0,C.jsx)(h.Z,{size:"small",label:"".concat(a," results found"),variant:"outlined",sx:{padding:"15px 10px",maxWidth:"fit-content",background:"var(--green-500)",border:"none",color:"white"}})]})};var N=s(31845),A=s(68464),F=s(63408),I=s(99221),q=s(23885),z=s(68933),R=s(70816),D=s.n(R),E=s(47313),W=s(65537),M=s(92164),L=s(8344),O=s(90469),H=s(3152),U=s(15162);const G={breadcump:"styles_breadcump__ShexG"};var B=s(27013);const V=()=>{const e=(0,E.useRef)(null),{t:t}=(0,v.$G)(),s=(0,l.s0)(),[i,a]=(0,E.useState)(!1),[o,c]=(0,E.useState)(B.N.INFO),[f,b]=(0,E.useState)(""),[y,P]=(0,E.useState)(""),[w,T]=(0,E.useState)((()=>q.ZP.language)),[k,R]=(0,E.useState)(z.m.ALL),V=(0,W.v9)((e=>e.contest)),Q=(0,W.I0)(),K=(0,E.useCallback)((async e=>{let{searchName:t,startTimeFilter:s=z.m.ALL,pageNo:n=0,pageSize:r=10}=e;Q((0,M.K4)(!0));try{const e=await H.c.getContestsForAdmin({searchName:t,startTimeFilter:s,pageNo:n,pageSize:r});Q((0,M.AF)(e)),Q((0,M.K4)(!1))}catch(i){console.error("error",i),401!==i.code&&403!==i.code||(a(!0),c(B.N.Error),b("Please authenticate")),Q((0,M.K4)(!1))}}),[Q]),$=(0,E.useCallback)((e=>{K({searchName:e,startTimeFilter:k})}),[K,k]),J=[{field:"name",headerName:t("common_name"),flex:1,renderHeader:()=>(0,C.jsx)(A.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_name")}),renderCell:e=>(0,C.jsxs)(x.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,C.jsx)(u.Z,{sx:{bgcolor:_.Z[500]},alt:e.row.name,src:e.row.thumbnailUrl,children:e.row.name.charAt(0)}),(0,C.jsx)(F.Z,{width:"auto",fontWeight:500,children:e.row.name})]})},{field:"createdBy",headerName:t("common_created_by"),flex:1,renderHeader:()=>(0,C.jsx)(A.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_created_by")}),renderCell:e=>(0,C.jsxs)(F.Z,{width:"auto",children:[e.row.createdBy.firstName," ",e.row.createdBy.lastName]})},{field:"startTime",headerName:t("common_start_time"),flex:1,renderHeader:()=>(0,C.jsx)(A.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_start_time")}),renderCell:e=>(0,C.jsx)(F.Z,{width:"auto",children:(0,U.J$)(e.row.startTime,w)})},{field:"endTime",headerName:t("common_end_time"),flex:1,renderHeader:()=>(0,C.jsx)(A.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_end_time")}),renderCell:e=>(0,C.jsx)(F.Z,{width:"auto",children:(0,U.J$)(e.row.endTime,w)})},{field:"numOfParticipants",headerName:t("common_num_of_participants"),flex:.4,minWidth:100,renderHeader:()=>(0,C.jsx)(A.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_num_of_participants")}),renderCell:e=>(0,C.jsx)(F.Z,{width:"auto",children:e.row.numOfParticipants})},{field:"status",headerName:t("common_status"),flex:.7,renderHeader:()=>(0,C.jsx)(A.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_status")}),renderCell:e=>(0,C.jsx)(h.Z,{size:"small",label:e.row.status===z.m.UPCOMING?t("common_upcoming"):e.row.status===z.m.HAPPENING?t("common_in_progress"):t("common_ended"),variant:"outlined",color:e.row.status===z.m.UPCOMING?"primary":e.row.status===z.m.HAPPENING?"success":"error",component:F.Z})},{field:"action",headerName:t("common_action"),type:"actions",flex:.6,renderHeader:()=>(0,C.jsx)(I.Z,{width:"auto",sx:{textAlign:"left"},children:t("common_action")}),getActions:e=>[(0,C.jsx)(g.u,{icon:(0,C.jsx)(m.Z,{}),label:"Edit",onClick:()=>{s(O._.admin.contest.edit.details.replace(":contestId",e.row.contestId),{state:{contestName:e.row.name}})}}),(0,C.jsx)(g.u,{icon:(0,C.jsx)(d.Z,{}),label:"Delete"})]}],[Y,X]=(0,E.useState)(0),[ee,te]=(0,E.useState)(10),se=(0,E.useMemo)((()=>V.contests.totalItems||0),[V.contests]),ne=(0,E.useMemo)((()=>V.contests.contests.map((e=>{const t=e.startTime&&D()().utc().isBefore(e.startTime)?z.m.UPCOMING:e.endTime&&D()().utc().isAfter(e.endTime)?z.m.ENDED:z.m.HAPPENING;return{id:e.contestId,contestId:e.contestId,name:e.name,description:e.description,prizes:e.prizes,rules:e.rules,scoring:e.scoring,thumbnailUrl:e.thumbnailUrl,startTime:e.startTime,endTime:e.endTime,questions:e.questions,numOfParticipants:e.numOfParticipants,status:t,isPublic:e.isPublic,isRestrictedForum:e.isRestrictedForum,isDisabledForum:e.isDisabledForum,createdBy:e.createdBy,createdAt:e.createdAt,updatedAt:e.updatedAt,updatedBy:e.updatedBy}}))),[V.contests]),re=(0,E.useCallback)((()=>{K({searchName:y,startTimeFilter:k})}),[K,y,k]),ie=(0,E.useCallback)((()=>{R(z.m.ALL),K({searchName:y,startTimeFilter:z.m.ALL})}),[K,y]);return(0,E.useEffect)((()=>{T(q.ZP.language)}),[q.ZP.language]),(0,E.useEffect)((()=>{(async()=>{Q((0,L.K4)(!0)),await K({searchName:"",startTimeFilter:z.m.ALL}),Q((0,L.K4)(!1))})()}),[Q,K]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(B.Z,{open:i,setOpen:a,type:o,content:f}),(0,C.jsxs)(p.Z,{sx:{margin:"20px","& .MuiDataGrid-root":{border:"1px solid #e0e0e0",borderRadius:"4px"}},children:[(0,C.jsx)(r.Z,{className:G.breadcump,ref:e,children:(0,C.jsx)(r.Z,{id:G.breadcumpWrapper,children:(0,C.jsx)(F.Z,{colorname:"--blue-500","translate-key":"contest_management_title",children:t("contest_management_title")})})}),(0,C.jsx)(j.Z,{}),(0,C.jsxs)(n.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsx)(N.Z,{"translate-key":"contest_management_title",children:t("contest_management_title")})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsx)(S,{isLoading:V.isLoading,searchValue:y,setSearchValue:P,onHandleChange:$,createBtnText:t("contest_create"),onClickCreate:()=>{s(O._.admin.contest.create)},numOfResults:se,filterKeyList:[{label:t("common_status"),value:"Status"}],filterValueList:[{label:t("common_all"),value:z.m.ALL},{label:t("common_upcoming"),value:z.m.UPCOMING},{label:t("common_in_progress"),value:z.m.HAPPENING},{label:t("common_ended"),value:z.m.ENDED}],currentFilterKey:"Status",currentFilterValue:k,handleFilterValueChange:e=>{R(e)},onHandleApplyFilter:re,onHandleCancelFilter:ie})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsx)(Z.Z,{loading:V.isLoading,dataList:ne,tableHeader:J,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:Y,pageSize:ee,totalElement:se,onPaginationModelChange:(e,t)=>{X(e.page),te(e.pageSize),K({searchName:y,startTimeFilter:z.m.ALL,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})]})};var Q=s(62563),K=s(96447),$=s(83929),J=s(44758),Y=s(15535),X=s(16977),ee=s(35659),te=s(75627),se=s(21933);const ne="styles_formBody__4S2B5",re="styles_breadcump__bLd4l",ie="styles_breadcumpWrapper__QNcnk",ae="styles_icArrow__tM8ll",le="styles_cursorPointer__A6Tq+";var oe=s(66565),ce=s(82098);const de=()=>{const e=(0,E.useRef)(null),{t:t}=(0,v.$G)(),s=(0,l.s0)(),[i,a]=(0,E.useState)(!1),[o,c]=(0,E.useState)(B.N.INFO),[d,m]=(0,E.useState)(""),[u,h]=(0,E.useState)(!1),_=(0,E.useMemo)((()=>se.Ry().shape({isNoEndTime:se.O7().required(t("contest_is_no_end_time_required")),name:se.Z_().required(t("contest_name_required")).trim(""),startTime:se.Z_().required(t("contest_start_time_required")).trim("").test("startTime",t("contest_start_time_greater_than_current_time"),(function(e){return D()(e).isAfter(D()().utc())})),endTime:se.Z_().nullable().test("endTime",t("contest_end_time_required"),(function(e){return!!this.parent.isNoEndTime||!!e})).test("endTime",t("contest_end_time_greater_than_start_time"),(function(e){return!!this.parent.isNoEndTime||D()(e).isAfter(this.parent.startTime)}))})),[t]),{control:g,handleSubmit:Z,watch:f,formState:{errors:b},setValue:y}=(0,te.cI)({resolver:(0,Q.X)(_),defaultValues:{isNoEndTime:!1,name:"",startTime:D().utc().add(30,"minute").toISOString(),endTime:D().utc().add(1,"hour").toISOString()}}),P=(0,E.useCallback)((async e=>{let{name:n,description:r,thumbnailUrl:i,startTime:l,endTime:o}=e;h(!0);try{(await H.c.createContest({name:n,description:r,thumbnailUrl:i,startTime:l,endTime:o})).name===n&&(a(!0),c(B.N.Success),m(t("contest_create_success")),h(!1),s(O._.admin.contest.edit.details,{state:{contestName:n}}))}catch(d){console.error("error",d),401!==d.code&&403!==d.code||(a(!0),c(B.N.Error),m("Please authenticate")),h(!1)}}),[t]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(B.Z,{open:i,setOpen:a,type:o,content:d}),(0,C.jsxs)(p.Z,{sx:{margin:"20px","& .MuiDataGrid-root":{border:"1px solid #e0e0e0",borderRadius:"4px"},gap:"20px"},children:[(0,C.jsx)(r.Z,{className:re,ref:e,children:(0,C.jsxs)(r.Z,{id:ie,children:[(0,C.jsx)(F.Z,{colorname:"--blue-500",className:le,onClick:()=>s(O._.admin.contest.root),"translation-key":"contest_management_title",children:t("contest_management_title")}),(0,C.jsx)(K.Z,{id:ae}),(0,C.jsx)(F.Z,{colorname:"--blue-500","translate-key":"contest_create",children:t("contest_create")})]})}),(0,C.jsx)(j.Z,{}),(0,C.jsxs)(r.Z,{sx:{padding:"20px"},children:[(0,C.jsx)(N.Z,{"translate-key":"contest_create",children:t("contest_create")}),(0,C.jsxs)(x.Z,{direction:"column",gap:2,sx:{marginTop:"20px"},children:[(0,C.jsx)(F.Z,{fontStyle:"italic","translate-key":"contest_description_message_1",children:t("contest_description_message_1")}),(0,C.jsx)(F.Z,{fontStyle:"italic","translate-key":"contest_description_message_2",children:t("contest_description_message_2")})]}),(0,C.jsxs)(r.Z,{component:"form",className:ne,onSubmit:Z((async e=>{const t={...e},{isNoEndTime:s,name:n,startTime:r,endTime:i}=t;await P({name:n,description:"",thumbnailUrl:"",startTime:r,endTime:s?null:i})})),children:[(0,C.jsx)(te.Qr,{control:g,name:"name",rules:{required:!0},render:e=>{var s;let{field:{ref:n,...r}}=e;return(0,C.jsx)(X.Z,{error:Boolean(null===b||void 0===b?void 0:b.name),errorMessage:null===(s=b.name)||void 0===s?void 0:s.message,title:"".concat(t("contest_name")),type:"text",placeholder:t("contest_enter_contest_name"),titleRequired:!0,"translation-key":"contest_enter_contest_name",inputRef:n,width:"350px",fullWidth:!0,...r})}}),(0,C.jsx)(n.ZP,{container:!0,spacing:1,columns:12,children:(0,C.jsx)(te.Qr,{control:g,name:"startTime",rules:{required:!0},render:e=>{let{field:{ref:s,...r}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:3,children:(0,C.jsx)(ee.Z,{"translate-key":"contest_start_time",title:t("contest_start_time"),titleRequired:!0,tooltipDescription:t("contest_start_time_tooltip")})}),(0,C.jsxs)(n.ZP,{item:!0,xs:9,children:[(0,C.jsx)(Y.Z,{value:D()(r.value),onHandleValueChange:e=>{e&&y("startTime",e.toISOString())},width:"350px"}),b.startTime&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:b.startTime.message&&(0,C.jsx)(ce.Z,{children:b.startTime.message||""})})]})]})}})}),(0,C.jsx)(te.Qr,{control:g,name:"endTime",rules:{required:!0},render:e=>{let{field:{ref:s,...r}}=e;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(n.ZP,{container:!0,spacing:1,columns:12,children:[(0,C.jsx)(n.ZP,{item:!0,xs:3,children:(0,C.jsx)(ee.Z,{"translate-key":"contest_end_time",title:t("contest_end_time"),titleRequired:!0,tooltipDescription:t("contest_end_time_tooltip")})}),(0,C.jsx)(n.ZP,{item:!0,xs:9,children:(0,C.jsxs)(x.Z,{direction:"column",gap:1,children:[(0,C.jsx)(Y.Z,{value:D()(r.value),disabled:f("isNoEndTime"),onHandleValueChange:e=>{e&&y("endTime",e.toISOString())},width:"350px"}),(0,C.jsx)(te.Qr,{control:g,name:"isNoEndTime",render:e=>{let{field:{ref:s,...n}}=e;return(0,C.jsx)($.Z,{control:(0,C.jsx)(J.Z,{color:"primary",...n}),label:t("this_contest_has_no_end_time")})}}),b.endTime&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:b.endTime.message&&(0,C.jsx)(ce.Z,{children:b.endTime.message||""})})]})})]})})}}),(0,C.jsx)(n.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,C.jsx)(oe.Z,{loading:u,variant:"solid",type:"submit","translation-key":"common_get_started",children:t("common_get_started")})})]})]})]})]})};var me=s(95861),xe=s(65280),ue=s(38037);const he={formBody:"styles_formBody__cwJLB"};var pe=s(92556),je=s(95087);const _e=e=>{let{control:t,errors:s,setValue:r,watch:i}=e;const{t:a}=(0,v.$G)(),[l,o]=(0,E.useState)([]);return(0,E.useEffect)((()=>{var e;l.length>0&&r("thumbnailUrl",(null===(e=l[0])||void 0===e?void 0:e.downloadUrl)||"")}),[l,r]),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(n.ZP,{container:!0,gap:2,direction:"column",className:he.container,sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)"},children:[(0,C.jsxs)(n.ZP,{item:!0,xs:12,children:[(0,C.jsx)(ue.Z,{"translate-key":"contest_details",children:a("contest_details")}),(0,C.jsx)(F.Z,{fontStyle:"italic",sx:{marginTop:"10px"},"translate-key":"contest_details_description",children:a("contest_details_description")})]}),(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsxs)(n.ZP,{container:!0,gap:2,direction:"column",children:[(0,C.jsx)(te.Qr,{control:t,name:"name",rules:{required:!0},render:e=>{var t;let{field:{ref:n,...r}}=e;return(0,C.jsx)(X.Z,{error:Boolean(null===s||void 0===s?void 0:s.name),errorMessage:null===(t=s.name)||void 0===t?void 0:t.message,title:"".concat(a("contest_name")),type:"text",placeholder:a("contest_enter_contest_name"),titleRequired:!0,"translation-key":"contest_enter_contest_name",inputRef:n,width:"350px",fullWidth:!0,...r})}}),(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,children:(0,C.jsx)(te.Qr,{control:t,name:"startTime",rules:{required:!0},render:e=>{let{field:{ref:t,...i}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,C.jsx)(ee.Z,{"translate-key":"contest_start_time",title:a("contest_start_time"),titleRequired:!0})}),(0,C.jsxs)(n.ZP,{item:!0,xs:12,md:9,children:[(0,C.jsx)(Y.Z,{value:D()(i.value),onHandleValueChange:e=>{e&&r("startTime",e.toISOString())},width:"350px"}),s.startTime&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:s.startTime.message&&(0,C.jsx)(ce.Z,{children:s.startTime.message||""})})]})]})}})}),(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,children:(0,C.jsx)(te.Qr,{control:t,name:"endTime",rules:{required:!0},render:e=>{let{field:{ref:l,...o}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,C.jsx)(ee.Z,{"translate-key":"contest_end_time",title:a("contest_end_time"),titleRequired:!0,tooltipDescription:a("contest_end_time_tooltip")})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:9,children:(0,C.jsxs)(x.Z,{direction:"column",gap:1,children:[(0,C.jsx)(Y.Z,{value:D()(o.value),disabled:i("isNoEndTime"),onHandleValueChange:e=>{e&&r("endTime",e.toISOString())},width:"350px"}),(0,C.jsx)(te.Qr,{control:t,name:"isNoEndTime",render:e=>{let{field:{ref:t,...s}}=e;return(0,C.jsx)($.Z,{control:(0,C.jsx)(J.Z,{color:"primary",...s,checked:s.value}),label:a("this_contest_has_no_end_time")})}}),s.endTime&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:s.endTime.message&&(0,C.jsx)(ce.Z,{children:s.endTime.message||""})})]})})]})}})}),(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,children:(0,C.jsx)(te.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:r,...i}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,C.jsx)(ee.Z,{"translate-key":"contest_is_public",title:a("contest_is_public"),titleRequired:!0,tooltipDescription:a("contest_is_public_tooltip")})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:9,children:(0,C.jsxs)(x.Z,{direction:"column",gap:1,children:[(0,C.jsx)(te.Qr,{control:t,name:"isPublic",render:e=>{let{field:{ref:t,...s}}=e;return(0,C.jsx)($.Z,{control:(0,C.jsx)(J.Z,{color:"primary",...s,checked:s.value}),label:""})}}),s.isPublic&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:s.isPublic.message&&(0,C.jsx)(ce.Z,{children:s.isPublic.message||""})})]})})]})}})})]})}),(0,C.jsx)(j.Z,{}),(0,C.jsxs)(n.ZP,{item:!0,xs:12,children:[(0,C.jsx)(ue.Z,{"translate-key":"contest_metadata_customization",children:a("contest_metadata_customization")}),(0,C.jsx)(F.Z,{fontStyle:"italic",sx:{marginTop:"10px"},"translate-key":"contest_metadata_customization_description",children:a("contest_metadata_customization_description")})]}),(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsxs)(n.ZP,{container:!0,gap:2,direction:"column",children:[(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,children:(0,C.jsx)(te.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:r,...i}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,C.jsx)(ee.Z,{"translate-key":"contest_thumbnail",title:a("contest_thumbnail"),titleRequired:!0})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:8,children:(0,C.jsxs)(x.Z,{direction:"column",gap:1,children:[(0,C.jsx)(te.Qr,{control:t,name:"thumbnailUrl",rules:{required:!0},render:e=>{let{field:{ref:t,...s}}=e;return(0,C.jsx)(je.Z,{extFiles:l,setExtFiles:o,maxFileSize:5242880,accept:".bmp, .gif, .jpeg, .jpg, .png, .svg, .tif, .tiff",maxFiles:1})}}),s.thumbnailUrl&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:s.thumbnailUrl.message&&(0,C.jsx)(ce.Z,{children:s.thumbnailUrl.message||""})})]})})]})}})}),(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,children:(0,C.jsx)(te.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:i,...l}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,C.jsx)(ee.Z,{"translate-key":"common_description",title:a("common_description")})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:8,children:(0,C.jsxs)(x.Z,{direction:"column",gap:1,children:[(0,C.jsx)(te.Qr,{control:t,name:"description",render:e=>{let{field:{ref:t,...s}}=e;return(0,C.jsx)(pe.Z,{value:s.value,onChange:e=>{r("description",e)},maxLines:10})}}),s.description&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:s.description.message&&(0,C.jsx)(ce.Z,{children:s.description.message||""})})]})})]})}})}),(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,children:(0,C.jsx)(te.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:i,...l}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,C.jsx)(ee.Z,{"translate-key":"common_prizes",title:a("common_prizes")})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:8,children:(0,C.jsxs)(x.Z,{direction:"column",gap:1,children:[(0,C.jsx)(te.Qr,{control:t,name:"prizes",rules:{required:!0},render:e=>{let{field:{ref:t,...s}}=e;return(0,C.jsx)(pe.Z,{value:s.value,onChange:e=>{r("prizes",e)},maxLines:10})}}),s.prizes&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:s.prizes.message&&(0,C.jsx)(ce.Z,{children:s.prizes.message||""})})]})})]})}})}),(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,children:(0,C.jsx)(te.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:i,...l}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,C.jsx)(ee.Z,{"translate-key":"common_rules",title:a("common_rules")})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:8,children:(0,C.jsxs)(x.Z,{direction:"column",gap:1,children:[(0,C.jsx)(te.Qr,{control:t,name:"rules",rules:{required:!0},render:e=>{let{field:{ref:t,...s}}=e;return(0,C.jsx)(pe.Z,{value:s.value,onChange:e=>{r("rules",e)},maxLines:10})}}),s.rules&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:s.rules.message&&(0,C.jsx)(ce.Z,{children:s.rules.message||""})})]})})]})}})}),(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,children:(0,C.jsx)(te.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:i,...l}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,C.jsx)(ee.Z,{"translate-key":"common_scoring",title:a("common_scoring")})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:8,children:(0,C.jsxs)(x.Z,{direction:"column",gap:1,children:[(0,C.jsx)(te.Qr,{control:t,name:"scoring",rules:{required:!0},render:e=>{let{field:{ref:t,...s}}=e;return(0,C.jsx)(pe.Z,{value:s.value,onChange:e=>{r("scoring",e)},maxLines:10})}}),s.scoring&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:s.scoring.message&&(0,C.jsx)(ce.Z,{children:s.scoring.message||""})})]})})]})}})}),(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,height:"70px"})]})})]})})},ge=()=>(0,C.jsx)("div",{children:(0,C.jsx)("h1",{children:"Contest Problems"})}),Ze=()=>{const{t:e}=(0,v.$G)(),{contestId:t}=(0,l.UO)(),[s,r]=(0,E.useState)(!1),[i,a]=(0,E.useState)([]),[o,c]=(0,E.useState)((()=>q.ZP.language));(0,E.useEffect)((()=>{c(q.ZP.language)}),[q.ZP.language]);const d=[{field:"no",headerName:e("common_no"),flex:.4,renderHeader:()=>(0,C.jsx)(A.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_no")}),renderCell:e=>(0,C.jsx)(F.Z,{width:"auto",children:e.row.no})},{field:"email",headerName:e("common_email"),flex:1,renderHeader:()=>(0,C.jsx)(A.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_email")}),renderCell:e=>(0,C.jsxs)(x.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,C.jsx)(u.Z,{sx:{bgcolor:_.Z[500]},alt:e.row.email,src:e.row.avatarUrl,children:e.row.email.charAt(0)}),(0,C.jsx)(F.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"createdAt",headerName:e("contest_sign_up_date"),flex:1,renderHeader:()=>(0,C.jsx)(A.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("contest_sign_up_date")}),renderCell:e=>(0,C.jsx)(F.Z,{width:"auto",children:(0,U.J$)(e.row.createdAt,o)})}],m=(0,E.useCallback)((async(e,t,s)=>{r(!0);try{const n=await H.c.getSignUpsOfContest(e,t,s,!1);a(n.contestUsers),r(!1)}catch(n){console.error("error",n),r(!1)}}),[]),[h,p]=(0,E.useState)(0),[j,g]=(0,E.useState)(10),f=(0,E.useMemo)((()=>i.map(((e,t)=>{var s,n;return{id:"".concat(e.contestId).concat(e.user.userId),no:t+1,email:(null===(s=e.user)||void 0===s?void 0:s.email)||"",createdAt:e.createdAt,avatarUrl:(null===(n=e.user)||void 0===n?void 0:n.avatarUrl)||""}}))),[i]);return(0,E.useEffect)((()=>{t&&m(t,h,j)}),[t,m,h,j]),t?(0,C.jsx)(n.ZP,{container:!0,gap:2,direction:"column",sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)"},children:(0,C.jsx)(n.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsx)(Z.Z,{loading:s,dataList:f,tableHeader:d,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:h,pageSize:j,totalElement:100,onPaginationModelChange:(e,s)=>{t&&(p(e.page),g(e.pageSize),m(t,e.page,e.pageSize))},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})})}):null},fe=()=>(0,C.jsx)("div",{children:(0,C.jsx)("h1",{children:"Contest Statistics"})}),be="styles_formBody__ZSG6f",ye="styles_breadcump__T7a9E",Pe="styles_breadcumpWrapper__R7SGo",ve="styles_icArrow__bYt8n",we="styles_cursorPointer__HLN-2",Te="styles_tabs__55ljR",ke=e=>{let{control:t,errors:s,setValue:r,watch:i}=e;const{t:a}=(0,v.$G)();return(0,C.jsxs)(n.ZP,{container:!0,gap:2,direction:"column",sx:{margin:"0px 20px -80px 20px",width:"calc(100% - 40px)",height:"100%"},children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsx)(ue.Z,{"translate-key":"contest_forum",children:a("contest_forum")})}),(0,C.jsxs)(n.ZP,{item:!0,xs:12,sx:{marginTop:"10px"},children:[(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,children:(0,C.jsx)(te.Qr,{control:t,name:"isRestrictedForum",rules:{required:!0},render:e=>{let{field:{ref:r,...i}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,C.jsx)(ee.Z,{"translate-key":"contest_is_restricted_forum",title:a("contest_is_restricted_forum"),tooltipDescription:a("contest_is_restricted_forum_tooltip")})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:8,children:(0,C.jsxs)(x.Z,{direction:"column",gap:1,children:[(0,C.jsx)(te.Qr,{control:t,name:"isRestrictedForum",render:e=>{let{field:{ref:t,...s}}=e;return(0,C.jsx)($.Z,{control:(0,C.jsx)(J.Z,{color:"primary",...s,checked:s.value}),label:""})}}),s.isRestrictedForum&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:s.isRestrictedForum.message&&(0,C.jsx)(ce.Z,{children:s.isRestrictedForum.message||""})})]})})]})}})}),(0,C.jsx)(n.ZP,{container:!0,spacing:2,columns:12,children:(0,C.jsx)(te.Qr,{control:t,name:"isDisabledForum",rules:{required:!0},render:e=>{let{field:{ref:r,...i}}=e;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:3,children:(0,C.jsx)(ee.Z,{"translate-key":"contest_is_disabled_forum",title:a("contest_is_disabled_forum"),tooltipDescription:a("contest_is_disabled_forum_tooltip")})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:8,children:(0,C.jsxs)(x.Z,{direction:"column",gap:1,children:[(0,C.jsx)(te.Qr,{control:t,name:"isDisabledForum",render:e=>{let{field:{ref:t,...s}}=e;return(0,C.jsx)($.Z,{control:(0,C.jsx)(J.Z,{color:"primary",...s,checked:s.value}),label:""})}}),s.isDisabledForum&&(0,C.jsx)(n.ZP,{item:!0,xs:12,children:s.isDisabledForum.message&&(0,C.jsx)(ce.Z,{children:s.isDisabledForum.message||""})})]})})]})}})})]})]})};var Ce=s(62614);const Se=e=>{let{isDrawerOpen:t}=e;const s=(0,E.useRef)(null),{t:n}=(0,v.$G)(),i=(0,l.s0)(),{pathname:a}=(0,l.TH)(),[o,c]=(0,E.useState)(!1),[d,m]=(0,E.useState)(B.N.INFO),[x,u]=(0,E.useState)(""),{contestId:h}=(0,l.UO)(),[_,g]=(0,E.useState)(!1),[Z,f]=(0,E.useState)(""),b=(0,E.useMemo)((()=>[O._.admin.contest.edit.details,O._.admin.contest.edit.problems,O._.admin.contest.edit.advanced_settings,O._.admin.contest.edit.signups,O._.admin.contest.edit.statistics]),[O._]),y=(0,E.useMemo)((()=>{if(h){const e=b.findIndex((e=>{return t=e.replace(":contestId",h),!!a.startsWith(t);var t}));return-1===e?0:e}}),[a,b]),P=(0,E.useMemo)((()=>se.Ry().shape({isNoEndTime:se.O7().required(n("contest_is_no_end_time_required")),name:se.Z_().required(n("contest_name_required")).trim(""),startTime:se.Z_().required(n("contest_start_time_required")).trim("").test("startTime",n("contest_start_time_greater_than_current_time"),(function(e){return D()(e).isAfter(D()().utc())})),endTime:se.Z_().nullable().test("endTime",n("contest_end_time_required"),(function(e){return!!this.parent.isNoEndTime||!!e})).test("endTime",n("contest_end_time_greater_than_start_time"),(function(e){return!!this.parent.isNoEndTime||D()(e).isAfter(this.parent.startTime)})),thumbnailUrl:se.Z_().trim(""),description:se.Z_().trim(""),prizes:se.Z_().trim(""),rules:se.Z_().trim(""),scoring:se.Z_().trim(""),isPublic:se.O7().required(n("contest_is_public_required")),isRestrictedForum:se.O7().required(n("contest_is_restricted_forum_required")),isDisabledForum:se.O7().required(n("contest_is_disabled_forum_required"))})),[n]),{control:T,handleSubmit:k,watch:S,formState:{errors:A},setValue:I}=(0,te.cI)({resolver:(0,Q.X)(P),defaultValues:{isNoEndTime:!1,name:"",startTime:D().utc().add(30,"minute").toISOString(),endTime:D().utc().add(1,"hour").toISOString(),thumbnailUrl:"",description:"",prizes:"",rules:"",scoring:"",isPublic:!1,isRestrictedForum:!1,isDisabledForum:!1}}),q=(0,E.useCallback)((async e=>{try{const t=await H.c.getContestById(e);if(t){I("name",t.name),f(t.name),I("startTime",t.startTime),t.endTime?(I("isNoEndTime",!1),I("endTime",t.endTime)):(I("isNoEndTime",!0),I("endTime",null)),I("thumbnailUrl",t.thumbnailUrl);const e=t.description?t.description:"Please provide a short description of your contest here!";I("description",e);const s=t.prizes&&""!==t.prizes?t.prizes:"- Prizes are optional. You may add any prizes that you would like to offer here.";I("prizes",s);const n=t.rules&&""!==t.rules?t.rules:"- Please provide any rules for your contest here.";I("rules",n);const r=t.scoring&&""!==t.scoring?t.scoring:"- Each challenge has a pre-determined score.\n          - A participant\u2019s score depends on the number of test cases a participant\u2019s code submission successfully passes.\n          - If a participant submits more than one solution per challenge, then the participant\u2019s score will reflect the highest score achieved.\n          - Participants are ranked by score. If two or more participants achieve the same score, then the tie is broken by the total time taken to submit the last solution resulting in a higher score";I("scoring",r),I("isPublic",t.isPublic)}}catch(t){console.error("error",t)}}),[I]),z=((0,E.useCallback)((async(e,t)=>{try{await H.c.updateContest(e,t)?(c(!0),m(B.N.Success),u("Contest updated successfully")):(c(!0),m(B.N.Error),u("Failed to update contest"))}catch(s){console.error("error",s),401===s.code||s.code}}),[]),async e=>{console.log(e)});return(0,E.useEffect)((()=>{h&&q(h)}),[h,q]),h?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(B.Z,{open:o,setOpen:c,type:d,content:x}),(0,C.jsxs)(r.Z,{component:"form",className:be,onSubmit:k(z),children:[(0,C.jsxs)(p.Z,{sx:{"& .MuiDataGrid-root":{border:"1px solid #e0e0e0",borderRadius:"4px"},margin:"20px",gap:"20px"},children:[(0,C.jsx)(r.Z,{className:ye,ref:s,children:(0,C.jsxs)(r.Z,{id:Pe,children:[(0,C.jsx)(F.Z,{colorname:"--blue-500",className:we,onClick:()=>i(O._.admin.contest.root),"translation-key":"contest_management_title",children:n("contest_management_title")}),(0,C.jsx)(K.Z,{id:ve}),(0,C.jsx)(F.Z,{colorname:"--blue-500",children:Z})]})}),(0,C.jsx)(j.Z,{}),(0,C.jsx)(r.Z,{sx:{margin:"20px"},children:(0,C.jsx)(N.Z,{children:Z})}),(0,C.jsx)(r.Z,{sx:{margin:"20px",borderRadius:"5px",border:"1px solid #e0e0e0"},children:(0,C.jsxs)(me.Z,{value:y,onChange:(e,t)=>{h&&i(b[t].replace(":contestId",h))},"aria-label":"basic tabs example",className:Te,variant:"fullWidth",children:[(0,C.jsx)(xe.Z,{sx:{textTransform:"none"},label:(0,C.jsx)(w.Z,{"translate-key":"common_details",children:n("common_details")}),value:0}),(0,C.jsx)(xe.Z,{sx:{textTransform:"none"},label:(0,C.jsx)(w.Z,{"translate-key":"common_problems",children:n("common_problems")}),value:1}),(0,C.jsx)(xe.Z,{sx:{textTransform:"none"},label:(0,C.jsx)(w.Z,{"translate-key":"common_advanced_settings",children:n("common_advanced_settings")}),value:2}),(0,C.jsx)(xe.Z,{sx:{textTransform:"none"},label:(0,C.jsx)(w.Z,{"translate-key":"common_signups",children:n("common_signups")}),value:3}),(0,C.jsx)(xe.Z,{sx:{textTransform:"none"},label:(0,C.jsx)(w.Z,{"translate-key":"common_statistics",children:n("common_statistics")}),value:4})]})}),(0,C.jsx)(r.Z,{children:(0,C.jsxs)(l.Z5,{children:[(0,C.jsx)(l.AW,{path:"details",element:(0,C.jsx)(_e,{control:T,errors:A,setValue:I,watch:S})}),(0,C.jsx)(l.AW,{path:"problems",element:(0,C.jsx)(ge,{})}),(0,C.jsx)(l.AW,{path:"advanced-settings",element:(0,C.jsx)(ke,{control:T,errors:A,setValue:I,watch:S})}),(0,C.jsx)(l.AW,{path:"signups",element:(0,C.jsx)(Ze,{})}),(0,C.jsx)(l.AW,{path:"statistics",element:(0,C.jsx)(fe,{})}),(0,C.jsx)(l.AW,{path:"*",element:(0,C.jsx)(Ce.Z,{})})]})})]}),(0,C.jsxs)(r.Z,{sx:{display:"flex",justifyContent:"space-between",position:"fixed",bottom:"0px",padding:"20px",marginLeft:"-25px",backgroundColor:"white",borderTop:"1px solid #E0E0E0",width:t?"calc(100% - 300px)":"100%"},children:[(0,C.jsx)(oe.Z,{variant:"outlined","translation-key":"contest_preview_contest_details_page",onClick:()=>i(O._.user.contest.detail.replace(":contestId",h)),children:n("contest_preview_contest_details_page")}),(0,C.jsx)(oe.Z,{loading:_,variant:"solid",type:"submit","translation-key":"common_save_changes",onClick:k(z),children:n("common_save_changes")})]})]})]}):null};var Ne=s(46923),Ae=s(17592),Fe=s(38707);const Ie="styles_drawer__nt9TU",qe="styles_img__CARKn";var ze=s(47477),Re=s(37400),De=s(90200),Ee=s(25614);const We=300,Me=(0,Ae.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:s}=e;return{flexGrow:1,width:"calc(100% - ".concat(We,"px)"),overflow:"auto",padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(We,"px"),...s&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}}));function Le(e){let{open:t,toggleDrawer:s,children:n}=e;const{t:i}=(0,v.$G)(),a=[{name:i("common_dashboard"),"translation-key":"common_dashboard",icon:(0,C.jsx)(r.Z,{className:qe,children:(0,C.jsx)(Ee.Z,{})}),link:O._.admin.dashboard},{name:i("side_bar_contest_management"),"translation-key":"side_bar_contest_management",icon:(0,C.jsx)(r.Z,{className:qe,children:(0,C.jsx)("img",{src:Re.Z.admin.contest,alt:"contest img"})}),link:O._.admin.contest.root}],l=(0,E.useRef)(null),{height:o}=(0,ze.Z)({ref:l});return(0,C.jsxs)(r.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,C.jsx)(De.Z,{toggleDrawer:s,ref:l}),(0,C.jsx)(Ne.ZP,{className:Ie,sx:{width:We,flexShrink:0,"& .MuiDrawer-paper":{width:We,marginTop:"".concat(o+2,"px")}},variant:"persistent",anchor:"left",open:t,children:(0,C.jsx)(Fe.Z,{sideBarItem:a})}),(0,C.jsx)(Me,{open:t,sx:{marginTop:"".concat(o,"px"),height:"calc(100% - ".concat(o,"px)")},children:n})]})}var Oe=s(56835),He=s(84488),Ue=s(2959);const Ge=e=>{const{title:t,value:s,mainColor:n,icon:i}=e;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(Ue.Z,{variant:"outlined",color:"neutral",sx:{height:"120px",backgroundColor:"#fff",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,C.jsxs)(x.Z,{direction:"row",spacing:2,margin:"0 1rem",display:"flex",justifyContent:"space-between",children:[(0,C.jsxs)(r.Z,{children:[(0,C.jsx)(w.Z,{letterSpacing:"0.5px",textTransform:"uppercase",colorname:"--gray-40",fontSize:"0.75rem",fontWeight:"500",lineHeight:"2.5",children:t}),(0,C.jsx)(w.Z,{fontSize:"2rem",fontWeight:"500",color:"#212121",children:s})]}),(0,C.jsx)(r.Z,{sx:{borderRadius:"1000px",backgroundColor:n,width:"50px",height:"50px"},display:"flex",justifyContent:"center",alignItems:"center",children:i})]}),(0,C.jsx)(r.Z,{sx:{height:"7px",width:"100%",backgroundColor:n,borderRadius:"0 0 100px 100px"}})]})})};var Be=s(72864),Ve=s(84915),Qe=s(47892),Ke=s(70646),$e=s(17939),Je=s(33099),Ye=s(5818),Xe=s(34923),et=s(32292),tt=s(98983);const st=()=>{const{t:e}=(0,v.$G)(),[t,s]=(0,E.useState)(!1),[r,i]=(0,E.useState)(0),[a,l]=(0,E.useState)([]),[o,c]=(0,E.useState)(!0),d=[e("common_general"),e("common_user_organization"),e("common_course"),e("common_certificate"),e("common_organization"),e("common_contest")];return(0,E.useEffect)((()=>{(async()=>{await(async()=>{try{const e=await Ye.K.getAllUser();console.log(e),l(e.users)}catch(e){console.log(e)}})()})()}),[]),(0,C.jsxs)(C.Fragment,{children:[t&&(0,C.jsxs)(n.ZP,{container:!0,spacing:2,sx:{padding:3},children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsx)(He.Z,{variant:"text",sx:{fontSize:"1rem"}})}),(0,C.jsx)(n.ZP,{item:!0,xs:6,children:(0,C.jsx)(He.Z,{variant:"text",height:50})}),(0,C.jsx)(n.ZP,{item:!0,xs:6}),(0,C.jsx)(n.ZP,{item:!0,xs:5,children:(0,C.jsx)(He.Z,{variant:"text",sx:{fontSize:"1.5rem"}})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsxs)(n.ZP,{container:!0,spacing:4,children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,C.jsx)(He.Z,{variant:"rounded",height:100})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,C.jsx)(He.Z,{variant:"rounded",height:100})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,C.jsx)(He.Z,{variant:"rounded",height:100})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,C.jsx)(He.Z,{variant:"rounded",height:100})})]})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,C.jsxs)(n.ZP,{container:!0,spacing:3,children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,md:8,children:(0,C.jsx)(He.Z,{variant:"rounded",height:400})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:4,children:(0,C.jsx)(He.Z,{variant:"rounded",height:400})})]})})]}),!t&&(0,C.jsxs)(n.ZP,{container:!0,spacing:2,sx:{padding:3},children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsx)(He.Z,{variant:"text",sx:{fontSize:"1rem"}})}),(0,C.jsx)(n.ZP,{item:!0,xs:6,children:(0,C.jsx)(Be.Z,{"aria-label":"tabs",defaultValue:r,sx:{bgcolor:"transparent"},onChange:(e,t)=>i(Number(t)||0),children:(0,C.jsx)(Ve.Z,{disableUnderline:!0,sx:{p:.5,gap:.5,borderRadius:"xl",bgcolor:"background.level1",["& .".concat(Qe.Z.root,'[aria-selected="true"]')]:{boxShadow:"sm",bgcolor:"background.surface"}},children:d.map(((e,t)=>(0,C.jsx)(Ke.Z,{disableIndicator:!0,children:e},t)))})})}),(0,C.jsx)(n.ZP,{item:!0,xs:6}),0===r&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(n.ZP,{item:!0,xs:5,children:(0,C.jsx)(Je.Z,{children:e("general_info")})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,children:(0,C.jsxs)(n.ZP,{container:!0,spacing:4,children:[(0,C.jsx)(n.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,C.jsx)(Ge,{icon:(0,C.jsx)($e.Z,{sx:{fontSize:"35px",color:"white"}}),title:e("common_user"),value:0,mainColor:"#FFA726"})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,C.jsx)(Ge,{icon:(0,C.jsx)($e.Z,{sx:{fontSize:"35px",color:"white"}}),title:e("Total user"),value:0,mainColor:"#FFA726"})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,C.jsx)(Ge,{icon:(0,C.jsx)($e.Z,{sx:{fontSize:"35px",color:"white"}}),title:e("Unique visitor"),value:0,mainColor:"#FFA726"})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,C.jsx)(Ge,{icon:(0,C.jsx)($e.Z,{sx:{fontSize:"35px",color:"white"}}),title:"Active user",value:0,mainColor:"#FFA726"})})]})}),(0,C.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,C.jsxs)(n.ZP,{container:!0,spacing:4,children:[(0,C.jsxs)(n.ZP,{item:!0,xs:12,md:12,lg:8,children:[(0,C.jsx)(Xe.Z,{children:"User register"}),(0,C.jsxs)(Ue.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center"},children:[(0,C.jsxs)(x.Z,{display:"flex",justifyContent:"flex-end",direction:"row",spacing:2,children:[(0,C.jsx)(oe.Z,{variant:o?"outlined":"plain",onClick:()=>{o||c(!o)},size:"sm",children:"Week"}),(0,C.jsx)(oe.Z,{variant:o?"plain":"outlined",onClick:()=>{o&&c(!o)},size:"sm",children:"Month"})]}),(0,C.jsx)(x.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,C.jsx)(tt.v,{sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"}},xAxis:[{scaleType:"band",data:o?["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],colorMap:{type:"ordinal",colors:["#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"]},tickPlacement:"middle"}],yAxis:[{disableTicks:!0}],series:(e=>{if(0===a.length)return[{data:[]},{data:[]}];let t=[];t=e?a.filter((e=>{const t=new Date(e.createdAt);return(new Date).getDate()-t.getDate()<=7?e:null})):a.filter((e=>{const t=new Date(e.createdAt),s=new Date;return t.getFullYear()===s.getFullYear()?e:null}));const s=new Array(e?7:12).fill(0);return t.forEach((t=>{const n=new Date(t.createdAt);let r=e?n.getDay():n.getMonth();e&&(r=0===r?6:r-1),s[r]++})),console.log(s),[{data:s}]})(o),height:340,grid:{horizontal:!0},borderRadius:10,margin:{left:20,right:20,top:40,bottom:30}})})]})]}),(0,C.jsxs)(n.ZP,{item:!0,xs:12,md:12,lg:4,children:[(0,C.jsx)(Xe.Z,{children:"Active user and unique visitor"}),(0,C.jsx)(Ue.Z,{color:"neutral",variant:"outlined",sx:{height:"400px"},children:(0,C.jsx)(et.u,{series:[{data:[{id:0,value:10},{id:1,value:15},{id:2,value:20}]}],height:400,sx:{maxWidth:"400px"}})})]})]})})]})]})]})},nt=e=>{const[t,s]=E.useState(!0);return(0,C.jsx)(n.ZP,{className:i,children:(0,C.jsx)(Le,{open:t,toggleDrawer:()=>{s((e=>!e))},children:(0,C.jsx)(r.Z,{className:a,children:(0,C.jsx)(l.Z5,{children:(0,C.jsxs)(l.AW,{element:(0,C.jsx)(o.Z,{availableRoles:[c.W.ADMIN]}),children:[(0,C.jsx)(l.AW,{path:"contests",element:(0,C.jsx)(V,{})}),(0,C.jsx)(l.AW,{path:"contests/create",element:(0,C.jsx)(de,{})}),(0,C.jsx)(l.AW,{path:"contests/edit/:contestId/*",element:(0,C.jsx)(Se,{isDrawerOpen:t})}),(0,C.jsx)(l.AW,{path:"information",element:(0,C.jsx)(Oe.Z,{})}),(0,C.jsx)(l.AW,{path:"/",element:(0,C.jsx)(st,{})})]})})})})})}}}]);