"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[2407],{38037:(e,t,n)=>{n.d(t,{Z:()=>c});var s,o=n(30168),a=n(17592),l=n(61113);const c=(0,a.ZP)(l.Z)(s||(s=(0,o.Z)(['\n  font-family: "Montserrat";\n  font-style: ',";\n  font-weight: ",";\n  font-size: 18px;\n  line-height: 24px;\n  text-wrap: ",";\n  color: ",";\n  @media only screen and (max-width: 767px) {\n    font-size: ",";\n    line-height: ",";\n  }\n"])),(e=>e.fontStyle||"normal"),(e=>e.fontWeight||600),(e=>e.textWrap||"wrap"),(e=>"var(".concat(e.colorname||"--eerie-black-00",")")),(e=>e.fontSizeMobile||"14px"),(e=>e.$lineHeightMobile||"24px"))},12407:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var s=n(47313),o=n(79536);const a={searchContainer:"styles_searchContainer__z7WgP",searchInput:"styles_searchInput__mm4w3",containerDetailSolution:"styles_containerDetailSolution__et12E",stickyBack:"styles_stickyBack__ageI3",backButton:"styles_backButton__Q57nc",backIcon:"styles_backIcon__k3QZq",solutionContainer:"styles_solutionContainer__Q2Rdo",userInfo:"styles_userInfo__xcSXt",imgAvatar:"styles_imgAvatar__HR+9r",nameInfoContainer:"styles_nameInfoContainer__7PYuA",solutionButton:"styles_solutionButton__KztC8",solutionIcon:"styles_solutionIcon__-N-Sw",upVote:"styles_upVote__SaJ5r",view:"styles_view__WFl7f",calendar:"styles_calendar__m57yT",tagLanguageSolution:"styles_tagLanguageSolution__YWOMZ",item:"styles_item__6FBz8",commentContainer:"styles_commentContainer__rmZhz",commentTitleContainer:"styles_commentTitleContainer__bpTPv",commentTitle:"styles_commentTitle__-FJn0",commentIcon:"styles_commentIcon__RzMxA",commentBox:"styles_commentBox__toj2a",textArea:"styles_textArea__SxuVi",commentButton:"styles_commentButton__Nw4-c",commentList:"styles_commentList__tligR",commentItem:"styles_commentItem__6r0wy",commentInfoUser:"styles_commentInfoUser__TEVE7",commentContent:"styles_commentContent__jgLGD",commentName:"styles_commentName__GTHZK",commentText:"styles_commentText__pdg+v",commentAction:"styles_commentAction__RCa8g",reply:"styles_reply__IPxig",stickyUpvote:"styles_stickyUpvote__mbKRu",upvoteButton:"styles_upvoteButton__afLv3",markdown:"styles_markdown__OBpHz"};var l=n(14647),c=n(19536),i=n(48119),m=n(42832),r=n(74312),d=n(80007),_=n(38037),u=n(10259),h=n(39276),v=n(627),x=n(2126),y=n(11001),N=n(33223),Z=n(19187),g=n(47477),j=n(75590),f=n(51928),p=n(8344),b=n(60191),k=n(23885),I=n(15162),C=n(75627),S=n(62563),w=n(21933),B=n(46417);const T=(e,t)=>{try{return void 0===e?e:(0,I.J$)(e,t)}catch(n){return console.error(n),e}};function A(e){var t,n,I,A,M,L,z,P,D,R,Y,H,U;let{handleSolutionDetail:G,selectedSolutionId:V}=e;const{t:E}=(0,j.$G)(),F=w.Ry().shape({comment:w.Z_().required("".concat(E("detail_problem_discussion_detail_comment")," ").concat(E("common_cannot_be_blank"))).test("not-blank","".concat(E("detail_problem_discussion_detail_comment")," ").concat(E("common_cannot_be_blank")),(e=>void 0!==e&&e.trim().length>0))}),K=(0,f.T)(),[W,J]=(0,s.useState)(null),[$,O]=(0,s.useState)(!1),[Q,X]=(0,s.useState)(0),[q,ee]=(0,s.useState)(1),[te,ne]=(0,s.useState)([]),[se,oe]=(0,s.useState)(!0);(0,s.useEffect)((()=>{V&&(K((0,p.K4)(!0)),b.T.getDetailSharedSolution(V).then((e=>{J(e)})).catch((e=>console.log(e))).finally((()=>{K((0,p.K4)(!1))})))}),[]),(0,s.useEffect)((()=>{me()}),[se,Q]);const{register:ae,handleSubmit:le,watch:ce,formState:{errors:ie}}=(0,C.cI)({resolver:(0,S.X)(F)}),me=()=>{V&&(O(!0),b.T.getRootComments(V,Q,10,se).then((e=>{ee(e.totalPages),ne(e.comments)})).catch((e=>console.log(e))).then((()=>{O(!1)})))},re=(0,s.useRef)(null),{height:de}=(0,g.Z)({ref:re});return(0,B.jsxs)(o.Z,{className:a.containerDetailSolution,children:[(0,B.jsxs)(o.Z,{className:a.stickyBack,ref:re,children:[(0,B.jsxs)(o.Z,{onClick:G,className:a.backButton,children:[(0,B.jsx)(l.Z,{className:a.backIcon}),(0,B.jsx)("span",{"translation-key":"common_back",children:E("common_back")})]}),(0,B.jsx)(c.Z,{})]}),(0,B.jsx)(o.Z,{className:a.solutionContainer,style:{height:"calc(100% - ".concat(de,"px)")},children:W&&(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(o.Z,{className:a.solutionTitle,children:(0,B.jsx)(_.Z,{children:W.title})}),(0,B.jsxs)(o.Z,{className:a.userInfo,children:[(0,B.jsx)(o.Z,{className:a.avatar,children:(0,B.jsx)(i.Z,{sx:{bgcolor:"var(--green-500)"},alt:null===(t=W.user)||void 0===t?void 0:t.firstName,src:null===(n=W.user)||void 0===n?void 0:n.avatarUrl,children:null===(I=W.user)||void 0===I?void 0:I.firstName.charAt(0)})}),(0,B.jsxs)(o.Z,{className:a.nameInfoContainer,children:[(0,B.jsx)(o.Z,{className:a.name,children:"vi"===k.ZP.language?"".concat(null!==(A=null===(M=W.user)||void 0===M?void 0:M.lastName)&&void 0!==A?A:""," ").concat(null!==(L=null===(z=W.user)||void 0===z?void 0:z.firstName)&&void 0!==L?L:""):"".concat(null!==(P=null===(D=W.user)||void 0===D?void 0:D.firstName)&&void 0!==P?P:""," ").concat(null!==(R=null===(Y=W.user)||void 0===Y?void 0:Y.lastName)&&void 0!==R?R:"")}),(0,B.jsxs)(o.Z,{className:a.solutionButton,children:[(0,B.jsxs)(o.Z,{className:a.view,children:[(0,B.jsx)(u.G,{icon:h.Mdf,className:a.solutionIcon}),(0,B.jsx)(o.Z,{className:a.viewNumber,children:W.totalView})]}),(0,B.jsxs)(o.Z,{className:a.calendar,children:[(0,B.jsx)(u.G,{icon:h.fT7,className:a.solutionIcon}),(0,B.jsx)(o.Z,{className:a.calendarNumber,children:null!==(H=T(W.createdAt,k.ZP.language))&&void 0!==H?H:""})]})]})]})]}),(0,B.jsx)(o.Z,{className:a.tagLanguageSolution,children:W.tags.map((e=>(0,B.jsx)(o.Z,{className:a.item,children:e.name},e.id)))}),(0,B.jsx)(o.Z,{"data-color-mode":"light",children:(0,B.jsx)(Z.ZP.Markdown,{source:null!==(U=W.content)&&void 0!==U?U:"",className:a.markdown})}),(0,B.jsxs)(o.Z,{className:a.commentContainer,children:[(0,B.jsxs)(o.Z,{className:a.commentTitleContainer,children:[(0,B.jsxs)(o.Z,{className:a.commentTitle,children:[(0,B.jsx)(u.G,{icon:h.lXL,className:a.commentIcon}),(0,B.jsx)(o.Z,{className:a.commentNumber,"translation-key":"detail_problem_discussion_detail_comment_count",children:E("detail_problem_discussion_detail_comment_count",{commentNumber:10})})]}),(0,B.jsx)(o.Z,{className:a.filterComment,children:"L\u1ecdc theo: M\u1edbi nh\u1ea5t"})]}),(0,B.jsx)(o.Z,{className:a.commentBox,children:(0,B.jsxs)("form",{onSubmit:le((e=>{null!==V&&b.T.createComment({sharedSolutionId:V,content:e.comment}).then((e=>{me()})).catch((e=>{console.log(e)}))})),children:[(0,B.jsx)(y.u,{"aria-label":"empty textarea","translation-key":"detail_problem_discussion_your_comment",placeholder:E("detail_problem_discussion_your_comment"),className:a.textArea,minRows:5,...ae("comment"),"aria-invalid":!!ie.comment}),(0,B.jsx)(N.Z,{type:"submit",variant:"contained",className:a.commentButton,"translation-key":"detail_problem_discussion_detail_comment",children:E("detail_problem_discussion_detail_comment")})]})}),ie.comment&&(0,B.jsx)(d.Z,{colorname:"--red-error",children:ie.comment.message}),(0,B.jsx)(o.Z,{className:a.commentList,children:(0,B.jsxs)(o.Z,{className:a.commentItem,children:[te.map((e=>{var t,n,s,l,m,r,d,_,u,h,y;return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(o.Z,{className:a.commentInfo,children:[(0,B.jsxs)(o.Z,{className:a.commentInfoUser,children:[(0,B.jsx)(i.Z,{sx:{bgcolor:"var(--green-500)"},alt:null===(t=e.user)||void 0===t?void 0:t.firstName,src:null===(n=e.user)||void 0===n?void 0:n.avatarUrl,children:null===(s=e.user)||void 0===s?void 0:s.firstName.charAt(0)}),(0,B.jsx)(o.Z,{className:a.commentName,children:"vi"===k.ZP.language?"".concat(null!==(l=null===(m=e.user)||void 0===m?void 0:m.lastName)&&void 0!==l?l:""," ").concat(null!==(r=null===(d=W.user)||void 0===d?void 0:d.firstName)&&void 0!==r?r:""):"".concat(null!==(_=null===(u=e.user)||void 0===u?void 0:u.firstName)&&void 0!==_?_:""," ").concat(null!==(h=null===(y=e.user)||void 0===y?void 0:y.lastName)&&void 0!==h?h:"")})]}),(0,B.jsx)(o.Z,{className:a.commentText,children:(0,B.jsx)(v.U,{children:e.content,remarkPlugins:[x.Z]})})]},e.user.id),(0,B.jsx)(c.Z,{})]})})),(0,B.jsx)(m.Z,{alignItems:"center",children:(0,B.jsx)(r.Z,{count:q,onChange:(e,t)=>{X(t-1)},page:Q+1})})]})})]})]})})]})}},15162:(e,t,n)=>{n.d(t,{J$:()=>l});const s="ASIA/HO_CHI_MINH";var o=n(82374),a=n.n(o);const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";const n="vi"===t?"dddd DD/MM/YYYY hh:mm A":"dddd MM/DD/YYYY hh:mm A";return a()(e).isValid()?a()(e).locale(t).tz(s).format(n).replace(/^\w/,(e=>e.toUpperCase())):""}},14647:(e,t,n)=>{var s=n(64836);t.Z=void 0;var o=s(n(45045)),a=n(46417);t.Z=(0,o.default)((0,a.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")}}]);