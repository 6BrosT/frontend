"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[3155],{3855:(e,t,n)=>{n.d(t,{Z:()=>c});var a=n(6306),s=n(52769),i=n(41872),o=n(98492),r=n(47313),l=n(46417);function c(e){let{title:t,children:n,sx:c,open:d}=e;const[m,u]=r.useState(d||!1);return(0,l.jsxs)(s.Z,{sx:c,expanded:"panel1"===m,onChange:(_="panel1",(e,t)=>{u(!!t&&_)}),children:[(0,l.jsx)(o.Z,{expandIcon:(0,l.jsx)(a.Z,{}),"aria-controls":"panel1-content",id:"panel1-header",children:t}),(0,l.jsx)(i.Z,{children:n})]});var _}},47322:(e,t,n)=>{n.d(t,{Z:()=>o});n(47313);var a=n(44944),s=n(35765),i=n(46417);function o(e){let{dataset:t,xAxis:n,yAxis:o,series:r,width:l,height:c,gridHorizontal:d,gridVertical:m,borderRadius:u,padding:_,...h}=e;return(0,i.jsx)(a.v,{dataset:t,xAxis:n,yAxis:o,series:r,width:l,height:c,grid:{vertical:m,horizontal:d},borderRadius:u,sx:{[".".concat(s.x.left," .").concat(s.x.label)]:{transform:"translate(-25px, 0)"},padding:_||"25px"}})}},42278:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(70501),s=n(79536),i=n(1550),o=n(15103),r=n(88797),l=n(51405);const c="style_container__boAL0",d="style_searchWrapper__nUsY7",m="style_colSearchContainer__qXGQ5";var u=n(41835),_=n(47313),h=n(5124),x=n(99140),g=n(46417);const p=()=>{const[e,t]=(0,_.useState)("name");return(0,g.jsxs)(a.Z,{className:c,children:[(0,g.jsxs)(s.Z,{className:d,children:[(0,g.jsx)(h.Z,{onSearchClick:e=>{console.log(e)}}),(0,g.jsxs)(i.Z,{className:m,children:[(0,g.jsx)(o.Z,{id:"colSearch",children:"T\xecm ki\u1ebfm theo c\u1ed9t"}),(0,g.jsxs)(r.Z,{labelId:"colSearch",id:"colSearchSelect",value:e,onChange:(e,n)=>{t(e.target.value)},label:"T\xecm ki\u1ebfm theo c\u1ed9t",children:[(0,g.jsx)(l.Z,{value:"name",children:"T\xean"}),(0,g.jsx)(l.Z,{value:"emai",children:"Email"}),(0,g.jsx)(l.Z,{value:"role",children:"Ch\u1ee9c v\u1ee5"})]})]})]}),(0,g.jsx)(x.Z,{btnType:x.s.Primary,startIcon:(0,g.jsx)(u.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},children:"Xu\u1ea5t d\u1eef li\u1ec7u"})]})}},49737:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(47322),s=n(46417);function i(e){let{dataset:t,xAxis:n,width:i,height:o,...r}=e;const l=[{dataKey:"student",label:"Sinh vi\xean",valueFormatter:e=>null===e?"No data":"".concat(e," sinh vi\xean")}];return(0,s.jsx)(a.Z,{dataset:t,xAxis:n,yAxis:[{label:"T\u1ed5ng s\u1ed1 sinh vi\xean \u0111\u1ea1t kho\u1ea3ng \u0111i\u1ec3m"}],series:l,width:i,height:o,...r})}},9762:(e,t,n)=>{n.r(t),n.d(t,{default:()=>xi});var a=n(9019),s=n(79536);const i="styles_root__enCMQ",o="styles_container__-8DXJ",r="styles_body__NhpWp";var l=n(58467),c=n(5211),d=n(19536),m=n(80240),u=n(18708),_=n(99140),h=n(37735),x=n(31845),g=n(10658),p=n.n(g),y=n(47313),b=n(65033),j=n(97707),f=n(83929),Z=n(74268),v=n(15535),C=n(89990),k=n(16977),T=n(92556),S=n(99221);const w="styles_formBody__9kmtj",I="styles_textEditor__PPy+C";var N=n(38556),D=n(75590),P=n(70816),A=n.n(P),E=n(46417);const M=e=>{let{data:t,handleChangData:n,open:i,title:o,handleClose:r,children:l,cancelText:c,confirmText:d,onHandleCancel:m,onHanldeConfirm:u,...x}=e;const{t:g}=(0,D.$G)(),P=(0,y.useCallback)((()=>{n({isExpanded:!t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,eventDescription:t.eventDescription,start:t.start,end:t.end,allDay:t.allDay,eventType:t.eventType})}),[t,n]),{height:M}=(0,N.Z)();return(0,E.jsx)(C.Z,{open:i,handleClose:r,title:o,cancelText:c,confirmText:d,onHandleCancel:m,onHanldeConfirm:u,minWidth:"800px",maxHeight:"".concat(.6*M,"px"),...x,children:(0,E.jsxs)(s.Z,{component:"form",className:w,autoComplete:"off",children:[(0,E.jsx)(k.Z,{type:"text",title:g("calendar_event_name"),"translation-key":"calendar_event_name",value:t.eventTitle,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:e.target.value,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription,eventType:t.eventType})}}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"calendar_event_date",children:g("calendar_event_date")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,children:(0,E.jsx)(v.Z,{value:A()(t.start),onHandleValueChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:(null===e||void 0===e?void 0:e.toString())||"",end:t.end,allDay:t.allDay,eventDescription:t.eventDescription,eventType:t.eventType})}})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"calendar_event_type",children:g("calendar_event_type")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,children:(0,E.jsx)(h.Z,{labelId:"select-assignment-section-label",value:t.eventType,onHandleChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription,eventType:e})},sx:{maxWidth:"200px"},items:[{value:"0",label:g("calendar_event_type_user")},{value:"1",label:g("calendar_event_type_course")}],"translation-key":["calendar_event_type_course","calendar_event_type_user"]})})]}),(0,E.jsx)(_.Z,{btnType:_.s.Text,onClick:P,width:"fit-content",padding:"0px","translation-key":["calendar_event_collapse","calendar_event_expand"],children:t.isExpanded?"".concat(g("calendar_event_collapse"),"..."):"".concat(g("calendar_event_expand"),"...")}),(0,E.jsxs)(b.Z,{in:t.isExpanded,children:[(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"detail_problem_description",children:g("detail_problem_description")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:I,children:(0,E.jsx)(T.Z,{value:t.eventDescription,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:e,eventType:t.eventType})}})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,sx:{marginTop:"30px"},children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,sx:{marginTop:"10px"},children:(0,E.jsx)(S.Z,{"translation-key":"calendar_event_time_range",children:g("calendar_event_time_range")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,children:(0,E.jsxs)(j.Z,{"aria-label":"duration",name:"duration",value:t.durationRadioIndex,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:e.target.value,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription,eventType:t.eventType})},children:[(0,E.jsx)(f.Z,{value:"0",control:(0,E.jsx)(Z.Z,{}),label:g("calendar_event_name_time_no_range"),"translation-key":"calendar_event_name_time_no_range"},0),(0,E.jsx)(f.Z,{value:"1",control:(0,E.jsx)(Z.Z,{}),label:g("calendar_event_name_time_till"),"translation-key":"calendar_event_name_time_till"},1),(0,E.jsx)(v.Z,{value:A()(t.end),onHandleValueChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:(null===e||void 0===e?void 0:e.toString())||"",allDay:t.allDay,eventDescription:t.eventDescription,eventType:t.eventType})},disabled:"1"!==t.durationRadioIndex}),(0,E.jsx)(f.Z,{value:"2",control:(0,E.jsx)(Z.Z,{}),label:g("calendar_event_name_time_minute"),"translation-key":"calendar_event_name_time_minute"},2),(0,E.jsx)(k.Z,{type:"number",value:t.durationInMinute,onChange:e=>{const a=p()(t.start).add(Number(e.target.value),"minute").toString();n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:Number(e.target.value),eventTitle:t.eventTitle,start:t.start,end:a,allDay:t.allDay,eventDescription:t.eventDescription,eventType:t.eventType})},disabled:"2"!==t.durationRadioIndex,maxWith:"200px"})]})})]})]})]})})},q="styles_calendarBody__WGVGd",B=()=>{const{t:e}=(0,D.$G)(),[t,n]=(0,y.useState)({isExpanded:!1,durationRadioIndex:"0",durationInMinute:0,eventTitle:"",eventDescription:"",start:"",end:"",allDay:!1,eventType:"0",isAddEventDialogOpen:!1,selectDateInfo:null,filterCourse:"0",currentEvents:[{id:(0,u.J)(),title:"S\u1ef1 ki\u1ec7n n\u1ed9p b\xe0i nh\u1eadp m\xf4n l\u1eadp tr\xecnh",start:"2024-02-28",end:"2024-03-02",allDay:!0,description:"N\u1ed9p b\xe0i t\u1eadp l\u1edbn"},{id:(0,u.J)(),title:"S\u1ef1 ki\u1ec7n thi cu\u1ed1i k\xec nh\u1eadp m\xf4n l\u1eadp tr\xecnh",start:"2024-02-20",end:"2024-02-22",allDay:!0,description:"Thi cu\u1ed1i k\xec"}]}),a=(0,y.useCallback)((e=>{n((t=>({...t,start:e.startStr,selectDateInfo:e,isAddEventDialogOpen:!0})))}),[]),i=(0,y.useCallback)((()=>{n((e=>({...e,isAddEventDialogOpen:!0,selectDateInfo:null,eventTitle:"",start:p()().toString(),end:p()().toString()})))}),[]),o=(0,y.useCallback)((()=>{n((e=>({...e,isAddEventDialogOpen:!1})))}),[]),r=(0,y.useCallback)((()=>{n((e=>{var n,a,s;return{...e,currentEvents:[...e.currentEvents,{id:(0,u.J)(),title:e.eventTitle,start:(null===(n=t.selectDateInfo)||void 0===n?void 0:n.startStr)||"",end:(null===(a=t.selectDateInfo)||void 0===a?void 0:a.endStr)||"",allDay:(null===(s=t.selectDateInfo)||void 0===s?void 0:s.allDay)||!1,description:e.eventDescription}]}})),o()}),[o,t.selectDateInfo]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(M,{open:t.isAddEventDialogOpen,handleClose:()=>{o(),n((e=>({...e,isExpanded:!1})))},data:t,handleChangData:e=>{n((t=>({...t,isExpanded:e.isExpanded,durationRadioIndex:e.durationRadioIndex,durationInMinute:e.durationInMinute,eventTitle:e.eventTitle,start:e.start,end:e.end,allDay:e.allDay,eventType:e.eventType})))},title:e("calendar_add_event"),cancelText:e("common_cancel"),confirmText:e("common_create"),onHandleCancel:()=>{o(),n((e=>({...e,isExpanded:!1})))},"translation-key":["common_cancel","common_create","calendar_add_event"],onHanldeConfirm:()=>{r()}}),(0,E.jsxs)(s.Z,{id:q,children:[(0,E.jsx)(x.Z,{"translation-key":"calendar_title",children:e("calendar_title")}),(0,E.jsx)(d.Z,{}),(0,E.jsxs)(s.Z,{sx:{display:"flex",direction:"row",alignItems:"center",justifyContent:"space-between",gap:"10px"},children:[(0,E.jsx)(h.Z,{labelId:"select-assignment-section-label",value:t.filterCourse,onHandleChange:e=>{n((t=>({...t,filterCourse:e})))},sx:{maxWidth:"200px"},items:[{value:"0",label:e("calendar_all_course")},{value:"1",label:"Nh\u1eadp m\xf4n l\u1eadp tr\xecnh"},{value:"2",label:"L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng"}],"translation-key":"calendar_all_course"}),(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:()=>{i()},startIcon:(0,E.jsx)(c.Z,{}),"translation-key":"calendar_add_event",children:e("calendar_add_event")})]}),(0,E.jsx)(m.Z,{events:t.currentEvents,handleDateSelect:a,editable:!0})]})]})};var R=n(5124);const W={cardContainer:"styles_cardContainer__pq8+p",topGroup:"styles_topGroup__bLoxm",detailGroup:"styles_detailGroup__-PkRd",cardDivider:"styles_cardDivider__rPOZa",moreButton:"styles_moreButton__keN3a",listWrapper:"styles_listWrapper__n0jkc",listItem:"styles_listItem__ktsgd"};var L=n(48119),H=n(48310),G=n(90891),O=n(67216),z=n(83213),V=n(32600),U=n(33223),F=n(49709),Q=n(78041),Y=n(17592),J=n(90469),K=n(2135),$=n(38037),X=n(68464);const ee=(0,Y.ZP)((e=>{let{className:t,...n}=e;return(0,E.jsx)(F.Z,{...n,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{["& .".concat(Q.Z.tooltip)]:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #dadde9"}}})),te=e=>{const{t:t}=(0,D.$G)();return(0,E.jsxs)(a.ZP,{className:W.cardContainer,children:[(0,E.jsx)(s.Z,{className:W.topGroup,children:(0,E.jsx)(s.Z,{className:W.detailGroup,children:(0,E.jsx)($.Z,{children:e.courseCategory})})}),(0,E.jsx)(d.Z,{className:W.cardDivider}),(0,E.jsxs)(H.Z,{className:W.listWrapper,children:[(0,E.jsx)(X.Z,{className:W.courseNameText,colorname:"--blue-3",children:(0,E.jsx)(G.Z,{component:K.rU,to:J._.lecturer.course.information.replace(":courseId",e.courseId),underline:"hover",color:"inherit",children:e.courseName})}),e.teacherList.slice(0,2).map((e=>(0,E.jsxs)(O.ZP,{className:W.listItem,children:[(0,E.jsx)(V.Z,{children:(0,E.jsx)(L.Z,{alt:e.firstName,src:""})}),(0,E.jsx)(z.Z,{primary:(0,E.jsxs)(G.Z,{component:K.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))]}),e.teacherList.length>2?(0,E.jsx)(ee,{placement:"right-end",title:(0,E.jsx)(H.Z,{children:e.teacherList.map((e=>(0,E.jsxs)(O.ZP,{className:W.tooltipTeacherList,children:[(0,E.jsx)(V.Z,{children:(0,E.jsx)(L.Z,{alt:e.firstName,src:""})}),(0,E.jsx)(z.Z,{primary:(0,E.jsxs)(G.Z,{component:K.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))}),slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-14]}}]}},children:(0,E.jsx)(U.Z,{className:W.moreButton,"translation-key":"course_see_all_teacher",children:t("course_see_all_teacher")})}):null]})},ne={pageTitle:"styles_pageTitle__utjOa",featureGroup:"styles_featureGroup__nAbOe",changeViewButtonGroup:"styles_changeViewButtonGroup__Vsx+e",filterContainer:"styles_filterContainer__7zfSy",coursesBody:"styles_coursesBody__NfFJ1"};var ae=n(55719),se=n(43960),ie=n(30961),oe=n(48571);const re={container:"styles_container__aji35",courseInfo:"styles_courseInfo__sCSBE",teacherItemText:"styles_teacherItemText__dNV7h",teacherListGridContainer:"styles_teacherListGridContainer__iGRhU",teacherAvatarContainer:"styles_teacherAvatarContainer__vhtIt",teacherAvatar:"styles_teacherAvatar__4yQkt",primaryTeacherText:"styles_primaryTeacherText__zmC9L",secondaryTeacherText:"styles_secondaryTeacherText__3svyV"},le=e=>(0,E.jsx)(a.ZP,{className:re.container,children:(0,E.jsx)(a.ZP,{container:!0,spacing:1,children:(0,E.jsxs)(a.ZP,{item:!0,xs:12,container:!0,direction:"column",children:[(0,E.jsx)(a.ZP,{item:!0,xs:!0,className:re.courseInfo,children:(0,E.jsx)(s.Z,{className:re.courseInfoWrapper,children:(0,E.jsx)($.Z,{gutterBottom:!0,variant:"subtitle1",colorname:"--blue-3",children:(0,E.jsxs)(G.Z,{component:K.rU,to:J._.lecturer.course.information.replace(":courseId",e.courseId),underline:"hover",color:"inherit",children:[e.courseName," - ",e.courseCategory]})})})}),(0,E.jsx)(a.ZP,{item:!0,xs:!0,className:re.teacherListGridContainer,children:e.teacherList.map((e=>(0,E.jsxs)(O.ZP,{children:[(0,E.jsx)(V.Z,{className:re.teacherAvatarContainer,children:(0,E.jsx)(L.Z,{className:re.teacherAvatar,alt:e.firstName,src:""})}),(0,E.jsx)(z.Z,{classes:{primary:re.primaryTeacherText,secondary:re.secondaryTeacherText},primary:(0,E.jsxs)(G.Z,{component:K.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))})]})})});var ce=n(96743),de=n(85281),me=n(4094),ue=n(6968),_e=n(1229),he=n(65537),xe=n(43175),ge=function(e){return e[e.cardView=1]="cardView",e[e.listView=2]="listView",e}(ge||{});const pe=()=>{const[e,t]=(0,y.useState)(""),[n,i]=(0,y.useState)([]),[o,r]=(0,y.useState)(!1),[l,c]=(0,y.useState)([]),[d,m]=(0,y.useState)(ge.listView),u=(0,he.v9)((e=>e.course)),_=(0,he.I0)(),{loggedUser:h}=(0,_e.Z)(),g=(0,y.useCallback)((async()=>{r(!0);try{const e=await ue._.getCourseTypes();i(e.courseTypes)}catch(e){console.error("Failed to fetch course types",e)}finally{r(!1)}}),[]),p=(0,y.useCallback)((async t=>{let{search:n=e,courseType:a=l,pageNo:s=0,pageSize:i=10}=t;if(null!==h&&void 0!==h&&h.userId){r(!0);try{const e=await me.E.getAllCourseByUserId(h.userId,{search:n,courseType:a,pageNo:s,pageSize:i});_((0,xe.sL)(e))}catch(o){console.error("Failed to fetch courses",o)}finally{r(!1)}}}),[e,l,null===h||void 0===h?void 0:h.userId]);(0,y.useEffect)((()=>{g()}),[]),(0,y.useEffect)((()=>{null!==h&&void 0!==h&&h.userId&&p({search:e,courseType:l})}),[e,l,null===h||void 0===h?void 0:h.userId,p]);const b=(0,y.useCallback)(((e,t)=>{m(t)}),[]),j=(0,y.useCallback)((t=>{c(t),p({search:e,courseType:t})}),[p,e]),{t:f}=(0,D.$G)(),Z=(0,y.useMemo)((()=>l.length?u.courses.filter((e=>l.includes(e.courseType.name))):u.courses),[u.courses,l]);return(0,E.jsxs)(s.Z,{id:ne.coursesBody,children:[(0,E.jsx)(x.Z,{className:ne.pageTitle,"translation-key":"course_list_title",children:f("course_list_title")}),(0,E.jsx)(R.Z,{onSearchClick:t}),o?(0,E.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,E.jsx)(de.Z,{})}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(s.Z,{className:ne.featureGroup,children:[(0,E.jsx)(s.Z,{className:ne.filterContainer,children:(0,E.jsx)(ce.Z,{label:f("course_filter"),defaultChipList:n.map((e=>e.name)),filterList:l,onFilterListChangeHandler:j,"translation-key":"course_filter"})}),(0,E.jsxs)(ae.Z,{className:ne.changeViewButtonGroup,value:d,exclusive:!0,onChange:b,children:[(0,E.jsx)(se.Z,{value:ge.listView,"aria-label":"list",children:(0,E.jsx)(ie.Z,{})}),(0,E.jsx)(se.Z,{value:ge.cardView,"aria-label":"module",children:(0,E.jsx)(oe.Z,{})})]})]}),d===ge.cardView?(0,E.jsx)(s.Z,{sx:{flexGrow:1},className:ne.gridContainer,children:(0,E.jsx)(a.ZP,{container:!0,spacing:2,children:Z.map(((e,t)=>(0,E.jsx)(a.ZP,{className:ne.gridItem,item:!0,xs:12,sm:6,md:4,lg:3,children:(0,E.jsx)(te,{index:t,courseId:e.id,courseAvatarUrl:"https://picsum.photos/200",courseCategory:e.courseType.name,courseName:e.name,teacherList:e.teachers})},e.id)))})}):(0,E.jsx)(s.Z,{sx:{flexGrow:1,marginTop:"20px"},className:ne.gridContainer,children:(0,E.jsx)(a.ZP,{container:!0,spacing:4,children:Z.map((e=>(0,E.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,E.jsx)(le,{courseId:e.id,courseAvatarUrl:"https://picsum.photos/200",courseCategory:e.courseType.name,courseName:e.name,teacherList:e.teachers})},e.id)))})})]})]})};var ye=n(95861),be=n(65280),je=n(80142),fe=n(33099),Ze=n(83789);const ve="styles_assignmentBody__ELRoy",Ce="styles_assignmentsWrapper__I2RmH",ke="styles_topic__wbqiu";var Te=n(11053),Se=n(70501),we=n(1550),Ie=n(15103),Ne=n(88797),De=n(51405);const Pe="style_container__dTxlz",Ae="style_searchWrapper__Q0yXp",Ee="style_colSearchContainer__GifFq",Me=e=>{let{colSearchLabel:t,shuffleQuestionsLabel:n,colItems:i}=e;const[o,r]=(0,y.useState)("name");return(0,E.jsx)(Se.Z,{className:Pe,children:(0,E.jsx)(s.Z,{className:Ae,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(a.ZP,{item:!0,xs:6,children:(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)},maxWidth:"100%"})}),(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsxs)(we.Z,{className:Ee,children:[(0,E.jsx)(Ie.Z,{id:"colSearch",children:t}),(0,E.jsx)(Ne.Z,{labelId:"colSearch",id:"colSearchSelect",value:o,onChange:(e,t)=>{r(e.target.value)},children:null===i||void 0===i?void 0:i.map((e=>(0,E.jsx)(De.Z,{value:e.value,children:e.label},e.value)))})]})})]})})})};function qe(e){let{open:t,title:n,handleClose:s,onOpenReuseResourceDialog:i,...o}=e;const{t:r}=(0,D.$G)(),l=y.useMemo((()=>[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:r("course_lecturer_reuse_course_resource_dialog_grid_class"),minWidth:400},{field:"program",headerName:r("course_lecturer_reuse_course_resource_dialog_grid_program"),minWidth:200},{field:"teacher",headerName:r("course_lecturer_reuse_course_resource_dialog_grid_teacher"),minWidth:400}]),[]);return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(C.Z,{open:t,handleClose:s,title:n,minWidth:"1000px",actionsDisabled:!0,...o,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Me,{colSearchLabel:r("common_find_by_col"),colItems:[{label:r("course_lecturer_reuse_course_resource_dialog_grid_class"),value:"name"},{label:r("course_lecturer_reuse_course_resource_dialog_grid_program"),value:"program"}],"translation-key":["course_lecturer_reuse_course_resource_dialog_grid_class","course_lecturer_reuse_course_resource_dialog_grid_program","common_find_by_col"]})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:[{id:1,name:"Nh\u1eadp m\xf4n l\u1eadp tr\xecnh - 20CLC",program:"Ch\u1ea5t l\u01b0\u1ee3ng cao",teacher:"Nguy\u1ec5n V\u0103n A v\xe0 Nguy\u1ec5n V\u0103n B"},{id:2,name:"K\u1ef9 thu\u1eadt l\u1eadp tr\xecnh - 20CLC",program:"Ch\u1ea5t l\u01b0\u1ee3ng cao",teacher:"Nguy\u1ec5n V\u0103n A v\xe0 Nguy\u1ec5n V\u0103n B"},{id:3,name:"C\u1ea5u tr\xfac d\u1eef li\u1ec7u v\xe0 gi\u1ea3i thu\u1eadt - 20CLC",program:"Ch\u1ea5t l\u01b0\u1ee3ng cao",teacher:"Nguy\u1ec5n V\u0103n A v\xe0 Nguy\u1ec5n V\u0103n B"},{id:4,name:"L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng - 20APCS",program:"Ch\u01b0\u01a1ng tr\xecnh ti\xean ti\u1ebfn",teacher:"Nguy\u1ec5n V\u0103n A v\xe0 Nguy\u1ec5n V\u0103n B"}],tableHeader:l,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!1,onClickRow:e=>{i()}})})]})})})}function Be(e){let{open:t,title:n,handleClose:s,children:i,cancelText:o,confirmText:r,onHandleCancel:l,onHanldeConfirm:c,...d}=e;const{t:m}=(0,D.$G)(),u=y.useMemo((()=>[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:m("common_title"),minWidth:400},{field:"type",headerName:m("common_classify_category"),minWidth:300},{field:"topic",headerName:m("common_filter_topic"),minWidth:150}]),[]);return(0,E.jsx)(C.Z,{open:t,handleClose:s,title:n,cancelText:o,confirmText:r,onHandleCancel:l,onHanldeConfirm:c,minWidth:"1000px",...d,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Me,{colSearchLabel:m("common_find_by_col"),colItems:[{label:m("common_title"),value:"name"},{label:m("common_classify_category"),value:"type"},{label:m("common_filter_topic"),value:"topic"}],"translation-key":["common_find_by_col","common_title","common_filter_topic","common_classify_category"]})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:[{id:1,name:"Th\xf4ng b\xe1o b\xe0i t\u1eadp 1",topic:"Ch\u01b0\u01a1ng 1",type:"Th\xf4ng b\xe1o"},{id:2,name:"Th\xf4ng b\xe1o b\xe0i t\u1eadp 2",topic:"Ch\u01b0\u01a1ng 1",type:"Th\xf4ng b\xe1o"},{id:3,name:"B\xe0i t\u1eadp OOP ch\u01b0\u01a1ng 1",topic:"Ch\u01b0\u01a1ng 1",type:"B\xe0i t\u1eadp"},{id:4,name:"B\xe0i ki\u1ec3m tra gi\u1eefa k\u1ef3",topic:"Ki\u1ec3m tra",type:"B\xe0i ki\u1ec3m tra"}],tableHeader:u,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)},checkboxSelection:!0})})]})})}var Re=n(23885),We=n(74512),Le=n(79720),He=n(16705),Ge=n(44597),Oe=n(49132);const ze=()=>{const e=(0,he.I0)(),t=(0,he.v9)((e=>e.exam)),n=(0,he.v9)((e=>e.assignment)),{courseId:i}=(0,l.UO)();(0,y.useEffect)((()=>{(async t=>{try{const n=await We.O.getExamsByCourseId(t);e((0,Le.u6)(n))}catch(n){console.log(n)}})(null!==i&&void 0!==i?i:""),(async t=>{try{const n=await He.Y.getAssignmentsByCourseId(t);e((0,Ge.Uv)(n))}catch(n){console.log(n)}})(null!==i&&void 0!==i?i:"")}),[i]);const o=(0,y.useCallback)((async t=>{try{if(await He.Y.deleteAssignment(t)){const a=n.assignments.filter((e=>e.id!==t));e((0,Ge.Uv)({assignments:a}))}}catch(a){console.log(a)}}),[n.assignments,e]),r=(0,y.useCallback)((async n=>{try{if(await We.O.deleteExam(n)){const a=t.exams.exams.filter((e=>e.id!==n));e((0,Le.Cq)({exams:a}))}}catch(a){console.log(a)}}),[t.exams.exams,e]),{t:c}=(0,D.$G)(),d=(0,l.s0)(),[m,u]=(0,y.useState)(!1),[h,g]=(0,y.useState)(!1);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(s.Z,{className:ve,children:[(0,E.jsx)(x.Z,{"translation-key":"course_detail_assignment_list",children:c("course_detail_assignment_list")}),(0,E.jsxs)(a.ZP,{container:!0,children:[(0,E.jsx)(a.ZP,{item:!0,xs:7,children:(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}})}),(0,E.jsx)(a.ZP,{item:!0,xs:5,children:(0,E.jsx)(je.Z,{popupId:"add-question-popup",triggerButtonText:Re.ZP.format(c("common_add_new"),"firstUppercase"),triggerButtonProps:{width:"150px"},btnType:_.s.Primary,menuItems:[{label:c("course_lecturer_assignment_create_new_assignment"),onClick:e=>{var t;d(J._.lecturer.assignment.create.replace(":courseId",null!==(t=null===i||void 0===i?void 0:i.toString())&&void 0!==t?t:"")),e.close()}},{label:c("course_lecturer_assignment_create_exam"),onClick:t=>{var n;e((0,Oe.SL)()),d(J._.lecturer.exam.create.replace(":courseId",null!==(n=null===i||void 0===i?void 0:i.toString())&&void 0!==n?n:"")),t.close()}},{label:c("course_lecturer_assignment_reuse_resource"),onClick:e=>{u(!0),e.close()}}],"translation-key":["common_add_new","course_lecturer_assignment_create_new_assignment","course_lecturer_assignment_create_exam","course_lecturer_assignment_reuse_resource"]})})]}),(0,E.jsxs)(s.Z,{className:Ce,children:[(0,E.jsxs)(s.Z,{className:ke,children:[(0,E.jsx)(fe.Z,{"translation-key":"course_detail_assignment",children:c("course_detail_assignment")}),n.assignments&&n.assignments.map((e=>(0,E.jsx)(Ze.Z,{courseId:i,examId:e.id,resourceTitle:e.title,resourceOpenDate:e.timeOpen,resourceEndedDate:e.timeClose,intro:e.intro,type:Ze._.assignment,onDelete:o},e.id)))]}),(0,E.jsxs)(s.Z,{className:ke,children:[(0,E.jsx)(fe.Z,{"translation-key":"course_detail_exam",children:c("course_detail_exam")}),t.exams.exams.map((e=>(0,E.jsx)(Ze.Z,{courseId:i,examId:e.id,resourceTitle:e.name,resourceOpenDate:e.timeOpen,resourceEndedDate:e.timeClose,intro:e.intro,type:Ze._.exam,onDelete:r},e.id)))]})]})]}),(0,E.jsx)(qe,{title:c("course_list_title"),onOpenReuseResourceDialog:()=>{u(!1),g(!0)},open:m,handleClose:()=>{u(!1)},"translation-key":"course_list_title"}),(0,E.jsx)(Be,{title:c("course_lecturer_resource_list"),open:h,cancelText:c("common_back"),onHandleCancel:()=>{u(!0),g(!1)},handleClose:()=>{u(!1),g(!1)},"translation-key":["course_lecturer_resource_list","common_back"]})]})};var Ve=n(89790),Ue=n(73428),Fe=n(33060),Qe=n(80007),Ye=n(63408),Je=n(45148),Ke=n(83703);const $e="styles_robotoFont__C+qGw";function Xe(e){let{rows:t}=e;return(0,E.jsx)(Je.Z,{variant:"outlined",children:(0,E.jsx)(Ke.Z,{variant:"soft",borderAxis:"bothBetween",hoverRow:!0,className:$e,children:(0,E.jsx)("tbody",{children:t.map((e=>(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{scope:"row",style:{width:"30%"},children:e.header}),(0,E.jsx)("td",{children:e.data})]},e.header)))})})})}const et={assignmentBody:"styles_assignmentBody__3IT+a",assignmentsWrapper:"styles_assignmentsWrapper__KglWw",topic:"styles_topic__fiK-1"};var tt=n(32952),nt=n(33256),at=n(75948),st=n(66123);const it=()=>{var e,t,n,i,o,r,c,m,u,h,g,b,j,f;const{t:Z}=(0,D.$G)(),v=(0,l.s0)(),{assignmentId:C}=(0,l.UO)(),{courseId:k}=(0,l.UO)(),T=(0,he.v9)((e=>e.assignment)),S=(0,he.v9)((e=>e.courseUser)),w=(0,he.v9)((e=>e.submissionAssignment)),I=(0,he.I0)();function N(e,t){const n=e.getTime()-t.getTime(),a=864e5,s=36e5,i=Math.floor(n/a),o=Math.floor(n%a/s),r=Math.floor(n%s/6e4),l=Math.floor(n%6e4/1e3);return{days:Math.abs(i),hours:Math.abs(o),minutes:Math.abs(r),seconds:Math.abs(l)}}(0,y.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await He.Y.getAssignmentById(e);I((0,Ge.QI)(t))}catch(t){console.log(t)}})(null!==C&&void 0!==C?C:"")})(),(async e=>{try{const t=await me.E.countStudentByCourseId(e);console.log(t),I((0,st.wR)({amountStudent:t}))}catch(t){console.log(t)}})(null!==k&&void 0!==k?k:""),(async e=>{try{const t=await nt.J.countSubmissionToGrade(e);I((0,at.Cl)({amountSubmissionToGrade:t}))}catch(t){console.log(t)}})(null!==C&&void 0!==C?C:""),(async e=>{try{const t=await nt.J.countAllSubmission(e);I((0,at.V7)({amountSubmission:t}))}catch(t){console.log(t)}})(null!==C&&void 0!==C?C:""),(async e=>{try{const t=await nt.J.getSubmissionAssignmentByAssignmentId(e);I((0,at.q5)(t))}catch(t){console.error("Failed to fetch submission assignment",t)}})(null!==C&&void 0!==C?C:"")}),[]);const P=new Date(null!==(e=null===(t=T.assignmentDetails)||void 0===t?void 0:t.timeClose)&&void 0!==e?e:new Date),A=N(P,new Date(null!==(n=null===(i=w.submissionAssignmentDetails)||void 0===i?void 0:i.submitTime)&&void 0!==n?n:new Date));N(new Date,P);return(0,E.jsxs)(s.Z,{className:et.assignmentBody,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{v(J._.lecturer.course.assignment.replace(":courseId",null!==k&&void 0!==k?k:""))},startIcon:(0,E.jsx)(Ve.Z,{sx:{color:"white"}}),width:"fit-content",children:(0,E.jsx)(Qe.Z,{"translation-key":"common_backk",children:Z("common_back")})}),(0,E.jsx)(x.Z,{children:null===(o=T.assignmentDetails)||void 0===o?void 0:o.title}),(0,E.jsxs)(Ue.Z,{className:et.pageActivityHeader,sx:{padding:"10px",backgroundColor:"#F8F9FA"},children:[(0,E.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsxs)(Ye.Z,{fontWeight:"600","translation-key":"course_assignment_detail_open_time",children:[Z("course_assignment_detail_open_time"),":"]})}),(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)(Qe.Z,{children:null===(r=p()(null===(c=T.assignmentDetails)||void 0===c?void 0:c.timeOpen))||void 0===r?void 0:r.format("DD/MM/YYYY hh:mm:ss A")})})]}),(0,E.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsxs)(Ye.Z,{fontWeight:"600","translation-key":"course_assignment_detail_close_time",children:[Z("course_assignment_detail_close_time"),":"]})}),(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)(Qe.Z,{children:null===(m=p()(null===(u=T.assignmentDetails)||void 0===u?void 0:u.timeClose))||void 0===m?void 0:m.format("DD/MM/YYYY hh:mm:ss A")})})]}),(0,E.jsx)(d.Z,{style:{marginTop:"10px",marginBottom:"10px"}}),(0,E.jsxs)(s.Z,{className:et.assignmentDescription,children:[(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===(h=T.assignmentDetails)||void 0===h?void 0:h.intro)||""}}),(0,E.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:(null===(g=T.assignmentDetails)||void 0===g?void 0:g.activity)||""}}),(0,E.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:(null===(b=T.assignmentDetails)||void 0===b?void 0:b.activity)||""}}),(0,E.jsx)(tt.Z,{files:null===(j=T.assignmentDetails)||void 0===j||null===(f=j.introAttachments)||void 0===f?void 0:f.map((e=>({id:e.id,name:e.fileName,downloadUrl:e.fileUrl,size:e.fileSize,type:e.mimetype,lastModified:new Date(e.timemodified).toLocaleString("en-US",{timeZone:"Asia/Ho_Chi_Minh"})})))})]})]}),(0,E.jsxs)(s.Z,{sx:{display:"flex",gap:"20px"},children:[(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:()=>{v(J._.lecturer.assignment.submissions.replace(":assignmentId",null!==C&&void 0!==C?C:"").replace(":courseId",null!==k&&void 0!==k?k:""))},children:(0,E.jsx)(Qe.Z,{"translation-key":"course_lecturer_assignment_see_submit",children:Z("course_lecturer_assignment_see_submit")})}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{var e;v(J._.lecturer.assignment.grading.replace(":assignmentId",null!==C&&void 0!==C?C:"").replace(":courseId",null!==k&&void 0!==k?k:"").replace(":submissionId",null!==(e=w.submissionAssignments[0].id)&&void 0!==e?e:""))},children:(0,E.jsx)(Qe.Z,{"translation-key":"course_lecturer_assignment_grading",children:Z("course_lecturer_assignment_grading")})})]}),(0,E.jsx)(Fe.Z,{"translation-key":["course_lecturer_assignment_grading","common_over"],children:Z("course_lecturer_assignment_grading")}),(0,E.jsx)(Xe,{rows:[{header:Z("course_lecturer_assignment_student_num"),data:S.amountStudent.toString()},{header:Z("course_lecturer_assignment_submitted"),data:w.amountSubmission.toString()},{header:Z("course_lecturer_assignment_need_grading"),data:w.amountSubmissionToGrade.toString()},{header:Z("common_time_left"),data:1===(()=>{var e,t,n,a;return new Date(null!==(e=null===(t=w.submissionAssignmentDetails)||void 0===t?void 0:t.submitTime)&&void 0!==e?e:new Date)<new Date(null!==(n=null===(a=T.assignmentDetails)||void 0===a?void 0:a.timeClose)&&void 0!==n?n:new Date)?1:2})()?(e=>e.days>0?e.days+" "+Z("days")+" "+e.hours+" "+Z("hours"):e.hours>0?e.hours+" "+Z("hours")+" "+e.minutes+" "+Z("minutes"):e.minutes+" "+Z("minutes")+" "+e.seconds+" "+Z("seconds"))(A):"Assignment is due"}],"translation-key":["course_lecturer_assignment_hide","common_time_left","course_lecturer_assignment_student_num","course_lecturer_assignment_need_grading","common_over"]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{v(J._.lecturer.assignment.preview_submit)},width:"fit-content",children:(0,E.jsx)(Qe.Z,{"translation-key":"course_lecturer_assignment_preview_submit",children:Z("course_lecturer_assignment_preview_submit")})})]})};var ot=n(65954),rt=n(43997),lt=n(74748),ct=n(47131),dt=n(98011);const mt="style_container__zz7DE",ut="style_searchWrapper__7vDWu",_t="style_colSearchContainer__Ns-7G";var ht=n(41835);const xt=()=>{const{t:e}=(0,D.$G)(),[t,n]=(0,y.useState)("name");return(0,E.jsxs)(Se.Z,{className:mt,children:[(0,E.jsxs)(s.Z,{className:ut,children:[(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}}),(0,E.jsxs)(we.Z,{className:_t,children:[(0,E.jsx)(Ie.Z,{id:"colSearch","translation-key":"common_find_by_col",children:e("common_find_by_col")}),(0,E.jsxs)(Ne.Z,{labelId:"colSearch",id:"colSearchSelect",value:t,onChange:(e,t)=>{n(e.target.value)},label:e("common_find_by_col"),"translation-key":"common_find_by_col",children:[(0,E.jsx)(De.Z,{value:"name","translation-key":"common_name",children:e("common_name")}),(0,E.jsx)(De.Z,{value:"emai",children:"Email"})]})]})]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,startIcon:(0,E.jsx)(ht.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},"translation-key":"common_data_export",children:e("common_data_export")})]})},gt="styles_gradeBody__1Fbde";function pt(e){const{customEditHandler:t,customEditValue:n}=e;return(0,E.jsxs)(De.Z,{onClick:t,children:[(0,E.jsx)(lt.Z,{children:(0,E.jsx)(ot.Z,{fontSize:"small"})}),(0,E.jsx)(z.Z,{children:n})]})}function yt(e){const{t:t}=(0,D.$G)(),n=e.colDef.field;return"name"!==n&&"id"!==n&&"email"!==n?(0,E.jsx)(dt.hh,{...e,slots:{columnMenuUserItem:pt},slotProps:{columnMenuUserItem:{displayOrder:0,customEditValue:t("common_edit"),customEditHandler:()=>alert("Custom handler fired")}},"translation-key":"common_edit"}):(0,E.jsx)(dt.hh,{...e,slots:{columnMenuUserItem:null},slotProps:{columnMenuSortItem:{value:t("data_grid_row_ascending")}},"translation-key":"data_grid_row_ascending"})}const bt=()=>{const{t:e}=(0,D.$G)(),t=[{id:1,name:"B\xe0i t\u1eadp 1",range:100},{id:2,name:"B\xe0i t\u1eadp 2",range:10},{id:3,name:"B\xe0i t\u1eadp 3",range:10},{id:4,name:"B\xe0i ki\u1ec3m tra 1",range:10},{id:5,name:"B\xe0i ki\u1ec3m tra 2",range:10}],n=t.map((e=>({field:"".concat(e.id,"-").concat(e.name)}))),i=[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:e("common_fullname"),width:100,flex:.2,disableColumnMenu:!0},{field:"email",headerName:"Email",minWidth:100,disableColumnMenu:!0,flex:.2}];t.map((e=>i.push({field:"".concat(e.id,"-").concat(e.name),headerName:e.name,renderCell:t=>(0,E.jsxs)(s.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[t.value," /",e.range,(0,E.jsx)(ct.Z,{sx:{marginLeft:"auto"},children:(0,E.jsx)(rt.Z,{})})]}),flex:.2})));e("common_grade"),e("course_lecturer_grade_description");return(0,E.jsxs)(s.Z,{className:gt,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(x.Z,{"translation-key":"course_grade_title",children:e("course_grade_title")})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(xt,{})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:[{id:4,name:"Tr\u01b0\u01a1ng Gia Ti\u1ebfn",email:"truongtien577@gmail.com",roles:"JD"},{id:2,name:"\u0110\u1eb7ng Ng\u1ecdc Ti\u1ebfn",email:"dnt@gmail.com",roles:2},{id:3,name:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n",email:"nqt@gmail.com",roles:3},{id:1,name:"D\u01b0\u01a1ng Ch\xed Th\xf4ng",email:"nqt@gmail.com",roles:3},{id:5,name:"Nguy\u1ec5n V\u0103n A",email:"nqt@gmail.com",roles:3},{id:6,name:"Nguy\u1ec5n V\u0103n B",email:"nqt@gmail.com",roles:3},{id:7,name:"Nguy\u1ec5n V\u0103n C",email:"nqt@gmail.com",roles:3}],tableHeader:i,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!0,customColumnMenu:yt,onClickRow:e=>{console.log(e)}})})]})},jt={gridContainer:"styles_gridContainer__zBQ5m",courseImgCardContainer:"styles_courseImgCardContainer__S6Gps",courseImage:"styles_courseImage__tjQmX",classNameOverlay:"styles_classNameOverlay__E5NdR",gridBodyContainer:"styles_gridBodyContainer__CRanr",resourceContainer:"styles_resourceContainer__pPdqU",resourceAccordionContainer:"styles_resourceAccordionContainer__JYYCH",resourceSummaryContainer:"styles_resourceSummaryContainer__LE-Cg",resourceSummaryText:"styles_resourceSummaryText__iR04d",editTopicTitleImageContainer:"styles_editTopicTitleImageContainer__p3JjV",accordDetail:"styles_accordDetail__ns2+g",eventContainer:"styles_eventContainer__rC647",eventTitle:"styles_eventTitle__p4aXq",eventList:"styles_eventList__YpsY9",topicWrapper:"styles_topicWrapper__HPxTK",informationBody:"styles_informationBody__Dl1yC",iconButton:"styles_iconButton__VDHJU",iconButtonActive:"styles_iconButtonActive__dZ7V4"};var ft=n(16957),Zt=n(61113),vt=n(83121),Ct=n(16783),kt=n(19425);const Tt={container:"styles_container__g3m1H",linkContainer:"styles_linkContainer__vtpkq"};var St=n(37401);const wt=e=>{let t;switch(e.type){case kt.Q.assignment:t=St.Z.course.courseAssignment;break;case kt.Q.file:t=St.Z.course.courseFile;break;default:return null}return(0,E.jsx)(s.Z,{className:Tt.container,children:(0,E.jsx)(a.ZP,{container:!0,children:(0,E.jsxs)(G.Z,{component:K.rU,to:J._.lecturer.assignment.detail.replace(":assignmentId",e.assignmentId).replace(":courseId",e.courseId),underline:"hover",className:Tt.linkContainer,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)("img",{src:t,alt:"Resource"})}),(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)(Zt.Z,{className:Tt.resourceName,children:e.name})})]})})})};var It=n(15067),Nt=n(52545),Dt=n(12741),Pt=n(54406);const At=()=>{const{t:e}=(0,D.$G)(),t=(0,he.I0)(),n=(0,he.v9)((e=>e.section)),{courseId:i}=(0,l.UO)(),[o,r]=(0,y.useState)([]),[c,d]=(0,y.useState)([]),m=(0,he.v9)((e=>e.course));(0,y.useEffect)((()=>{const e=m.courses.find((e=>e.id===i));console.log(e),e&&t((0,xe.HE)({courseDetail:e}))}),[i,m.courses,t]);const u=e=>{void 0===o[e]?r((t=>({...t,[e]:!1}))):r((t=>({...t,[e]:!Boolean(t[e])})))};(0,y.useEffect)((()=>{(async()=>{t((0,Nt.K4)(!0));try{if(i){const e=await It.N.getSectionsByCourseId(i);t((0,Nt.by)(e))}else console.error("courseId is undefined")}catch(e){console.error("Failed to fetch sections",e)}t((0,Nt.K4)(!1))})()}),[i]);const _=e=>{switch(e){case"Files":default:return kt.Q.file;case"Assignments":return kt.Q.assignment;case"URLs":return kt.Q.url;case"Quizzes":return kt.Q.exam}};return(0,E.jsxs)(a.ZP,{container:!0,spacing:1,className:jt.gridContainer,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsxs)(Ue.Z,{className:jt.courseImgCardContainer,children:[(0,E.jsx)(ft.Z,{component:"img",className:jt.courseImage,src:"https://picsum.photos/1800/300"}),(0,E.jsx)(Zt.Z,{variant:"h1",className:jt.classNameOverlay})]})}),n.isLoading?(0,E.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,E.jsx)(de.Z,{})}):(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(s.Z,{margin:1,padding:0,children:(0,E.jsx)(a.ZP,{container:!0,className:jt.gridBodyContainer,children:(0,E.jsx)(a.ZP,{item:!0,className:jt.topicWrapper,xs:12,children:n.sections.map(((e,t)=>{const n=void 0===o[t]||Boolean(o[t]);return(0,E.jsxs)(s.Z,{className:jt.generalInfo,children:[(0,E.jsxs)(s.Z,{display:"flex",alignItems:"center",margin:1,children:[n?(0,E.jsx)(ct.Z,{className:jt.iconButtonActive,sx:{padding:"5px"},onClick:()=>u(t),children:(0,E.jsx)(Pt.Z,{style:{fontSize:20}})}):(0,E.jsx)(ct.Z,{className:jt.iconButton,sx:{padding:"5px"},onClick:()=>u(t),children:(0,E.jsx)(Dt.Z,{style:{fontSize:20}})}),void 0===c[t]||c[t]?(0,E.jsx)(Zt.Z,{className:jt.resourceSummaryText,align:"center",children:e.name}):(0,E.jsx)(Ct.Z,{variant:"standard",defaultValue:e.name}),(0,E.jsx)(s.Z,{children:c[t]||void 0===c[t]?(0,E.jsx)(ct.Z,{onClick:()=>(e=>{d((t=>({...t,[e]:!Boolean(t[e])})))})(t),className:jt.editTopicTitleImageContainer,children:(0,E.jsx)(ot.Z,{})}):(0,E.jsx)(ct.Z,{onClick:()=>(e=>{d((t=>({...t,[e]:!Boolean(t[e])})))})(t),className:jt.editTopicTitleImageContainer,children:(0,E.jsx)(vt.Z,{})})})]}),(0,E.jsx)(b.Z,{in:n,timeout:"auto",unmountOnExit:!0,children:e.modules.map(((e,t)=>(0,E.jsx)(wt,{courseId:i||"",assignmentId:e.assignmentId,name:e.name,type:_(e.typeModule)},t)))})]},t)}))})})})})]})},Et="styles_participantBody__x4fn6";var Mt=n(81127),qt=n(51997);const Bt="style_container__pPtgM",Rt="style_searchWrapper__w+HmP",Wt="style_colSearchContainer__gkGYR",Lt=()=>{const{t:e}=(0,D.$G)(),[t,n]=(0,y.useState)("name");return(0,E.jsxs)(Se.Z,{className:Bt,children:[(0,E.jsxs)(s.Z,{className:Rt,children:[(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}}),(0,E.jsxs)(we.Z,{className:Wt,children:[(0,E.jsx)(Ie.Z,{id:"colSearch","translation-key":"common_find_by_col",children:e("common_find_by_col")}),(0,E.jsxs)(Ne.Z,{labelId:"colSearch",id:"colSearchSelect",value:t,onChange:(e,t)=>{n(e.target.value)},label:e("common_find_by_col"),"translation-key":"common_find_by_col",children:[(0,E.jsx)(De.Z,{value:"name","translation-key":"common_name",children:e("common_name")}),(0,E.jsx)(De.Z,{value:"emai",children:"Email"}),(0,E.jsx)(De.Z,{value:"role","translation-key":"common_role",children:e("common_role")})]})]})]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,startIcon:(0,E.jsx)(ht.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},"translation-key":"common_data_export",children:e("common_data_export")})]})},Ht=()=>{const[e,t]=(0,y.useState)(""),n=(0,he.I0)(),i=(0,he.v9)((e=>e.courseUser)),[o,r]=(0,y.useState)(0),[c,d]=(0,y.useState)(10),{courseId:m}=(0,l.UO)(),u=async t=>{let{search:a=e,pageNo:s=o,pageSize:i=c}=t;try{const e=await me.E.getUserByCourseId(null!==m&&void 0!==m?m:"",{search:a,pageNo:s,pageSize:i});console.log(e),n((0,st.Z$)(e))}catch(r){console.error("Failed to fetch course user",r)}};(0,y.useEffect)((()=>{u({search:e})}),[e]);const{t:_}=(0,D.$G)(),h=[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:_("common_fullname"),width:200,flex:.8,renderCell:e=>(0,E.jsx)(G.Z,{component:K.rU,to:"".concat(e.row.id),children:e.value})},{field:"email",headerName:"Email",width:200,flex:.8},{field:"roles",headerName:_("common_role"),width:50,flex:.4},{field:"action",headerName:_("common_action"),type:"actions",width:200,flex:.5,getActions:()=>[(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(ot.Z,{}),label:"Edit"}),(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(qt.Z,{}),label:"Delete"})]}];return(0,E.jsxs)(s.Z,{className:Et,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(x.Z,{children:"Danh s\xe1ch th\xe0nh vi\xean"})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Lt,{})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:i.users.map(((e,t)=>({id:e.userId,name:e.firstName+" "+e.lastName,email:e.email,roles:e.role}))),tableHeader:h,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!1},dataGridToolBar:{enableToolbar:!0},page:o,pageSize:c,totalElement:i.totalItems,onPaginationModelChange:(t,n)=>{r(t.page),d(t.pageSize),u({search:e,pageNo:t.page,pageSize:t.pageSize})},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})})]})},Gt="style_container__a7o85",Ot="style_searchWrapper__70e0T",zt="style_colSearchContainer__51A96",Vt=()=>{const[e,t]=(0,y.useState)("name");return(0,E.jsxs)(Se.Z,{className:Gt,children:[(0,E.jsxs)(s.Z,{className:Ot,children:[(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}}),(0,E.jsxs)(we.Z,{className:zt,children:[(0,E.jsx)(Ie.Z,{id:"colSearch",children:"T\xecm ki\u1ebfm theo c\u1ed9t"}),(0,E.jsxs)(Ne.Z,{labelId:"colSearch",id:"colSearchSelect",value:e,onChange:(e,n)=>{t(e.target.value)},label:"T\xecm ki\u1ebfm theo c\u1ed9t",children:[(0,E.jsx)(De.Z,{value:"name",children:"T\xean"}),(0,E.jsx)(De.Z,{value:"emai",children:"Email"}),(0,E.jsx)(De.Z,{value:"role",children:"Ch\u1ee9c v\u1ee5"})]})]})]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,startIcon:(0,E.jsx)(ht.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},children:"Xu\u1ea5t d\u1eef li\u1ec7u"})]})},Ut="styles_assignmentBody__me7my";var Ft=n(47322);function Qt(e){let{dataset:t,xAxis:n,width:a,height:s,...i}=e;const o=[{dataKey:"student",label:"Sinh vi\xean",valueFormatter:e=>null===e?"No data":"".concat(e," sinh vi\xean")}];return(0,E.jsx)(Ft.Z,{dataset:t,xAxis:n,yAxis:[{label:"T\u1ed5ng s\u1ed1 sinh vi\xean \u0111\u1ea1t kho\u1ea3ng \u0111i\u1ec3m"}],series:o,width:a,height:s,...i})}let Yt=function(e){return e.SUBMITTED="\u0110\xe3 n\u1ed9p",e.NOT_SUBMITTED="Ch\u01b0a n\u1ed9p",e}({}),Jt=function(e){return e.GRADED="\u0110\xe3 ch\u1ea5m",e.NOT_GRADED="Ch\u01b0a ch\u1ea5m",e}({});const Kt=()=>{var e,t,n,i;const{t:o}=(0,D.$G)(),r=(0,l.s0)(),c=(0,he.I0)(),{courseId:d,assignmentId:m}=(0,l.UO)(),u=(0,he.v9)((e=>e.submissionAssignment)),h=(0,he.v9)((e=>e.assignment)),g=()=>{var e,t,n,a,s;let i=new Date(null!==(e=null===(t=h.assignmentDetails)||void 0===t?void 0:t.timeClose)&&void 0!==e?e:new Date);return null!==(n=u.submissionAssignmentDetails)&&void 0!==n&&n.submitTime?new Date(null!==(a=null===(s=u.submissionAssignmentDetails)||void 0===s?void 0:s.submitTime)&&void 0!==a?a:new Date)<i?1:2:new Date>i?0:3};const{totalStudents:b,submissionsCount:j}=function(e){let t=e.length,n=0;return e.forEach((e=>{null!==e&&void 0!==e&&e.submitTime&&n++})),{totalStudents:t,submissionsCount:n}}(u.submissionAssignments);function f(e,t){const n=e.getTime()-t.getTime(),a=864e5,s=36e5,i=Math.floor(n/a),o=Math.floor(n%a/s),r=Math.floor(n%s/6e4),l=Math.floor(n%6e4/1e3);return{days:Math.abs(i),hours:Math.abs(o),minutes:Math.abs(r),seconds:Math.abs(l)}}f(new Date(null!==(e=null===(t=h.assignmentDetails)||void 0===t?void 0:t.timeClose)&&void 0!==e?e:new Date),new Date(null!==(n=null===(i=u.submissionAssignmentDetails)||void 0===i?void 0:i.submitTime)&&void 0!==n?n:new Date));const Z=e=>e.days>0?e.days+" "+o("days")+" "+e.hours+" "+o("hours"):e.hours>0?e.hours+" "+o("hours")+" "+e.minutes+" "+o("minutes"):e.minutes+" "+o("minutes")+" "+e.seconds+" "+o("seconds");(0,y.useEffect)((()=>{(async e=>{c((0,at.K4)({isLoading:!0}));try{const t=await nt.J.getSubmissionAssignmentByAssignmentId(e);c((0,at.q5)(t)),c((0,at.K4)({isLoading:!1}))}catch(t){console.error("Failed to fetch submission assignment",t),c((0,at.K4)({isLoading:!1}))}})(null!==m&&void 0!==m?m:"")}),[m]);const v=null===u||void 0===u?void 0:u.submissionAssignments.map((e=>{var t,n,a,s;return{id:e.id,student_name:e.user.fullName,student_email:e.user.email,status:{submission_status_submitted:null!==e&&void 0!==e&&e.submitTime?Yt.SUBMITTED:Yt.NOT_SUBMITTED,grade_status:e.isGraded?Jt.GRADED:Jt.NOT_GRADED,late_submission:{is_late:1===g(),late_duration:null!==e&&void 0!==e&&e.submitTime?Z(f(new Date(null!==(t=null===(n=h.assignmentDetails)||void 0===n?void 0:n.timeClose)&&void 0!==t?t:new Date),null!==(a=new Date(e.submitTime))&&void 0!==a?a:new Date)):"-"}},last_submission_time:null!==e&&void 0!==e&&e.timemodefied?p()(e.timemodefied).format("dddd, D MMMM YYYY, h:mm A"):"-",last_grade_time:e.submissionGrade?p()(e.submissionGrade.timeModified).format("dddd, D MMMM YYYY, h:mm A"):"-",submission_file:0!=e.submissionAssignmentFiles.length?e.submissionAssignmentFiles:null,submission_online_text:null!==e&&void 0!==e&&e.content?e.content:null,grade:{grade_status:e.isGraded?Jt.GRADED:Jt.NOT_GRADED,current_grade:e.submissionGrade?e.submissionGrade.grade:-1,max_grade:100},feedback:null!==(s=e.feedback)&&void 0!==s?s:""}}));console.log(v);const C=v.some((e=>e.submission_online_text));function k(e,t,n){const a=(new DOMParser).parseFromString(e,"text/html"),s=a.getElementsByTagName("img");for(let o of s)o.classList.add(t);const i=a.createElement("style");return i.textContent=n,a.head.appendChild(i),a.documentElement.outerHTML}const T=[{field:"student_name",headerName:o("common_fullname"),width:100},{field:"student_email",headerName:"Email",width:200},{field:"status",headerName:o("common_status"),width:200,renderCell:e=>(0,E.jsxs)(s.Z,{padding:"5px",width:"100%",children:[(0,E.jsx)(s.Z,{sx:{padding:"5px",backgroundColor:e.value.submission_status_submitted===Yt.SUBMITTED?"var(--green-300)":"#f5f5f5",fontSize:"17px"},children:e.value.submission_status_submitted===Yt.SUBMITTED?"\u0110\xe3 n\u1ed9p":"Ch\u01b0a n\u1ed9p"}),(0,E.jsxs)(s.Z,{sx:{padding:"5px",backgroundColor:"#EFCFCF",fontSize:"17px",display:e.value.late_submission.is_late?"block":"none"},children:["Qu\xe1 h\u1ea1n ",e.value.late_submission.late_duration]}),(0,E.jsx)(s.Z,{sx:{padding:"5px",backgroundColor:e.value.grade_status===Jt.GRADED?"var(--green-300)":"#f5f5f5",fontSize:"17px",display:e.value.grade_status===Jt.GRADED?"block":"none"},children:e.value.grade_status===Jt.GRADED?"\u0110\xe3 ch\u1ea5m":"Ch\u01b0a ch\u1ea5m"})]})},{field:"grade",headerName:o("common_grade"),width:200,renderCell:e=>(0,E.jsxs)(s.Z,{children:[(0,E.jsx)(K.rU,{to:J._.lecturer.assignment.grading.replace(":submissionId",e.row.id).replace(":courseId",null!==d&&void 0!==d?d:"").replace(":assignmentId",null!==m&&void 0!==m?m:""),children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,children:"Ch\u1ea5m \u0111i\u1ec3m"})}),(0,E.jsxs)(s.Z,{sx:{padding:"5px",fontSize:"17px",display:e.value.grade_status===Jt.GRADED?"block":"none"},children:[e.value.current_grade," / ",e.value.max_grade]})]})},...C?[{field:"submission_online_text",headerName:o("course_lecturer_sub_online_text"),width:200,renderCell:e=>e.value?(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:k(e.value,"custom-class","\n.custom-class {\n    max-width: 100%;\n    padding: 10px;\n    height: auto;\n}\n")}}):(0,E.jsx)(s.Z,{children:"-"})}]:[],{field:"submission_file",headerName:o("course_lecturer_sub_file_submission"),width:400,renderCell:e=>{var t;return e.value?(0,E.jsx)(s.Z,{sx:{wordWrap:"break-word",whiteSpace:"pre-wrap"},children:(0,E.jsx)(tt.Z,{files:null!==(t=e.value.map((e=>{let t=new File([""],e.fileName,{lastModified:new Date(e.timemodified).getTime()});return{id:e.id,name:e.fileName,downloadUrl:e.fileUrl,size:e.fileSize,type:e.mimetype,file:t}})))&&void 0!==t?t:[],treeView:!1})}):(0,E.jsx)(s.Z,{children:"-"})}},{field:"last_grade_time",headerName:o("course_lecturer_sub_last_grading_time"),width:100},{field:"feedback",headerName:o("course_lecturer_sub_feedback"),width:200,renderCell:e=>(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})}];function S(e,t){const n=[];return[{start:10,end:40},{start:41,end:60},{start:61,end:80},{start:81,end:100}].forEach((a=>{const s=a.start/100*t,i=a.end/100*t,o="".concat(s.toFixed(2)," - ").concat(i.toFixed(2)),r=e.filter((e=>{if(null!==e&&void 0!==e&&e.submissionGrade&&e.isGraded){const t=e.submissionGrade.grade;return t>=s&&t<=i}return!1})).length,l={student:r,range:o};n.push(l)})),n}const[w,I]=(0,y.useState)([]);console.log(S(u.submissionAssignments,100)),(0,y.useEffect)((()=>{I(S(u.submissionAssignments,100))}),[u.submissionAssignments]);return(0,E.jsxs)(s.Z,{className:Ut,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{r(J._.lecturer.assignment.detail.replace(":courseId",null!==d&&void 0!==d?d:"").replace(":assignmentId",null!==m&&void 0!==m?m:""))},startIcon:(0,E.jsx)(Ve.Z,{sx:{color:"white"}}),width:"fit-content",children:(0,E.jsx)(Qe.Z,{"translation-key":"common_back",children:o("common_back")})}),(0,E.jsx)(x.Z,{children:"B\xe0i t\u1eadp tr\u1eafc nghi\u1ec7m 1"}),(0,E.jsxs)(Qe.Z,{"translation-key":"course_lecturer_sub_num_of_student",children:[o("course_lecturer_sub_num_of_student"),": ",j,"/",b]}),(0,E.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,E.jsx)(Qt,{dataset:w,xAxis:[{scaleType:"band",dataKey:"range"}],width:1e3,height:500})}),(0,E.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(x.Z,{"translation-key":"course_lecturer_submission_list",children:o("course_lecturer_submission_list")})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Vt,{})}),u.isLoading?(0,E.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,E.jsx)(de.Z,{})}):(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:v,tableHeader:T,onSelectData:(e,t)=>{console.log(e)},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)}})})]})]})};var $t=n(64516),Xt=n(25551),en=n(10237),tn=n(22611),nn=n(66212),an=n(42832),sn=n(94469),on=n(96467),rn=n(41727),ln=n(24653),cn=n(4117),dn=n(33604),mn=n(23837),un=n(89994),_n=n(35662),hn=n(7547),xn=n(43750);function gn(e){let{open:t,title:n,handleClose:s,children:i,cancelText:o,confirmText:r,onHandleCancel:l,onHanldeConfirm:c,isConfirmLoading:d=!1,isReportExisted:m,...u}=e;const[_,h]=y.useState(""),x=[{id:"f47ac10b-58cc-4372-a567-0e02b2c3d504",title:"T\xednh t\u1ed5ng t\u1eeb 1 \u0111\u1ebfn n",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_name:"CS101 - L\u1eadp tr\xecnh c\u0103n b\u1ea3n",created_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d505",title:"T\u1ec9nh t\u1ed5ng c\xe1c s\u1ed1 ch\u1eb5n t\u1eeb 1 \u0111\u1ebfn n",exam_name:"B\xe0i ki\u1ec3m tra gi\u1eefa k\u1ef3",course_name:"CS102 - L\u1eadp tr\xecnh n\xe2ng cao",created_at:"2024-03-24T07:19:47.000Z"}],g=[{field:"exam_name",headerName:"B\xe0i ki\u1ec3m tra",flex:2},{field:"course_name",headerName:"M\xf4n h\u1ecdc",flex:2},{field:"created_at",headerName:"Ng\xe0y t\u1ea1o",minWidth:200,valueFormatter:e=>new Date(e.value||"").toLocaleString()}],p=x.length;return(0,E.jsx)(C.Z,{open:t,handleClose:s,title:n,cancelText:o,confirmText:r,isConfirmLoading:d,onHandleCancel:l,onHanldeConfirm:c,minWidth:m?"1000px":"550px",...u,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(k.Z,{type:"text",title:"T\xean b\xe1o c\xe1o gian l\u1eadn",value:_,onChange:e=>h(e.target.value),placeholder:"Nh\u1eadp t\xean b\xe1o c\xe1o gian l\u1eadn b\u1ea1n mu\u1ed1n t\u1ea1o",fullWidth:!0})}),m&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(fe.Z,{children:"Danh s\xe1ch b\xe0i ki\u1ec3m tra s\u1eed d\u1ee5ng trong b\xe1o c\xe1o"})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:x,tableHeader:g,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:p,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})})]})]})})}var pn=n(42278),yn=n(94760),bn=n(74615),jn=n(36240),fn=n(3855);const Zn="style_container__a61rZ",vn="style_searchWrapper__FkLUt",Cn="style_colSearchContainer__dZHdP",kn=()=>{const[e,t]=(0,y.useState)("name");return(0,E.jsxs)(Se.Z,{className:Zn,children:[(0,E.jsxs)(s.Z,{className:vn,children:[(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}}),(0,E.jsxs)(we.Z,{className:Cn,children:[(0,E.jsx)(Ie.Z,{id:"colSearch",children:"T\xecm ki\u1ebfm theo c\u1ed9t"}),(0,E.jsxs)(Ne.Z,{labelId:"colSearch",id:"colSearchSelect",value:e,onChange:(e,n)=>{t(e.target.value)},label:"T\xecm ki\u1ebfm theo c\u1ed9t",children:[(0,E.jsx)(De.Z,{value:"name",children:"T\xean"}),(0,E.jsx)(De.Z,{value:"emai",children:"Email"}),(0,E.jsx)(De.Z,{value:"role",children:"Ch\u1ee9c v\u1ee5"})]})]})]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,startIcon:(0,E.jsx)(ht.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},children:"Xu\u1ea5t d\u1eef li\u1ec7u"})]})},Tn="styles_icon__SUsjv";function Sn(e){let{open:t,title:n,handleClose:s,children:i,cancelText:o,confirmText:r,onHandleCancel:l,onHanldeConfirm:c,isConfirmLoading:d=!1,defaultTabIndex:m=0,...u}=e;const{t:_}=(0,D.$G)(),[h,x]=y.useState(Number(m)),g=[{id:"f47ac10b-58cc-4372-a567-0e02b2c3d504",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d488",course_name:"CS101 - L\u1eadp tr\xecnh c\u0103n b\u1ea3n",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d505",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d488",course_name:"CS101 - L\u1eadp tr\xecnh c\u0103n b\u1ea3n",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d506",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",exam_name:"B\xe0i ki\u1ec3m tra gi\u1eefa k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d488",course_name:"CS101 - L\u1eadp tr\xecnh c\u0103n b\u1ea3n",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d507",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",exam_name:"B\xe0i ki\u1ec3m tra h\xe0ng tu\u1ea7n 1",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",course_name:"CS102 - L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d508",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",exam_name:"B\xe0i ki\u1ec3m tra h\xe0ng tu\u1ea7n 2",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",course_name:"CS102 - L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d509",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",exam_name:"B\xe0i ki\u1ec3m tra 1 ti\u1ebft",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",course_name:"CS102 - L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d510",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d491",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",course_name:"CS103 - C\u1ea5u tr\xfac d\u1eef li\u1ec7u v\xe0 gi\u1ea3i thu\u1eadt",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d481",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d511",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d491",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",course_name:"CS103 - C\u1ea5u tr\xfac d\u1eef li\u1ec7u v\xe0 gi\u1ea3i thu\u1eadt",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d481",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d512",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d491",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",course_name:"CS103 - C\u1ea5u tr\xfac d\u1eef li\u1ec7u v\xe0 gi\u1ea3i thu\u1eadt",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d481",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"}],p=y.useMemo((()=>[{field:"exam_name",headerName:"B\xe0i ki\u1ec3m tra",flex:1},{field:"course_name",headerName:"Kh\xf3a h\u1ecdc",flex:1},{field:"created_at",headerName:"Ng\xe0y t\u1ea1o",flex:1,renderCell:e=>(0,E.jsx)("span",{children:new Date(e.value).toLocaleString()})}]),[]),b=[{id:"43a17420-868f-49e5-bdb3-4f0766d5fb4b",sourceQuestionTitle:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",comparedCodeQuestions:[{id:"f47ac10b-58cc-4372-a567-0e02b2c3d495",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_name:"B\xe0i thi cu\u1ed1i k\u1ef3",course_name:"CSC101 - L\u1eadp tr\xecnh c\u0103n b\u1ea3n"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d496",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_name:"B\xe0i thi gi\u1eefa k\u1ef3",course_name:"CSC102 - L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d497",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_name:"B\xe0i thi gi\u1eefa k\u1ef3",course_name:"CSC103 - C\u1ea5u tr\xfac d\u1eef li\u1ec7u v\xe0 gi\u1ea3i thu\u1eadt"}],language:{name:"python",extensions:[".py",".py3"]},createdAt:"2024-03-24T07:53:10.000Z",name:"B\xe1o c\xe1o gian l\u1eadn t\u1ea1o b\u1edfi Nguy\u1ec5n \u0110inh Quang Kh\xe1nh"}],j=y.useMemo((()=>[{field:"name",headerName:"T\xean b\xe1o c\xe1o",minWidth:100},{field:"sourceQuestionTitle",headerName:"C\xe2u h\u1ecfi ngu\u1ed3n",minWidth:150,valueFormatter:e=>"".concat(e.value)},{field:"comparedCodeQuestions",headerName:"Danh s\xe1ch so s\xe1nh b\xe0i ki\u1ec3m tra",minWidth:350,renderCell:e=>(0,E.jsx)(fn.Z,{title:"Xem c\xe1c b\xe0i ki\u1ec3m tra",children:(0,E.jsx)(a.ZP,{container:!0,spacing:2,children:e.value.map((e=>(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsxs)(Ue.Z,{sx:{padding:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.exam_name," - ",e.course_name]})})))})})},{field:"createdBy",headerName:"Ng\u01b0\u1eddi t\u1ea1o",flex:1,renderCell:e=>(0,E.jsx)("span",{children:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n"})},{field:"createdAt",headerName:"Ng\xe0y t\u1ea1o",flex:1,renderCell:e=>(0,E.jsx)("span",{children:new Date(e.value).toLocaleString()})},{field:"action",headerName:"H\xe0nh \u0111\u1ed9ng",flex:1,type:"actions",getActions:()=>[(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(en.Z,{className:Tn}),label:"View",className:"textPrimary",onClick:()=>{},color:"inherit"}),(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(bn.Z,{className:Tn}),label:"Delete",onClick:()=>{},color:"inherit"})]}]),[]),f={enableToolbar:!0},Z=(e,t)=>{console.log(e)},v=(e,t)=>{console.log(e)},k=g.length,T=b.length,S=e=>{console.log(e)},{height:w}=(0,N.Z)();return(0,E.jsx)(C.Z,{open:t,handleClose:s,title:n,cancelText:o,confirmText:r,isConfirmLoading:d,onHandleCancel:l,onHanldeConfirm:c,minWidth:"1000px",maxHeight:"".concat(.8*w,"px"),...u,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsxs)(ye.Z,{value:h,onChange:(e,t)=>{x(t)},"aria-label":"tabIndex",variant:"fullWidth",sx:{border:"1px solid #e0e0e0"},children:[(0,E.jsx)(be.Z,{icon:(0,E.jsx)(yn.Z,{}),iconPosition:"start",label:"Danh s\xe1ch so s\xe1nh c\xe2u h\u1ecfi l\u1eadp tr\xecnh"}),(0,E.jsx)(be.Z,{icon:(0,E.jsx)(jn.Z,{}),iconPosition:"start",label:"L\u1ecbch s\u1eed b\xe1o c\xe1o gian l\u1eadn"})]})}),0===h?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(kn,{})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(X.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"code_management_detail_info_description",children:"\u0110\xe1nh d\u1ea5u c\xe1c b\xe0i ki\u1ec3m tra b\u1ea1n mu\u1ed1n t\u1ea1o b\xe1o c\xe1o gian l\u1eadn cho danh s\xe1ch b\xe0i n\u1ed9p c\u1ee7a sinh vi\xean"})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:g,tableHeader:p,onSelectData:Z,dataGridToolBar:f,page:0,pageSize:5,totalElement:k,onPaginationModelChange:v,showVerticalCellBorder:!1,checkboxSelection:!0,getRowHeight:()=>"auto",onClickRow:S})})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(fe.Z,{children:"L\u1ecbch s\u1eed b\xe1o c\xe1o gian l\u1eadn"})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(kn,{})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:b,tableHeader:j,onSelectData:Z,dataGridToolBar:f,page:0,pageSize:5,totalElement:T,onPaginationModelChange:v,showVerticalCellBorder:!1,getRowHeight:()=>"auto",onClickRow:S})})]})]})})}var wn=n(49737);const In="styles_examBody__tXUWC";let Nn=function(e){return e.SUBMITTED="\u0110\xe3 n\u1ed9p",e.NOT_SUBMITTED="Ch\u01b0a n\u1ed9p",e}({}),Dn=function(e){return e.GRADED="\u0110\xe3 ch\u1ea5m",e.NOT_GRADED="Ch\u01b0a ch\u1ea5m",e}({});const Pn=()=>{const e=(0,he.v9)((e=>e.exam)),{t:t}=(0,D.$G)(),[n,i]=(0,y.useState)((()=>Re.ZP.language)),[o,r]=(0,y.useState)({value:!1,defaultTabIndex:0}),[c,d]=(0,y.useState)({value:!1,isExisted:!1}),m=(0,l.s0)(),u={enableToolbar:!0},h=(e,t)=>{console.log(e)},g=(e,t)=>{console.log(e)},[p,b]=(0,y.useState)(!1),[j,f]=(0,y.useState)(!1),Z={id:1,org_id:"f47ac10b-58cc-4372-a567-0e02b2c3d477",max_grade:30,questions:[{id:"f47ac10b-58cc-4372-a567-0e02b2c3d495",title:"C\xe0i \u0111\u1eb7t thu\u1eadt to\xe1n s\u1eafp x\u1ebfp ch\u1ecdn",checkCheating:!1,max_grade:10,type:xn.Z.source_code,number:1},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d496",title:"Thu\u1eadt to\xe1n l\xe0 g\xec",max_grade:10,type:xn.Z.essay,number:2},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d497",title:"HTML stands for Hyper Text Markup Language",max_grade:10,type:xn.Z.multiple_choice,number:3},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d49",title:"T\xednh t\u1ed5ng c\xe1c s\u1ed1 l\u1ebb t\u1eeb 1 \u0111\u1ebfn n",checkCheating:!1,max_grade:10,type:xn.Z.source_code,number:4},{id:"f47ac10b-58cc-4372-a567-002b2c3d495",title:"T\xednh t\u1ed5ng b\xecnh ph\u01b0\u01a1ng c\xe1c s\u1ed1 t\u1eeb 1 \u0111\u1ebfn n",checkCheating:!0,max_grade:10,type:xn.Z.source_code,number:5}]};Z.questions.map((e=>({question:e.title,questionId:e.id}))).unshift({question:"C\xe2u h\u1ecfi 11 \u0111\u1ebfn 20",questionId:"-1"});const v=[{id:1,student_name:"Nguy\u1ec5n \u0110inh Quang Kh\xe1nh",student_email:"khanhndq2002@gmail.com",status:{submission_status_submitted:Nn.SUBMITTED,grade_status:Dn.GRADED,late_submission:{is_late:!0,late_duration:"1 ng\xe0y 2 gi\u1edd"}},last_submission_time:"Saturday, 3 February 2024, 9:46 AM",last_grade_time:"Saturday, 3 February 2024, 9:46 AM",current_final_grade:0,grades:[{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d495",grade_status:Dn.GRADED,current_grade:10},{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d496",grade_status:Dn.GRADED,current_grade:8},{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d497",grade_status:Dn.GRADED,current_grade:5}]},{id:2,student_name:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n",student_email:"tuannguyen@gmail.com",status:{submission_status_submitted:Nn.NOT_SUBMITTED,grade_status:Dn.NOT_GRADED,late_submission:{is_late:!1,late_duration:"1 ng\xe0y 2 gi\u1edd"}},last_submission_time:"Saturday, 3 February 2024, 9:46 AM",last_grade_time:"Saturday, 3 February 2024, 9:46 AM",current_final_grade:10,grades:[{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d495",grade_status:Dn.GRADED,current_grade:8},{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d496",grade_status:Dn.GRADED,current_grade:10},{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d497",grade_status:Dn.GRADED,current_grade:9}]}],C=[{field:"student_name",headerName:"".concat(t("common_fullname")," ").concat(Re.ZP.format(t("common_student"),"lowercase")),width:200},{field:"student_email",headerName:"Email",width:200},{field:"status",headerName:t("common_status"),width:250,renderCell:e=>(0,E.jsxs)(s.Z,{padding:"5px",width:"100%",children:[(0,E.jsx)(s.Z,{sx:{padding:"5px",backgroundColor:e.value.submission_status_submitted===Nn.SUBMITTED?"var(--green-300)":"#f5f5f5",fontSize:"17px"},children:e.value.submission_status_submitted===Nn.SUBMITTED?"\u0110\xe3 n\u1ed9p":"Ch\u01b0a n\u1ed9p"}),(0,E.jsxs)(s.Z,{sx:{padding:"5px",backgroundColor:"#EFCFCF",fontSize:"17px",display:e.value.late_submission.is_late?"block":"none"},children:["Qu\xe1 h\u1ea1n ",e.value.late_submission.late_duration]}),(0,E.jsx)(s.Z,{sx:{padding:"5px",backgroundColor:e.value.submission_status_submitted===Nn.SUBMITTED?"var(--green-300)":"#f5f5f5",fontSize:"17px",display:e.value.grade_status===Dn.GRADED?"block":"none"},children:e.value.grade_status===Dn.GRADED?"\u0110\xe3 ch\u1ea5m":"Ch\u01b0a ch\u1ea5m"})]})},{field:"last_submission_time",headerName:t("course_lecturer_sub_last_submission_time"),width:200},{field:"last_grade_time",headerName:t("course_lecturer_sub_last_grading_time"),width:200},{field:"current_final_grade",headerName:t("common_final_grade"),width:200,renderCell:e=>(0,E.jsxs)(s.Z,{sx:{padding:"10px 0"},children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{m(J._.lecturer.exam.grading)},margin:"0 0 10px 0","translation-key":"course_lecturer_assignment_grading",children:t("course_lecturer_assignment_grading")}),(0,E.jsxs)(S.Z,{children:[e.value," / ",Z.max_grade]})]})}],k=async(e,t)=>{try{const n=await(async(e,t)=>{b(!0),f(!0);const n={report_name:e,language:"Python",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d482",code_question_ids:t};try{const e=await _n.Z.post("".concat("http://localhost:4000/api/v1","/reports"),n);return b(!1),f(!1),e.data}catch(a){throw b(!1),f(!1),a}})(e,t);"success"===n.status?m("".concat(J._.lecturer.exam.code_plagiarism_detection.replace("reportId",n.data.id)),{state:{report:n.data}}):console.error(n.message)}catch(n){console.error(n)}},T=async(e,t)=>{try{if(!t.length)return;const e=await(async e=>{f(!0);try{const t=await _n.Z.post("".concat("http://localhost:4000/api/v1","/reports/check-code-question-ids-exist"),{code_question_ids:e});return f(!1),t.data}catch(t){throw f(!1),t}})(t);"success"===e.status?e.data?G({value:!0,isExisted:!0}):G({value:!0,isExisted:!1}):console.error(e.message)}catch(n){console.error(n)}},[w,I]=(0,y.useState)(!1),N=()=>I(!1),[P,A]=(0,y.useState)([1,Z.questions.length]),[M,q]=(0,y.useState)([[1,1]]),[B,R]=(0,y.useState)([]),W=[{field:"number",headerName:"STT",flex:.5},{field:"title",headerName:"C\xe2u h\u1ecfi",flex:4},{field:"checkCheating",headerName:"Tr\u1ea1ng th\xe1i",flex:1,renderCell:e=>(0,E.jsx)(s.Z,{children:e.value?(0,E.jsx)(nn.Z,{label:"\u0110\xe3 ki\u1ec3m tra",sx:{backgroundColor:mn.Z[100]}}):(0,E.jsx)(nn.Z,{label:"Ch\u01b0a ki\u1ec3m tra",sx:{backgroundColor:un.Z[100]}})})},{field:"action",headerName:"H\xe0nh \u0111\u1ed9ng",flex:1,type:"actions",getActions:e=>e.row.checkCheating?[(0,E.jsx)(ct.Z,{onClick:()=>{L(1)},children:(0,E.jsx)(en.Z,{})}),(0,E.jsx)(ct.Z,{onClick:()=>{L(0)},children:(0,E.jsx)(Xt.Z,{})})]:[(0,E.jsx)(ct.Z,{disabled:!0,children:(0,E.jsx)(tn.Z,{})}),(0,E.jsx)(ct.Z,{onClick:()=>{L(0)},children:(0,E.jsx)(Xt.Z,{})})]}],L=e=>{r({value:!0,defaultTabIndex:e})},H=(0,y.useCallback)((()=>{r((e=>({...e,value:!1})))}),[]),G=(0,y.useCallback)((e=>{d(e)}),[]),O=(0,y.useCallback)((()=>{d({value:!1,isExisted:!1})}),[]),[z,V]=(0,y.useState)(!1);return(0,y.useEffect)((()=>{const e=new Set,t=[];M.forEach((n=>{const a=n[0],s=n[1];for(let i=a;i<=s;i++)if(!e.has(i)){e.add(i);const n=Z.questions[i-1];t.push({field:"question-".concat(n.id),headerName:n.title,width:180,renderCell:()=>{for(let e=0;e<v.length;e++)for(let t=0;t<v[e].grades.length;t++)if(v[e].grades[t].question_id===n.id)return(0,E.jsxs)(S.Z,{children:[v[e].grades[t].current_grade," / ",n.max_grade]})}})}})),R(t)}),[M]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Sn,{open:o.value,handleClose:H,title:"T\u1ea1o b\xe1o c\xe1o gian l\u1eadn cho c\xe2u h\u1ecfi",cancelText:"H\u1ee7y",confirmText:"X\xe1c nh\u1eadn",isConfirmLoading:j,onHanldeConfirm:()=>{T(0,["f47ac10b-58cc-4372-a567-0e02b2c3d495","f47ac10b-58cc-4372-a567-0e02b2c3d496","f47ac10b-58cc-4372-a567-0e02b2c3d497"])},onHandleCancel:H,defaultTabIndex:o.defaultTabIndex}),(0,E.jsx)(gn,{open:c.value,isReportExisted:c.isExisted,handleClose:O,title:c.isExisted?"X\xe1c nh\u1eadn ghi \u0111\xe8 b\xe1o c\xe1o c\u0169 cho c\xe2u h\u1ecfi":"X\xe1c nh\u1eadn t\u1ea1o b\xe1o c\xe1o gian l\u1eadn cho c\xe2u h\u1ecfi",cancelText:j?"Xem l\u1ea1i":"H\u1ee7y",confirmText:"X\xe1c nh\u1eadn",isConfirmLoading:p,onHanldeConfirm:()=>{k("B\xe1o c\xe1o gian l\u1eadn m\u1edbi",["f47ac10b-58cc-4372-a567-0e02b2c3d495","f47ac10b-58cc-4372-a567-0e02b2c3d496","f47ac10b-58cc-4372-a567-0e02b2c3d497","f47ac10b-58cc-4372-a567-0e02b2c3d498","f47ac10b-58cc-4372-a567-0e02b2c3d499","f47ac10b-58cc-4372-a567-0e02b2c3d500","f47ac10b-58cc-4372-a567-0e02b2c3d501","f47ac10b-58cc-4372-a567-0e02b2c3d502","f47ac10b-58cc-4372-a567-0e02b2c3d503"])},onHandleCancel:()=>{c.isExisted?k("B\xe1o c\xe1o gian l\u1eadn m\u1edbi",["f47ac10b-58cc-4372-a567-0e02b2c3d495","f47ac10b-58cc-4372-a567-0e02b2c3d496","f47ac10b-58cc-4372-a567-0e02b2c3d497","f47ac10b-58cc-4372-a567-0e02b2c3d498","f47ac10b-58cc-4372-a567-0e02b2c3d499","f47ac10b-58cc-4372-a567-0e02b2c3d500","f47ac10b-58cc-4372-a567-0e02b2c3d501","f47ac10b-58cc-4372-a567-0e02b2c3d502","f47ac10b-58cc-4372-a567-0e02b2c3d503"]):O()}}),(0,E.jsxs)(s.Z,{className:In,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{m(J._.lecturer.exam.detail.replace(":courseId",e.examDetail.courseId))},startIcon:(0,E.jsx)(Ve.Z,{sx:{color:"white"}}),width:"fit-content",children:(0,E.jsx)(Qe.Z,{"translation-key":"common_back",children:t("common_back")})}),(0,E.jsx)(x.Z,{children:e.examDetail.name}),(0,E.jsxs)(Qe.Z,{"translation-key":"course_lecturer_sub_num_of_student",children:[t("course_lecturer_sub_num_of_student"),": ",e.examOverview.submitted,"/",e.examOverview.numberOfStudents]}),(0,E.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,E.jsx)(wn.Z,{dataset:[{student:59,range:"0.00 - 5.00"},{student:50,range:"5.00 - 6.00"},{student:47,range:"6.00 - 7.00"},{student:54,range:"7.00 - 8.00"},{student:57,range:"8.00 - 9.00"},{student:60,range:"9.00 - 10.00"},{student:59,range:"10.00 - 11.00"},{student:65,range:"11.00 - 12.00"},{student:51,range:"12.00 - 13.00"},{student:60,range:"13.00 - 14.00"},{student:67,range:"14.00 - 15.00"},{student:61,range:"15.00 - 16.00"}],xAxis:[{scaleType:"band",dataKey:"range"}],width:1e3,height:500})}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(x.Z,{"translation-key":"course_lecturer_submission_list",children:t("course_lecturer_submission_list")})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(pn.Z,{})}),(0,E.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,E.jsxs)(an.Z,{direction:"row",alignItems:"center",children:[(0,E.jsx)($.Z,{children:"L\u1ecdc c\xe2u h\u1ecfi"}),(0,E.jsx)(ct.Z,{onClick:()=>I(!0),children:(0,E.jsx)($t.Z,{})})]}),(0,E.jsxs)(sn.Z,{open:w,onClose:N,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,children:[(0,E.jsx)(on.Z,{children:(0,E.jsx)(s.Z,{marginTop:"16px",children:(0,E.jsxs)(a.ZP,{container:!0,children:[(0,E.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",xs:12,alignItems:"center",children:[(0,E.jsx)(Ct.Z,{placeholder:"T\u1eeb",value:P[0],InputProps:{startAdornment:(0,E.jsx)(rn.Z,{position:"start",children:"C\xe2u"}),inputProps:{min:1,max:Z.questions.length}},onChange:e=>{let t=parseInt(e.target.value),n=P[1],a=0;t>n&&(a=t,t=n,n=a),A([t,n])},type:"number"}),(0,E.jsx)(Qe.Z,{children:"\u0111\u1ebfn"}),(0,E.jsx)(Ct.Z,{placeholder:"\u0110\u1ebfn",value:P[1],InputProps:{startAdornment:(0,E.jsx)(rn.Z,{position:"start",children:"C\xe2u"}),inputProps:{min:1,max:Z.questions.length}},onChange:e=>{let t=parseInt(e.target.value),n=P[0],a=0;n>t&&(a=n,n=t,t=a),A([n,t])},type:"number"})]}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(ln.ZP,{value:P,onChange:(e,t)=>{console.log(t),A(t)},min:1,max:Z.questions.length,defaultValue:[1,Z.questions.length],valueLabelDisplay:"auto"})})]})})}),(0,E.jsxs)(cn.Z,{children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:N,children:"\u0110\xf3ng"}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{N(),q([...M,P])},children:"L\u01b0u"})]})]}),(0,E.jsx)(an.Z,{spacing:1,flexWrap:"wrap",direction:"row",children:M.map(((e,t)=>(0,E.jsx)(nn.Z,{label:"C\xe2u ".concat(e[0]===e[1]?e[0]:"".concat(e[0]," - ").concat(e[1])),onDelete:()=>{const e=[...M];e.splice(t,1),q(e)}},t)))})]}),(0,E.jsxs)(a.ZP,{item:!0,xs:12,marginTop:3,children:[(0,E.jsxs)(an.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,E.jsx)(hn.Z,{btnType:_.s.Outlined,onClick:()=>V(!0),"translation-key":"common_check_cheating",children:t("common_check_cheating")}),(0,E.jsxs)(hn.Z,{btnType:_.s.Outlined,"translation-key":"common_AI_grading",onClick:()=>{m("".concat(J._.lecturer.exam.ai_grading_config))},children:[t("common_AI_grading")," "]})]}),(0,E.jsxs)(sn.Z,{open:z,onClose:()=>V(!1),fullWidth:!0,maxWidth:"md",children:[(0,E.jsx)(dn.Z,{children:"Ki\u1ec3m tra gian l\u1eadn"}),(0,E.jsx)(on.Z,{children:(0,E.jsx)(Te.Z,{dataList:Z.questions.filter((e=>e.type.code===xn.Z.source_code.code)),sx:{"& .MuiDataGrid-cell:nth-last-child(n+2)":{padding:"16px"}},tableHeader:W,onSelectData:h,dataGridToolBar:u,page:0,pageSize:5,totalElement:100,onPaginationModelChange:g,showVerticalCellBorder:!0,getRowHeight:()=>"auto"})}),(0,E.jsx)(cn.Z,{children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>V(!1),children:"\u0110\xf3ng"})})]})]}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:v,tableHeader:[...C,...B],onSelectData:h,visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:u,page:0,pageSize:5,totalElement:100,onPaginationModelChange:g,showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)}})})]})]})]})},An="styles_tabWrapper__b7Q6Y",En="styles_tabs__O3eWb",Mn="styles_courseDetailBody__Paz+p";var qn=n(71538),Bn=n(62755);function Rn(e){let{rows:t,headers:n,examId:a,courseId:s,examMark:i,examGrade:o}=e;const{t:r}=(0,D.$G)(),l=[r("common_january"),r("common_february"),r("common_march"),r("common_april"),r("common_may"),r("common_june"),r("common_july"),r("common_august"),r("common_september"),r("common_october"),r("common_november"),r("common_december")],c=[r("common_sunday"),r("common_monday"),r("common_tuesday"),r("common_wednesday"),r("common_thursday"),r("common_friday"),r("common_saturday")];return(0,E.jsxs)(Ke.Z,{variant:"soft",size:"lg",hoverRow:!0,sx:{backgroundColor:"white","& tbody tr:hover":{backgroundColor:"#f3f3f3"}},children:[(0,E.jsx)("thead",{children:(0,E.jsx)("tr",{children:n.map(((e,t)=>(0,E.jsx)("th",{style:{backgroundColor:"white",borderBottom:"2px solid rgb(128,128,128)"},children:(0,E.jsx)(Qe.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e})},t)))})}),(0,E.jsxs)("tbody",{children:[0!==t.length&&t.map(((e,t)=>{const n=new Date(e.submitTime),d="SUBMITTED"===e.status?r("course_lecturer_assignment_submitted"):r("exam_detail_graded");return(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:t+1}),(0,E.jsxs)("td",{children:[(0,E.jsx)(Qe.Z,{"translation-key":["exam_detail_graded","course_lecturer_assignment_submitted"],fontSize:".875rem",color:"#212121",fontWeight:"600",children:d}),(0,E.jsx)(Qe.Z,{fontSize:".75rem",color:"#212121",sx:{opacity:.7},"translation-key":"course_management_exam_submmit_on",children:"".concat(r("course_management_exam_submmit_on")," ").concat(r("common_show_time",{weekDay:c[n.getDay()],day:n.getDate(),month:l[n.getMonth()],year:n.getFullYear(),time:"".concat(n.getHours()<10?"0".concat(n.getHours()):n.getHours(),":").concat(n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes())}))})]}),(0,E.jsx)("td",{children:e.markTotal}),(0,E.jsx)("td",{children:e.markTotal/i*o}),(0,E.jsx)("td",{children:(0,E.jsx)(K.rU,{to:"".concat(J._.lecturer.exam.preview.replace(":courseId",s).replace(":examId",a).replace(":submissionId",e.examSubmissionId)),children:(0,E.jsx)(Bn.Z,{"translation-key":"exam_detail_see_again",href:"",underline:"hover",variant:"plain",level:"body-sm",children:r("exam_detail_see_again")})})})]},t)})),0===t.length&&(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("tr",{children:(0,E.jsx)("td",{colSpan:n.length,style:{textAlign:"center",verticalAlign:"middle"},children:(0,E.jsx)(Qe.Z,{"translation-key":"exam_detail_summary_no_attempt",fontSize:".875rem",color:"#212121",fontWeight:"600",children:r("exam_detail_summary_no_attempt")})})})})]})]})}const Wn={assignmentBody:"styles_assignmentBody__Awygn",assignmentsWrapper:"styles_assignmentsWrapper__IqdDI",topic:"styles_topic__k+Pwb"};var Ln=n(4271),Hn=n(65898),Gn=n(22514),On=n(10850),zn=n(72695),Vn=n(21426),Un=n(44113),Fn=n(84134),Qn=n(94460),Yn=n(90182),Jn=n(29946),Kn=n(33117);function $n(e){let{rows:t}=e;return(0,E.jsx)(Je.Z,{variant:"outlined",children:(0,E.jsx)(Ke.Z,{variant:"soft",borderAxis:"bothBetween",hoverRow:!0,children:(0,E.jsx)("tbody",{children:t.map((e=>(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{scope:"row",style:{width:"30%"},children:e.header}),(0,E.jsx)("td",{children:e.data})]},e.header)))})})})}const Xn=()=>{var e;const{t:t}=(0,D.$G)(),{examId:n}=(0,l.UO)(),{courseId:i}=(0,l.UO)(),o=(0,he.I0)(),r=(0,he.v9)((e=>e.exam)),c=(0,he.v9)((e=>e.takeExam.startAt)),[d,m]=(0,y.useState)([]),[u,h]=(0,y.useState)(!0),[g,p]=(0,y.useState)(new Date),[b,j]=(0,y.useState)(new Date),[f,Z]=(0,y.useState)(!1),[v,C]=(0,y.useState)(""),[k,T]=(0,y.useState)(0),S=(0,he.v9)(Kn.HF),[w,I]=(0,y.useState)({id:"",courseId:"",name:"",scores:0,maxScores:0,timeOpen:new Date,timeClose:new Date,timeLimit:0,intro:"",overdueHanding:"",canRedoQuestions:!1,maxAttempts:0,shuffleAnswers:!1,gradeMethod:"",createdAt:new Date,updatedAt:new Date}),[N,P]=(0,y.useState)({numberOfStudents:0,submitted:0});(0,y.useEffect)((()=>{(()=>{let e=0;"QUIZ_GRADEHIGHEST"===w.gradeMethod?e=Math.max(...d.map((e=>e.markTotal)))/(w.scores||1)*(w.maxScores||0):"QUIZ_GRADEAVERAGE"===w.gradeMethod?e=d.reduce(((e,t)=>e+t.markTotal),0)/d.length:"QUIZ_ATTEMPTFIRST"===w.gradeMethod&&(e=d[0].markTotal);"QUIZ_ATTEMPTLAST"===w.gradeMethod&&(e=d[d.length-1].markTotal),T(e)})()}),[d]),(0,y.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await We.O.getExamById(e);I(t),o((0,Le.gm)(t))}catch(n){n.code!==Fn.z.notFound&&n.code!==Fn.z.serverError||(Z(!0),C(t("course_error_exam_not_found")))}})(null!==n&&void 0!==n?n:r.examDetail.id),await(async e=>{try{const t=await We.O.getOverviewsByExamId(e);P(t),o((0,Le.Db)(t))}catch(t){console.error(t)}})(null!==n&&void 0!==n?n:r.examDetail.id),await(async(e,t)=>{try{const n=await We.O.getAllAttemptByExamIdAndUserId(e,t);m(n)}catch(n){console.error(n)}})(null!==n&&void 0!==n?n:r.examDetail.id,S.userId),h(!1)})();const e=new Date(w.timeOpen)?new Date(w.timeOpen):new Date,a=new Date(w.timeClose)?new Date(w.timeClose):new Date;p(e),j(a)}),[]);const A=(0,l.s0)(),M=[t("common_january"),t("common_february"),t("common_march"),t("common_april"),t("common_may"),t("common_june"),t("common_july"),t("common_august"),t("common_september"),t("common_october"),t("common_november"),t("common_december")],q=[t("common_sunday"),t("common_monday"),t("common_tuesday"),t("common_wednesday"),t("common_thursday"),t("common_friday"),t("common_saturday")];return f?(0,E.jsx)(Qn.Z,{errorTitle:v}):(0,E.jsxs)(s.Z,{className:Wn.assignmentBody,children:[(0,E.jsx)(Yn.q,{"translation-key":"course_detail_exam",children:(0,E.jsxs)("title",{children:[t("course_detail_exam")," | ",w.name]})}),(0,E.jsx)(Hn.Z,{variant:"soft",color:"neutral",onClick:()=>{A(J._.lecturer.course.assignment.replace(":courseId",r.examDetail.courseId))},startDecorator:(0,E.jsx)(Ve.Z,{}),"translation-key":"common_back",sx:{width:"fit-content"},children:t("common_back")}),(0,E.jsx)(x.Z,{children:w.name}),(0,E.jsx)(s.Z,{className:Wn.assignmentDescription,children:(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:w.intro}})}),(0,E.jsx)(zn.Z,{variant:"outlined",color:"neutral",sx:{padding:"10px"},children:(0,E.jsx)(a.ZP,{container:!0,children:(0,E.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,E.jsxs)(an.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,E.jsx)(Gn.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,E.jsxs)(an.Z,{direction:"row",spacing:.5,children:[(0,E.jsx)(Qe.Z,{fontWeight:"bolder","translation-key":"course_assignment_detail_open_time",color:"#434343",fontSize:"12px",children:"".concat(t("course_assignment_detail_open_time"),": ")}),(0,E.jsxs)(Qe.Z,{color:"#434343",fontSize:"12px",children:[" ",t("common_show_time",{weekDay:q[g.getDay()],day:g.getDate(),month:M[g.getMonth()],year:g.getFullYear(),time:"".concat(g.getHours()<10?"0".concat(g.getHours()):g.getHours(),":").concat(g.getMinutes()<10?"0".concat(g.getMinutes()):g.getMinutes())})]})]}),(0,E.jsx)(On.Z,{sx:{color:"#707070",fontSize:"20px"}})," ",(0,E.jsxs)(an.Z,{direction:"row",spacing:.5,children:[(0,E.jsx)(Qe.Z,{fontWeight:"bolder",color:"#434343",fontSize:"12px","translation-key":"course_assignment_detail_close_time",children:"".concat(t("course_assignment_detail_close_time"),": ")}),(0,E.jsx)(Qe.Z,{color:"#434343",fontSize:"12px",children:t("common_show_time",{weekDay:q[b.getDay()],day:b.getDate(),month:M[b.getMonth()],year:b.getFullYear(),time:"".concat(b.getHours()<10?"0".concat(b.getHours()):b.getHours(),":").concat(b.getMinutes()<10?"0".concat(b.getMinutes()):b.getMinutes())})})]})]})})})}),(0,E.jsx)(an.Z,{direction:"row",spacing:1.5,alignItems:"center",children:(0,E.jsx)(Hn.Z,{disabled:d.length===w.maxAttempts&&0!==w.maxAttempts,onClick:()=>{const e=w.timeOpen?new Date(w.timeOpen):new Date,t=w.timeClose?new Date(w.timeClose):new Date,a=w.createdAt?new Date(w.createdAt):new Date,s=w.updatedAt?new Date(w.updatedAt):new Date,l={id:w.id,courseId:w.courseId,name:w.name,scores:w.scores,maxScores:w.maxScores,timeOpen:e.toISOString(),timeClose:t.toISOString(),timeLimit:w.timeLimit,intro:w.intro,overdueHanding:w.overdueHanding,canRedoQuestions:w.canRedoQuestions,maxAttempts:w.maxAttempts,shuffleAnswers:w.shuffleAnswers,gradeMethod:w.gradeMethod,createdAt:a.toISOString(),updatedAt:s.toISOString()};o((0,Ln.uA)(l)),A(J._.lecturer.exam.take.replace(":courseId",i||r.examDetail.courseId).replace(":examId",n||r.examDetail.id))},sx:{width:"fit-content",height:"fit-content"},children:t(c?"exam_detail_test":"exam_detail_start")})}),(0,E.jsx)(zn.Z,{variant:"soft",color:"neutral",sx:{padding:"10px"},children:(0,E.jsxs)(an.Z,{spacing:1.5,children:[(0,E.jsxs)(an.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,E.jsx)(Vn.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,E.jsxs)(an.Z,{direction:"row",spacing:.5,children:[(0,E.jsxs)(Qe.Z,{"translation-key":"exam_detail_time_limit",fontWeight:"bolder",color:"#434343",fontSize:"12px",children:[t("exam_detail_time_limit"),": "]}),(0,E.jsx)(Qe.Z,{color:"#434343",fontSize:"12px",children:(0,qn.m)(1e3*(null!==(e=w.timeLimit)&&void 0!==e?e:0),Re.ZP.language)})]})]}),(0,E.jsxs)(an.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,E.jsx)(Un.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,E.jsxs)(an.Z,{direction:"row",spacing:.5,children:[(0,E.jsxs)(Qe.Z,{"translation-key":"exam_detail_grading_method",fontWeight:"bolder",color:"#434343",fontSize:"12px",children:[t("exam_detail_grading_method"),": "]}),(0,E.jsx)(Qe.Z,{color:"#434343",fontSize:"12px",children:"QUIZ_GRADEHIGHEST"===w.gradeMethod?t("exam_detail_grading_method_high_score"):"QUIZ_GRADEAVERAGE"===w.gradeMethod?t("exam_detail_grading_method_average_score"):"QUIZ_ATTEMPTFIRST"===w.gradeMethod?t("exam_detail_grading_method_first_submit"):"QUIZ_ATTEMPTLAST"===w.gradeMethod?t("exam_detail_grading_method_last_submit"):""})]})]}),(0,E.jsxs)(an.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,E.jsx)(Jn.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,E.jsxs)(an.Z,{direction:"row",spacing:.5,children:[(0,E.jsx)(Qe.Z,{fontWeight:"bolder",color:"#434343",fontSize:"12px","translation-key":"exam_detail_max_attempt",children:"".concat(0===w.maxAttempts?t("exam_detail_attempt_unlimited"):t("exam_detail_max_attempt"),": ")}),(0,E.jsx)(Qe.Z,{color:"#434343",fontSize:"12px",children:w.maxAttempts})]})]})]})}),(0,E.jsx)(Fe.Z,{"translation-key":"common_overview",children:t("common_overview")}),(0,E.jsx)($n,{rows:[{header:t("course_lecturer_assignment_student_num"),data:N.numberOfStudents.toString()},{header:t("course_lecturer_assignment_submitted"),data:N.submitted.toString()},{header:t("course_lecturer_assignment_need_grading"),data:(N.numberOfStudents-N.submitted).toString()}],"translation-key":["course_lecturer_assignment_hide","course_lecturer_assignment_student_num","course_lecturer_assignment_submitted","course_lecturer_assignment_need_grading","common_time_left"]}),(0,E.jsxs)(s.Z,{sx:{display:"flex",gap:"20px"},children:[(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:()=>{A(J._.lecturer.exam.submissions.replace(":courseId",w.courseId).replace(":examId",w.id))},children:(0,E.jsx)(Qe.Z,{"translation-key":"course_lecturer_assignment_see_submit",children:t("course_lecturer_assignment_see_submit")})}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{A(J._.lecturer.exam.grading)},children:(0,E.jsx)(Qe.Z,{"translation-key":"course_lecturer_assignment_grading",children:t("course_lecturer_assignment_grading")})})]}),(0,E.jsx)(Fe.Z,{"translation-key":"exam_detail_summary_previous_attempt",children:t("exam_detail_summary_previous_attempt")}),(0,E.jsx)(Rn,{examId:n||r.examDetail.id,courseId:i||r.examDetail.courseId,headers:[t("exam_detail_summary_attempt"),t("exam_detail_summary_state"),"".concat(t("exam_detail_mark")," / ").concat(w.scores),"".concat(t("common_final_grade")," / ").concat(w.maxScores),t("exam_detail_summary_review")],rows:d,examMark:w.scores||0,examGrade:w.maxScores||0}),0!==d.length&&(0,E.jsxs)(Fe.Z,{"translation-key":"exam_detail_grading_method_high_score",children:[t("exam_detail_grading_method_high_score"),": ",(0,E.jsx)("span",{style:{color:"red"},children:k})," / ",w.maxScores]})]})},ea=(0,y.memo)((e=>{const{t:t}=(0,D.$G)(),n=(0,l.s0)(),{courseId:a}=(0,l.UO)(),{pathname:i}=(0,l.TH)(),o=(0,Y.ZP)(ye.Z)({"& .MuiTabs-indicator":{backgroundColor:"transparent",display:"none"},"& .MuiTabs-flexContainer":{width:"fit-content",padding:"4px 3px",borderRadius:8}}),r=(0,Y.ZP)((e=>(0,E.jsx)(be.Z,{disableRipple:!0,...e})))((e=>{let{theme:t}=e;return{textTransform:"none",width:100,minHeight:29,borderRadius:10,padding:"10px 6px",fontSize:16,[t.breakpoints.up("sm")]:{minWidth:0},fontWeight:500,color:"rgba(0, 0, 0, 0.85)",fontFamily:["-apple-system","BlinkMacSystemFont",'"Roboto"'].join(","),"&:hover":{color:"#1976d2",backgroundColor:"#ECF4FD",transition:"all 0.2s ease-in-out",opacity:1},"&.Mui-selected":{color:"#1976d2",backgroundColor:"#ECF4FD",fontWeight:t.typography.fontWeightMedium},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}})),c=(0,y.useMemo)((()=>[J._.lecturer.course.information,J._.lecturer.course.assignment,J._.lecturer.course.grade,J._.lecturer.course.participant]),[J._]),d=(0,y.useMemo)((()=>{if(a){const e=c.findIndex((e=>{return t=e.replace(":courseId",a),!!i.startsWith(t);var t}));return-1===e?0:e}}),[i,c]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(s.Z,{className:An,"translation-key":["course_detail_classroom","course_detail_assignment","common_grade","course_detail_participant"],children:(0,E.jsxs)(o,{value:d,onChange:(e,t)=>{a&&n(c[t].replace(":courseId",a))},"aria-label":"basic tabs example",className:En,children:[(0,E.jsx)(r,{sx:{textTransform:"none"},label:t("course_detail_classroom"),value:0}),(0,E.jsx)(r,{sx:{textTransform:"none"},label:t("course_detail_assignment"),value:1}),(0,E.jsx)(r,{sx:{textTransform:"none"},label:t("common_grade"),value:2}),(0,E.jsx)(r,{sx:{textTransform:"none"},label:t("course_detail_participant"),value:3})]})}),(0,E.jsx)(s.Z,{id:Mn,children:(0,E.jsx)(s.Z,{mt:2,children:(0,E.jsxs)(l.Z5,{children:[(0,E.jsx)(l.AW,{path:"information",element:(0,E.jsx)(At,{})}),(0,E.jsx)(l.AW,{path:"assignments",element:(0,E.jsx)(ze,{})}),(0,E.jsx)(l.AW,{path:"assignments/:assignmentId",element:(0,E.jsx)(it,{})}),(0,E.jsx)(l.AW,{path:"assignments/:assignmentId/submissions",element:(0,E.jsx)(Kt,{})}),(0,E.jsx)(l.AW,{path:"assignments/exams/:examId",element:(0,E.jsx)(Xn,{})}),(0,E.jsx)(l.AW,{path:"assignments/exams/:examId/submissions",element:(0,E.jsx)(Pn,{})}),(0,E.jsx)(l.AW,{path:"grade",element:(0,E.jsx)(bt,{})}),(0,E.jsx)(l.AW,{path:"participant",element:(0,E.jsx)(Ht,{})})]})})})]})}));var ta=n(51765),na=n(46923),aa=n(90200),sa=n(86659);const ia="styles_drawer__7bnFf",oa="styles_itemIcon__r51jg";var ra=n(87258),la=n(34180),ca=n(47477),da=n(31825);const ma=270,ua=(0,Y.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{flexGrow:1,width:"calc(100% - ".concat(ma,"px)"),overflow:"auto",padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(ma,"px"),...n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}}));function _a(e){let{children:t}=e;const{t:n}=(0,D.$G)(),a=[{name:n("side_bar_dashboard"),"translation-key":"side_bar_dashboard",icon:(0,E.jsx)(ta.Z,{className:oa}),link:J._.lecturer.course.management},{name:n("calendar_title"),"translation-key":"calendar_title",icon:(0,E.jsx)(ra.Qu,{className:oa}),link:J._.lecturer.calendar},{name:Re.ZP.format(n("common_question_bank"),"firstUppercase"),"translation-key":"common_question_bank",icon:(0,E.jsx)(la.Z,{className:oa}),link:J._.lecturer.question_bank.path}],[i,o]=y.useState(!0),r=(0,he.I0)(),l=(0,y.useRef)(null),{height:c}=(0,ca.Z)({ref:l});return(0,E.jsxs)(s.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,E.jsx)(aa.Z,{toggleDrawer:()=>{o((e=>!e)),r((0,da.G)())},ref:l}),(0,E.jsx)(na.ZP,{className:ia,sx:{width:ma,flexShrink:0,"& .MuiDrawer-paper":{width:ma}},variant:"persistent",anchor:"left",open:i,children:(0,E.jsx)(sa.Z,{sideBarItem:a})}),(0,E.jsx)(ua,{open:i,sx:{marginTop:"".concat(c,"px"),height:"calc(100% - ".concat(c,"px)")},children:t})]})}var ha=n(41493);const xa="styles_codequestionsBody__egOgq",ga="styles_btnWrapper__v9QLl";var pa=n(51629),ya=n(66835),ba=n(23477),ja=n(24076),fa=n(70941),Za=n(57861),va=n(1309),Ca=n(10259);const ka="styles_table-head__JCpmi",Ta="styles_table-cell__72U38",Sa="styles_small-heading__nhIMM",wa="styles_col-table-body__kjwN2",Ia="styles_cell-actions__KYlKS",Na="styles_noList__VefrK";const Da=function(e){let{data:t,customHeading:n,customColumns:a,isActionColumn:s,onViewDetailsClick:i,onEditClick:o,onDeleteClick:r}=e;const l=e=>{i&&i(e)},c=(0,y.useMemo)((()=>{const e={};return t&&t.length>0&&a.forEach((n=>{const a=Math.max(...t.map((e=>String(e[n]).length)));e[n]=Math.max(10,8*a)})),e}),[t,a]);return(0,E.jsx)(pa.Z,{component:Se.Z,children:(0,E.jsxs)(ya.Z,{sx:{minWidth:650},"aria-label":"custom table",children:[(0,E.jsx)(ba.Z,{className:ka,children:(0,E.jsxs)(ja.Z,{children:[n.map(((e,t)=>(0,E.jsx)(fa.Z,{align:"left",className:"".concat(Ta," ").concat("STT"===e?Sa:""),children:(0,E.jsx)(Qe.Z,{fontWeight:700,children:e})},t))),s&&(0,E.jsx)(fa.Z,{align:"left",className:Ta,children:(0,E.jsx)(Qe.Z,{fontWeight:700,children:"H\xe0nh \u0111\u1ed9ng"})})]})}),(0,E.jsxs)(Za.Z,{children:[t&&t.length>0&&t.map(((e,t)=>(0,E.jsxs)(ja.Z,{onClick:()=>l(e.id),children:[a.map(((t,n)=>(0,E.jsx)(fa.Z,{align:"left",style:{minWidth:c[t],maxWidth:c[t]},className:"".concat(wa,"                           \n\t\t\t\t\t\t\t\t\t\t"),children:(0,E.jsx)(Qe.Z,{children:e[t]})},n))),s&&(0,E.jsxs)(fa.Z,{align:"left",className:Ia,children:[i&&(0,E.jsx)(F.Z,{title:"Chi ti\u1ebft",children:(0,E.jsx)(ct.Z,{"aria-label":"view-detail",size:"medium",onClick:()=>l(e.id),children:(0,E.jsx)(Ca.G,{icon:va.Mdf})})}),o&&(0,E.jsx)(F.Z,{title:"Ch\u1ec9nh s\u1eeda",children:(0,E.jsx)(ct.Z,{"aria-label":"edit",size:"medium",onClick:()=>{var t;t=e.id,o&&o(t)},children:(0,E.jsx)(ot.Z,{})})}),r&&(0,E.jsx)(F.Z,{title:"X\xf3a",children:(0,E.jsx)(ct.Z,{size:"medium",onClick:()=>{return t=e.id,void(r&&r(t));var t},children:(0,E.jsx)(bn.Z,{})})})]})]},t))),(!t||0===t.length)&&(0,E.jsx)(ja.Z,{children:(0,E.jsx)(fa.Z,{colSpan:s?n.length+1:n.length,children:(0,E.jsx)(Qe.Z,{className:Na,children:"Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin"})})})]})]})})};var Pa=n(46686),Aa=n(70978);const Ea=()=>{const[e,t]=(0,y.useState)(""),n=(0,he.I0)(),a=(0,he.v9)((e=>e.question)),i=async t=>{let{search:a=e,pageNo:s=d,pageSize:i=r}=t;try{const e=await Pa.a.getQuestions({search:a,pageNo:s,pageSize:i});n((0,Aa.d9)(e))}catch(o){console.log(o)}};(0,y.useEffect)((()=>{(async()=>{await i({search:e})})()}),[e]);const{t:o}=(0,D.$G)(),[r,c]=(0,y.useState)(10),[d,m]=(0,y.useState)(0),u=[o("common_num_order"),o("exam_management_create_question_name"),o("common_difficult_level"),o("common_edit_date")],h=(0,l.s0)();return(0,E.jsxs)(s.Z,{id:xa,children:[(0,E.jsx)(x.Z,{fontWeight:"500","translation-key":"code_management_title",children:o("code_management_title")}),(0,E.jsxs)(s.Z,{className:ga,children:[(0,E.jsx)(R.Z,{onSearchClick:async e=>{t(e)}}),(0,E.jsx)(_.Z,{children:o("common_add_question"),btnType:_.s.Primary,width:"150px",onClick:()=>{h(J._.lecturer.code_question.create)},"translation-key":"common_add_question"})]}),(0,E.jsx)(Da,{data:a.questions.map(((e,t)=>({stt:t+1,difficultyText:"EASY"===e.difficulty?"D\u1ec5":"MEDIUM"===e.difficulty?"Trung b\xecnh":"Kh\xf3",updatedAtText:p()(e.updatedAt).format("hh:mm DD/MM/YYYY"),...e}))),customColumns:["stt","name","difficultyText","updatedAtText"],customHeading:u,isActionColumn:!0,onEditClick:e=>{h(J._.lecturer.code_question.information.replace(":questionId",e.toString()))},onDeleteClick:t=>{(async t=>{try{await Pa.a.deleteQuestion(t),i({search:e})}catch(n){console.log(n)}})(t.toString())}}),(0,E.jsx)(ha.Z,{component:"div",rowsPerPageOptions:[5,10,25,100],count:a.totalItems,page:a.currentPage,onPageChange:(t,n)=>{m(n),i({search:e,pageNo:n,pageSize:r})},rowsPerPage:r,labelRowsPerPage:o("common_table_row_per_page"),onRowsPerPageChange:t=>{c(+t.target.value),m(0),i({search:e,pageNo:0,pageSize:+t.target.value})},labelDisplayedRows:e=>{let{from:t,to:n,count:a,page:s}=e;return o("common_table_from_to",{from:t,to:n,countText:a})},"translation-key":["common_table_row_per_page"]})]})},Ma="styles_codeQuestionDetailBody__rmyqk",qa="styles_tabWrapper__kbFk7",Ba="styles_body__bFLmV",Ra="styles_breadCump__Wx9zS",Wa="styles_stickyFooterItem__0Gk6-",La="styles_phantom__sup-N",Ha="styles_stickyFooterContainer__87gdv",Ga="styles_tabs__4LAHg";var Oa=n(294);const za="styles_formBody__EzOpE",Va="styles_textEditor__g0Ls8";var Ua=function(e){return e.EASY="EASY",e.MEDIUM="MEDIUM",e.HARD="HARD",e}(Ua||{});const Fa=(0,y.memo)((e=>{let{question:t}=e;const{t:n}=(0,D.$G)(),[i,o]=(0,y.useState)("M\xf4 t\u1ea3 b\xe0i to\xe1n"),[r,l]=(0,y.useState)("T\xednh t\u1ed5ng 2 s\u1ed1"),[c,d]=(0,y.useState)("G\u1ed3m 2 s\u1ed1 nguy\xean a v\xe0 b c\xe1ch nhau b\u1edfi d\u1ea5u c\xe1ch, \u0111\u01b0\u1ee3c nh\u1eadp t\u1eeb b\xe0n ph\xedm"),[m,u]=(0,y.useState)("L\xe0 m\u1ed9t s\u1ed1 nguy\xean cho bi\u1ebft t\u1ed5ng c\u1ee7a a v\xe0 b"),[_,h]=(0,y.useState)("a v\xe0 b l\xe0 s\u1ed1 nguy\xean"),[x]=(0,y.useState)("T\u1ed5ng 2 s\u1ed1"),[g,p]=(0,y.useState)(Ua.EASY);return(0,E.jsxs)(s.Z,{component:"form",autoComplete:"off",className:za,children:[(0,E.jsxs)(X.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"code_management_detail_info_description",children:[n("code_management_detail_info_description")," "]}),(0,E.jsx)(k.Z,{title:n("exam_management_create_question_name"),type:"text",value:t.name,"translation-key":"exam_management_create_question_name"}),(0,E.jsx)(we.Z,{children:(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"common_difficult_level",children:n("common_difficult_level")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,children:(0,E.jsxs)(Ne.Z,{value:t.difficulty,onChange:e=>{p(e.target.value)},sx:{width:"200px"},children:[(0,E.jsx)(De.Z,{value:Ua.EASY,"translation-key":"common_easy",children:n("common_easy")}),(0,E.jsx)(De.Z,{value:Ua.MEDIUM,"translation-key":"common_medium",children:n("common_medium")}),(0,E.jsx)(De.Z,{value:Ua.HARD,"translation-key":"common_hard",children:n("common_hard")})]})})]})}),(0,E.jsx)(we.Z,{children:(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_description",children:n("code_management_create_description")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:Va,children:(0,E.jsx)(T.Z,{value:t.questionText,onChange:o})})]})}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_statement",children:n("code_management_create_statement")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:Va,children:(0,E.jsx)(T.Z,{value:r,onChange:l})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,"translation-key":"code_management_create_input_format",children:(0,E.jsx)(S.Z,{children:n("code_management_create_input_format")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:Va,children:(0,E.jsx)(T.Z,{value:c,onChange:d})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_constraint",children:n("code_management_create_constraint")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:Va,children:(0,E.jsx)(T.Z,{value:_,onChange:h})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_output_format",children:n("code_management_create_output_format")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:Va,children:(0,E.jsx)(T.Z,{value:m,onChange:u})})]})]})})),Qa=Fa,Ya="styles_head-wrapper__lqa8G",Ja="styles_btn-wrapper__agnTf",Ka="styles_body__o0dN6",$a="styles_dataGrid__bL2pR",Xa="styles_icon__BfP3g";var es=n(44758),ts=n(11198);const ns={dialogTitle:"styles_dialogTitle__VqDlP",formBody:"styles_formBody__hajG0",inputContainer:"styles_inputContainer__i4GRp",btnWrapper:"styles_btnWrapper__dAKjL"};var as=n(15305);const ss=(0,Y.ZP)(sn.Z)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),is=e=>{let{setOpen:t,open:n,itemEdit:i,setItemEdit:o}=e;const[r,l]=(0,y.useState)(0),[c,d]=(0,y.useState)(!1);(0,y.useEffect)((()=>{i&&(l(i.score),d(i.isSample))}),[i]);const m=()=>{t(!1),o(null)},{t:u}=(0,D.$G)();return(0,E.jsxs)(ss,{onClose:m,"aria-labelledby":"customized-dialog-title",open:n,fullWidth:!0,maxWidth:"md",children:[(0,E.jsxs)(dn.Z,{className:ns.dialogTitle,children:[i?(0,E.jsx)($.Z,{"translation-key":"code_management_detail_update_test_case",children:u("code_management_detail_update_test_case")}):(0,E.jsx)($.Z,{"translation-key":"code_management_detail_add_test_case",children:u("code_management_detail_add_test_case")}),(0,E.jsx)(ct.Z,{"aria-label":"close",onClick:m,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,E.jsx)(ts.Z,{})})]}),(0,E.jsx)(on.Z,{dividers:!0,className:ns.dialogContent,children:(0,E.jsxs)(s.Z,{component:"form",className:ns.formBody,autoComplete:"off",children:[(0,E.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center"},children:(0,E.jsx)(we.Z,{children:(0,E.jsxs)(a.ZP,{container:!0,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center"},children:(0,E.jsx)(S.Z,{"translation-key":"common_score",children:u("common_score")})}),(0,E.jsx)(a.ZP,{item:!0,xs:6,children:(0,E.jsx)(Ct.Z,{value:r,type:"number",size:"small",onChange:e=>{l(e.target.value)}})})]})})}),(0,E.jsx)(a.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center"},children:(0,E.jsx)(we.Z,{children:(0,E.jsxs)(a.ZP,{container:!0,children:[(0,E.jsx)(a.ZP,{item:!0,xs:6,sx:{display:"flex",alignItems:"center"},children:(0,E.jsx)(S.Z,{"translation-key":"common_template",children:u("common_template")})}),(0,E.jsx)(a.ZP,{item:!0,xs:6,children:(0,E.jsx)(es.Z,{color:"primary",sx:{"& .MuiSvgIcon-root":{fontSize:35}},checked:c,onChange:()=>{d(!c)}})})]})})})]}),(0,E.jsxs)(we.Z,{fullWidth:!0,className:ns.inputContainer,children:[(0,E.jsx)(S.Z,{children:u("detail_problem_input")}),(0,E.jsx)(as.Z,{defaultValue:i?i.inputValue:"",sx:{backgroundColor:"white"},minRows:5,maxRows:5})]}),(0,E.jsxs)(we.Z,{fullWidth:!0,className:ns.inputContainer,children:[(0,E.jsx)(S.Z,{"translation-key":"detail_problem_output",children:u("detail_problem_output")}),(0,E.jsx)(as.Z,{defaultValue:i?i.outputValue:"",sx:{backgroundColor:"white"},minRows:5,maxRows:5})]}),(0,E.jsxs)(s.Z,{className:ns.btnWrapper,children:[(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:m,"translation-key":"common_cancel",children:u("common_cancel")}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,"translation-key":"common_add_new",children:Re.ZP.format(u("common_add_new"),"firstUppercase")})]})]})})]})};var os=n(71205),rs=n(21199),ls=n(81876),cs=n(97762);function ds(e){const{t:t}=(0,D.$G)(),{title:n,content:a,open:s,setOpen:i,handleDelete:o}=e,r=()=>{i(!1)};return(0,E.jsxs)(sn.Z,{open:s,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,E.jsx)(dn.Z,{id:"alert-dialog-title",children:n}),(0,E.jsx)(on.Z,{children:(0,E.jsx)(cs.Z,{id:"alert-dialog-description",children:a})}),(0,E.jsxs)(cn.Z,{children:[(0,E.jsx)(U.Z,{onClick:r,"translation-key":"common_cancel",children:t("common_cancel")}),(0,E.jsx)(U.Z,{onClick:()=>{o(),i(!1)},autoFocus:!0,"translation-key":"common_confirm",children:t("common_confirm")})]})]})}const ms=(0,y.memo)((e=>{const{t:t}=(0,D.$G)(),[n,a]=(0,y.useState)(!1),[i,o]=(0,y.useState)(!1),[r,l]=(0,y.useState)(null),[c,d]=y.useState([{id:1,input:"input01",output:"output01",inputValue:"1\n2",outputValue:"3",isSample:!0,score:0},{id:2,input:"input02",output:"output02",inputValue:"3\n2",outputValue:"5",isSample:!0,score:10},{id:3,input:"input03",output:"output03",inputValue:"2\n2",outputValue:"4",isSample:!0,score:100},{id:4,input:"input04",output:"output04",inputValue:"3\n3",outputValue:"6",isSample:!1,score:5},{id:5,input:"input05",output:"output05",inputValue:"5\n2",outputValue:"7",isSample:!1,score:10},{id:6,input:"input06",output:"output06",inputValue:"2\n12",outputValue:"14",isSample:!1,score:10}]),[m,u]=y.useState({}),h=e=>()=>{l(c.find((t=>t.id===e))),a(!0)},x=e=>()=>{u({...m,[e]:{mode:rs.se.View}})},g=e=>()=>{u({...m,[e]:{mode:rs.se.View,ignoreModifications:!0}});c.find((t=>t.id===e)).isNew&&d(c.filter((t=>t.id!==e)))},p=[{field:"id",headerName:t("common_num_order"),width:100,editable:!1},{field:"input",headerName:t("detail_problem_input"),type:"text",width:200,align:"left",headerAlign:"left",editable:!1},{field:"output",headerName:t("detail_problem_output"),width:200,type:"text",align:"left",headerAlign:"left",editable:!1},{field:"isSample",width:150,headerName:t("common_template"),editable:!0,type:"boolean"},{field:"score",headerName:t("common_score"),width:150,editable:!0,type:"number"},{field:"actions",type:"actions",headerName:t("common_action"),width:300,cellClassName:"actions",getActions:e=>{var t;let{id:n}=e;return(null===(t=m[n])||void 0===t?void 0:t.mode)===rs.se.Edit?[(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(vt.Z,{className:Xa}),label:"Save",sx:{color:"primary.main"},onClick:x(n)}),(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(ts.Z,{className:Xa}),label:"Cancel",className:"textPrimary",onClick:g(n),color:"inherit"})]:[(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(ot.Z,{className:Xa}),label:"Edit",className:"textPrimary",onClick:h(n),color:"inherit"}),(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(bn.Z,{className:Xa}),label:"Delete",onClick:()=>{o(!0)},color:"inherit"})]}}];return(0,E.jsxs)(s.Z,{className:Ka,children:[(0,E.jsxs)(s.Z,{className:Ya,children:[(0,E.jsxs)(X.Z,{"translation-key":"code_management_detail_test_case_description",fontStyle:"italic",fontWeight:"400",colorname:"--gray-50",children:[t("code_management_detail_test_case_description")," "]}),(0,E.jsxs)(s.Z,{className:Ja,children:[(0,E.jsx)(_.Z,{btnType:_.s.Outlined,"translation-key":"code_management_detail_upload_zip",children:t("code_management_detail_upload_zip")}),(0,E.jsx)(_.Z,{"translation-key":"code_management_detail_add_test_case",btnType:_.s.Primary,onClick:()=>a(!0),children:t("code_management_detail_add_test_case")})]})]}),(0,E.jsx)(ls._$,{rows:c,columns:p,editMode:"row",className:$a,rowModesModel:m,onRowModesModelChange:e=>{u(e)},onRowEditStop:(e,t)=>{e.reason===os.U.rowFocusOut&&(t.defaultMuiPrevented=!0)},processRowUpdate:e=>{const t={...e,isNew:!1};return d(c.map((n=>n.id===e.id?t:n))),t},slotProps:{toolbar:{setRows:d,setRowModesModel:u}}}),(0,E.jsx)(is,{itemEdit:r,open:n,setOpen:a,setItemEdit:l}),(0,E.jsx)(ds,{open:i,setOpen:o,title:t("code_management_detail_delete_confirm"),content:t("code_management_detail_delete_confirm_question"),handleDelete:()=>{o(!1)},"translation-key":["code_management_detail_delete_confirm_question","code_management_detail_delete_confirm"]})]})})),us={formBody:"styles_formBody__E86PY",btnWrapper:"styles_btnWrapper__l7tlh",codeStubsContainer:"styles_codeStubsContainer__Th+c1",codeStubsWrapper:"styles_codeStubsWrapper__9FNd0",codeStubHead:"styles_codeStubHead__g9eLW"};var _s=n(5479),hs=function(e){return e.JAVA="java",e.CPP="cpp",e.JAVASCRIPT="javascript",e}(hs||{});const xs=(0,y.memo)((e=>{const{t:t}=(0,D.$G)(),n=[{language:hs.JAVA,codeStubHead:"\timport java.io.*;\n\timport java.math.*;\n\timport java.security.*;\n\timport java.text.*;\n\timport java.util.*;\n\timport java.util.concurrent.*;\n\timport java.util.function.*;\n\timport java.util.regex.*;\n\timport java.util.stream.*;\n\timport static java.util.stream.Collectors.joining;\n\timport static java.util.stream.Collectors.toList;\n\t\t\t",codeStubBody:"class Result {\n\t/*\n\t\t* Complete the 'sumOfTwoIntegers' function below.\n\t\t*\n\t\t* The function is expected to return an INTEGER.\n\t\t* The function accepts following parameters:\n\t\t*  1. INTEGER a\n\t\t*  2. INTEGER b\n\t\t*/\n\n\tpublic static int sumOfTwoIntegers(int a, int b) {\n\t// Write your code here\n\n\t}\n\t\t\n\t\t}\n\t\t\t",codeStubTail:'public class Solution {\n\tpublic static void main(String[] args) throws IOException {\n\t\t\tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n\t\t\tBufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(System.getenv("OUTPUT_PATH")));\n\n\t\t\tint a = Integer.parseInt(bufferedReader.readLine().trim());\n\n\t\t\tint b = Integer.parseInt(bufferedReader.readLine().trim());\n\n\t\t\tint result = Result.sumOfTwoIntegers(a, b);\n\n\t\t\tbufferedWriter.write(String.valueOf(result));\n\t\t\tbufferedWriter.newLine();\n\n\t\t\tbufferedReader.close();\n\t\t\tbufferedWriter.close();\n\t}\n\t\t}'},{language:hs.JAVASCRIPT,codeStubHead:"\t'use strict';\n\n\t\tconst fs = require('fs');\n\t\t\n\t\tprocess.stdin.resume();\n\t\tprocess.stdin.setEncoding('utf-8');\n\t\t\n\t\tlet inputString = '';\n\t\tlet currentLine = 0;\n\t\t\n\t\tprocess.stdin.on('data', function(inputStdin) {\n\t\t\t\tinputString += inputStdin;\n\t\t});\n\t\t\n\t\tprocess.stdin.on('end', function() {\n\t\t\t\tinputString = inputString.split('\n');\n\t\t\n\t\t\t\tmain();\n\t\t});\n\t\t\n\t\tfunction readLine() {\n\t\t\t\treturn inputString[currentLine++];\n\t\t}\t\t\t\n\t\t\t",codeStubBody:"\n/*\n * Complete the 'sumOfTwoIntegers' function below.\n *\n * The function is expected to return an INTEGER.\n * The function accepts following parameters:\n *  1. INTEGER a\n *  2. INTEGER b\n */\n\nfunction sumOfTwoIntegers(a, b) {\n    // Write your code here\n\n}\n\t\t\t",codeStubTail:"\nfunction main() {\n\tconst ws = fs.createWriteStream(process.env.OUTPUT_PATH);\n\n\tconst a = parseInt(readLine().trim(), 10);\n\n\tconst b = parseInt(readLine().trim(), 10);\n\n\tconst result = sumOfTwoIntegers(a, b);\n\n\tws.write(result + '\n');\n\n\tws.end();\n}\n\t\t"},{language:hs.CPP,codeStubHead:"#include <bits/stdc++.h>\n\n\tusing namespace std;\n\t\n\tstring ltrim(const string &);\n\tstring rtrim(const string &);\n\t\t\t\t\t\n\t\t\t",codeStubBody:"\n\t\t\t/*\n * Complete the 'sumOfTwoIntegers' function below.\n *\n * The function is expected to return an INTEGER.\n * The function accepts following parameters:\n *  1. INTEGER a\n *  2. INTEGER b\n */\n\nint sumOfTwoIntegers(int a, int b) {\n\n}\n\t\t\t",codeStubTail:'int main()\n\t{\n\t\t\tofstream fout(getenv("OUTPUT_PATH"));\n\t\n\t\t\tstring a_temp;\n\t\t\tgetline(cin, a_temp);\n\t\n\t\t\tint a = stoi(ltrim(rtrim(a_temp)));\n\t\n\t\t\tstring b_temp;\n\t\t\tgetline(cin, b_temp);\n\t\n\t\t\tint b = stoi(ltrim(rtrim(b_temp)));\n\t\n\t\t\tint result = sumOfTwoIntegers(a, b);\n\t\n\t\t\tfout << result << "\n";\n\t\n\t\t\tfout.close();\n\t\n\t\t\treturn 0;\n\t}\n\t\n\tstring ltrim(const string &str) {\n\t\t\tstring s(str);\n\t\n\t\t\ts.erase(\n\t\t\t\t\ts.begin(),\n\t\t\t\t\tfind_if(s.begin(), s.end(), not1(ptr_fun<int, int>(isspace)))\n\t\t\t);\n\t\n\t\t\treturn s;\n\t}\n\t\n\tstring rtrim(const string &str) {\n\t\t\tstring s(str);\n\t\n\t\t\ts.erase(\n\t\t\t\t\tfind_if(s.rbegin(), s.rend(), not1(ptr_fun<int, int>(isspace))).base(),\n\t\t\t\t\ts.end()\n\t\t\t);\n\t\n\t\t\treturn s;\n\t}\t\t\t\n\t\t'}],[i,o]=(0,y.useState)(hs.JAVA),[r,l]=(0,y.useState)(n[0]),c=(0,y.useRef)(null),{height:d}=(0,ca.Z)({ref:c}),m=(0,y.useRef)(null),{height:u}=(0,ca.Z)({ref:m});return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(s.Z,{component:"form",autoComplete:"off",className:us.formBody,children:[(0,E.jsx)(X.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"code_management_detail_template_description",children:t("code_management_detail_template_description")}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_detail_template_dsl",children:t("code_management_detail_template_dsl")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,children:(0,E.jsx)(as.Z,{defaultValue:"function(integer, sumOfTwoIntegers, integer a, integer b)\n\ninteger(a)\n\ninteger(b)\n\ninvoke(integer, result, sumOfTwoIntegers, a, b)\n\nprint(integer,result)",sx:{backgroundColor:"white"},minRows:5,maxRows:5})})]}),(0,E.jsx)(s.Z,{className:us.btnWrapper,children:(0,E.jsxs)(_.Z,{btnType:_.s.Primary,width:"150px","translation-key":"code_management_detail_template_create",children:[t("code_management_detail_template_create")," "]})})]}),(0,E.jsxs)(X.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"code_management_detail_template_dsl_description",children:[t("code_management_detail_template_dsl_description")," "]}),(0,E.jsxs)(s.Z,{mt:2,id:us.codeStubsContainer,children:[(0,E.jsxs)(s.Z,{className:us.codeStubsWrapper,children:[(0,E.jsxs)(s.Z,{className:us.codeStubHead,ref:c,children:[(0,E.jsx)(Qe.Z,{fontWeight:700,children:"Head"}),(0,E.jsx)(we.Z,{children:(0,E.jsxs)(Ne.Z,{value:i,onChange:e=>{const t=e.target.value;o(t);const a=n.find((e=>e.language===t));a&&l(a)},sx:{bgcolor:"white",width:"150px"},children:[(0,E.jsx)(De.Z,{value:hs.JAVA,children:"Java"}),(0,E.jsx)(De.Z,{value:hs.JAVASCRIPT,children:"Javascript"}),(0,E.jsx)(De.Z,{value:hs.CPP,children:"C++"})]})})]}),(0,E.jsx)(s.Z,{className:us.codeStubBody,style:{height:"calc(100% - ".concat(d,"px)")},children:(0,E.jsx)(_s.Z,{value:r.codeStubHead,readOnly:!0})})]}),(0,E.jsxs)(s.Z,{className:us.codeStubsWrapper,children:[(0,E.jsx)(s.Z,{className:us.codeStubHead,ref:m,children:(0,E.jsx)(Qe.Z,{fontWeight:700,children:"Body"})}),(0,E.jsx)(s.Z,{className:us.codeStubBody,style:{height:"calc(100% - ".concat(u,"px)")},children:(0,E.jsx)(_s.Z,{value:r.codeStubBody,readOnly:!0})})]}),(0,E.jsxs)(s.Z,{className:us.codeStubsWrapper,children:[(0,E.jsx)(s.Z,{className:us.codeStubHead,children:(0,E.jsx)(Qe.Z,{fontWeight:700,children:"Tail"})}),(0,E.jsx)(s.Z,{className:us.codeStubBody,style:{height:"calc(100% - ".concat(u,"px)")},children:(0,E.jsx)(_s.Z,{value:r.codeStubTail,readOnly:!0})})]})]})]})})),gs="styles_body__CDijL",ps="styles_dataGrid__ybts6",ys="styles_icon__JV9Ix",bs=(0,y.memo)((e=>{const{t:t}=(0,D.$G)(),[n,a]=y.useState([{id:1,name:"ADA",timeLimit:3,memoryLimit:512,isSelected:!0},{id:2,name:"C++",timeLimit:2,memoryLimit:512,isSelected:!0},{id:3,name:"Java 15",timeLimit:4,memoryLimit:2048,isSelected:!0}]),[i,o]=y.useState({}),r=e=>()=>{o({...i,[e]:{mode:rs.se.Edit}})},l=e=>()=>{o({...i,[e]:{mode:rs.se.View}})},c=e=>()=>{o({...i,[e]:{mode:rs.se.View,ignoreModifications:!0}});n.find((t=>t.id===e)).isNew&&a(n.filter((t=>t.id!==e)))},d=[{field:"name",headerName:t("common_language"),type:"text",width:150,align:"left",headerAlign:"left",editable:!1},{field:"timeLimit",headerName:t("code_management_detail_lang_time_limit"),width:300,type:"number",align:"center",headerAlign:"center",editable:!0},{field:"memoryLimit",width:300,headerName:t("code_management_detail_lang_storage_limit"),editable:!0,align:"center",headerAlign:"center",type:"number"},{field:"isSelected",width:150,headerName:t("common_use"),editable:!0,type:"boolean"},{field:"actions",type:"actions",headerName:t("common_action"),width:200,align:"center",headerAlign:"center",cellClassName:"actions",getActions:e=>{var t;let{id:n}=e;return(null===(t=i[n])||void 0===t?void 0:t.mode)===rs.se.Edit?[(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(vt.Z,{className:ys}),label:"Save",sx:{color:"primary.main"},onClick:l(n)}),(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(ts.Z,{className:ys}),label:"Cancel",className:"textPrimary",onClick:c(n),color:"inherit"})]:[(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(ot.Z,{className:ys}),label:"Edit",className:"textPrimary",onClick:r(n),color:"inherit"})]}}];return(0,E.jsxs)(s.Z,{className:gs,children:[(0,E.jsx)(X.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50",children:t("code_management_detail_lang_description")}),(0,E.jsx)(ls._$,{rows:n,columns:d,editMode:"row",className:ps,rowModesModel:i,onRowModesModelChange:e=>{o(e)},onRowEditStop:(e,t)=>{e.reason===os.U.rowFocusOut&&(t.defaultMuiPrevented=!0)},processRowUpdate:e=>{const t={...e,isNew:!1};return a(n.map((n=>n.id===e.id?t:n))),t},slotProps:{toolbar:{setRows:a,setRowModesModel:o}}})]})})),js=(0,y.memo)((e=>{const{questionId:t}=(0,l.UO)(),[n,a]=(0,y.useState)({id:"",organizationId:"",difficulty:"",name:"",questionText:"",generalFeedback:"",defaultMark:0,createdAt:"",updatedAt:"",message:"",qtype:""});(0,y.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await Pa.a.getQuestionById(e);a(t)}catch(t){console.log(t)}})(null!==t&&void 0!==t?t:"")})()}),[]);const{t:i}=(0,D.$G)(),o=(0,l.s0)(),{pathname:r}=(0,l.TH)(),c=(0,y.useMemo)((()=>[J._.lecturer.code_question.information,J._.lecturer.code_question.test_cases,J._.lecturer.code_question.code_stubs,J._.lecturer.code_question.languages]),[J._]),d=(0,y.useMemo)((()=>{if(t){const e=c.findIndex((e=>{return n=e.replace(":questionId",t),!!(0,Oa.LX)(r,n);var n}));return-1===e?0:e}}),[r,c]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(s.Z,{children:[(0,E.jsx)(s.Z,{className:qa,children:(0,E.jsxs)(Qe.Z,{className:Ra,colorname:"--gray-50",fontWeight:"600",children:[(0,E.jsx)("span",{"translation-key":"code_management_title",onClick:()=>o(J._.lecturer.code_question.management),children:i("code_management_title")}),">",(0,E.jsx)("span",{onClick:()=>{t&&o(r)},children:n.name})]})}),(0,E.jsxs)(s.Z,{className:Ba,children:[(0,E.jsx)(x.Z,{fontWeight:"500",children:n.name}),(0,E.jsx)(s.Z,{sx:{border:1,borderColor:"divider"},children:(0,E.jsxs)(ye.Z,{value:d,onChange:(e,n)=>{t&&o(c[n].replace(":questionId",t))},"aria-label":"basic tabs example",className:Ga,children:[(0,E.jsx)(be.Z,{sx:{textTransform:"none"},label:(0,E.jsx)(Qe.Z,{"translation-key":"common_info",children:i("common_info")}),value:0}),(0,E.jsx)(be.Z,{sx:{textTransform:"none"},label:(0,E.jsx)(Qe.Z,{children:"Test cases"}),value:1}),(0,E.jsx)(be.Z,{sx:{textTransform:"none"},label:(0,E.jsx)(Qe.Z,{"translation-key":"code_management_detail_stub",children:i("code_management_detail_stub")}),value:2}),(0,E.jsx)(be.Z,{sx:{textTransform:"none"},label:(0,E.jsx)(Qe.Z,{"translation-key":"common_language",children:i("common_language")}),value:3})]})}),(0,E.jsx)(s.Z,{id:Ma,children:(0,E.jsxs)(l.Z5,{children:[(0,E.jsx)(l.AW,{path:"information",element:(0,E.jsx)(Qa,{question:n})}),(0,E.jsx)(l.AW,{path:"test-cases",element:(0,E.jsx)(ms,{})}),(0,E.jsx)(l.AW,{path:"code-stubs",element:(0,E.jsx)(xs,{})}),(0,E.jsx)(l.AW,{path:"languages",element:(0,E.jsx)(bs,{})})]})})]})]}),(0,E.jsxs)(s.Z,{className:Ha,children:[(0,E.jsx)(s.Z,{className:La}),(0,E.jsx)(s.Z,{className:Wa,children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,"translation-key":"common_save_changes",children:i("common_save_changes")})})]})]})})),fs=js;var Zs=n(79091);const vs=y.createContext(null);function Cs(e){const{children:t,value:n}=e,a=function(){const[e,t]=y.useState(null);return y.useEffect((()=>{t("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),e}(),s=y.useMemo((()=>({idPrefix:a,value:n})),[a,n]);return(0,E.jsx)(vs.Provider,{value:s,children:t})}function ks(){return y.useContext(vs)}function Ts(e,t){const{idPrefix:n}=e;return null===n?null:"".concat(e.idPrefix,"-P-").concat(t)}function Ss(e,t){const{idPrefix:n}=e;return null===n?null:"".concat(e.idPrefix,"-T-").concat(t)}var ws=n(87462),Is=n(63366);const Ns=["children"],Ds=y.forwardRef((function(e,t){const{children:n}=e,a=(0,Is.Z)(e,Ns),s=ks();if(null===s)throw new TypeError("No TabContext provided");const i=y.Children.map(n,(e=>y.isValidElement(e)?y.cloneElement(e,{"aria-controls":Ts(s,e.props.value),id:Ss(s,e.props.value)}):null));return(0,E.jsx)(ye.Z,(0,ws.Z)({},a,{ref:t,value:s.value,children:i}))})),Ps="styles_questionBanksManagementBody__RV7H+";var As=n(25231);const Es=(0,Y.ZP)((e=>(0,E.jsx)(be.Z,{...e})))((e=>{let{theme:t}=e;return{textTransform:"none",fontWeight:t.typography.fontWeightRegular,fontSize:t.typography.pxToRem(20),marginRight:t.spacing(1)}})),Ms=()=>{const{t:e}=(0,D.$G)(),t=(0,l.s0)(),[n,a]=(0,y.useState)("1"),i=(0,he.I0)();return(0,E.jsx)(s.Z,{id:Ps,children:(0,E.jsxs)(Cs,{value:n,children:[(0,E.jsx)(s.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,E.jsxs)(Ds,{onChange:(e,n)=>{a(n),i((0,As.IE)(n)),t("/lecturer/question-bank-management")},"aria-label":"lab API tabs",children:[(0,E.jsx)(Es,{label:Re.ZP.format(e("common_general"),"firstUppercase"),"translation-key":"common_general",value:"1"}),(0,E.jsx)(Es,{label:Re.ZP.format(e("common_personal"),"firstUppercase"),"translation-key":"common_personal",value:"2"})]})}),(0,E.jsx)(l.j3,{context:{value:n,setValue:a}})]})})};var qs=n(47825),Bs=n(94146),Rs=n(77342),Ws=n(8007),Ls=n(1167);function Hs(e){return(0,Ls.ZP)("MuiTabPanel",e)}(0,n(14363).Z)("MuiTabPanel",["root"]);const Gs=["children","className","value"],Os=(0,Y.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(3)}})),zs=y.forwardRef((function(e,t){const n=(0,Rs.Z)({props:e,name:"MuiTabPanel"}),{children:a,className:s,value:i}=n,o=(0,Is.Z)(n,Gs),r=(0,ws.Z)({},n),l=(e=>{const{classes:t}=e;return(0,Ws.Z)({root:["root"]},Hs,t)})(r),c=ks();if(null===c)throw new TypeError("No TabContext provided");const d=Ts(c,i),m=Ss(c,i);return(0,E.jsx)(Os,(0,ws.Z)({"aria-labelledby":m,className:(0,Bs.Z)(l.root,s),hidden:i!==c.value,id:d,ref:t,role:"tabpanel",ownerState:r},o,{children:i===c.value&&a}))}));var Vs=n(51293);const Us={"tab-panel":"styles_tab-panel__8Dwqr"};var Fs=n(571),Qs=n(93588);const Ys=()=>{const[e,t]=(0,y.useState)(""),n=(0,he.I0)(),a=(0,he.v9)((e=>e.questionBankCategory)),s={enableToolbar:!0},i=async e=>{t(e)},o=async t=>{let{search:a=e,pageNo:s=u,pageSize:i=d}=t;try{const e=await Fs._.getQuestionBankCategories({isOrgQuestionBank:"1"===c.tab,organizationId:r.organization.organizationId,search:a,pageNo:s,pageSize:i});n((0,As.DG)(e))}catch(o){console.log(o)}},r=(0,he.v9)(Kn.HF),c=(0,he.v9)((e=>e.questionBankCategory));(0,y.useEffect)((()=>{(async()=>{await o({search:e})})()}),[e,c.tab]);const[d,m]=(0,y.useState)(5),[u,h]=(0,y.useState)(0),{t:g}=(0,D.$G)(),[b,j]=(0,y.useState)({page:u,pageSize:d}),[f,Z]=(0,y.useState)(),[v,C]=(0,y.useState)({}),[k,T]=(0,y.useState)({}),[S,w]=(0,y.useState)(!1),[I,N]=(0,y.useState)(!1),P=((e,t)=>t.map(((t,n)=>e[n]={...e[n],renderHeader:e=>(0,E.jsx)(Qe.Z,{fontWeight:700,children:t})})))([{field:"stt",sortable:!1,flex:.7,align:"center",headerClassName:Us["table-head"],renderCell:e=>(0,E.jsx)(Qe.Z,{children:e.row.stt})},{field:"category",sortable:!1,flex:2,headerClassName:Us["table-head"],renderCell:e=>(0,E.jsx)(Qe.Z,{children:e.row.name})},{field:"organizationName",sortable:!1,flex:2,headerClassName:Us["table-head"],renderCell:e=>(0,E.jsx)(Qe.Z,{children:e.row.organizationName})},{field:"created",sortable:!1,flex:2,renderCell:e=>(0,E.jsxs)("div",{children:[(0,E.jsx)(Qe.Z,{children:e.row.createdByName}),(0,E.jsx)("div",{children:p()(e.row.createdAt).format("DD/MM/YYYY HH:mm")})]}),headerClassName:Us["table-head"]},{field:"updated",sortable:!1,flex:2,renderCell:e=>(0,E.jsxs)("div",{children:[(0,E.jsx)(Qe.Z,{children:e.row.updatedByName}),(0,E.jsx)("div",{children:p()(e.row.updatedAt).format("DD/MM/YYYY HH:mm")})]}),headerClassName:Us["table-head"]},{field:"operation",sortable:!1,flex:1,type:"actions",cellClassName:"actions",getActions:t=>{let{id:n}=t;return[(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(ot.Z,{}),label:"Save",sx:{color:"primary.main"},onClick:()=>{const e=a.categories.questionBankCategories.find((e=>e.id===n));e&&(Z(e),C(e),N(!0))}}),(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(qt.Z,{}),label:"Cancel",className:"textPrimary",onClick:()=>{(async t=>{try{await Fs._.deleteQuestionBankCategory(t),o({search:e})}catch(n){console.log(n)}})(n)},sx:{color:Vs.Z[500]}})]},headerClassName:Us["table-head"]}],g("question_bank_category_header_table",{returnObjects:!0}));(0,y.useEffect)((()=>{o({search:e,pageNo:b.page,pageSize:b.pageSize})}),[b.page,b.pageSize,e]);const A=(0,l.s0)(),M=e=>{A("".concat(e.row.id))},q=(0,y.useMemo)((()=>a.categories.totalItems||0),[a.categories]),B=(t,n)=>{h(t.page),m(t.pageSize),o({search:e,pageNo:t.page,pageSize:t.pageSize})};return(0,E.jsxs)("div",{children:[(0,E.jsx)(zs,{value:"1",className:Us["tab-panel"],children:(0,E.jsx)(qs.Z,{children:(0,E.jsxs)(an.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,E.jsx)(x.Z,{fontWeight:"500","translation-key":"common_question_bank",children:Re.ZP.format(g("common_question_bank"),"firstUppercase")}),(0,E.jsx)(an.Z,{direction:{xs:"column",md:"row"},spacing:1,children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>w(!0),children:(0,E.jsx)(Qe.Z,{paddingX:3,"translation-key":"common_add_new",children:Re.ZP.format(g("common_add_new"),"firstUppercase")})})}),(0,E.jsx)(Qs.Z,{isLoading:a.isLoading,placeHolder:"".concat(g("question_bank_category_find_by_category")," ..."),"translation-key":"question_bank_category_find_by_category",value:e,setValue:t,options:[],onHandleChange:i}),(0,E.jsx)(Te.Z,{loading:a.isLoading,dataList:a.categories.questionBankCategories.map(((e,t)=>({stt:t+1,...e}))),tableHeader:P,onSelectData:M,dataGridToolBar:s,page:u,pageSize:d,totalElement:q,onPaginationModelChange:B,showVerticalCellBorder:!0,onClickRow:M,sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})]})})}),(0,E.jsx)(zs,{value:"2",className:Us["tab-panel"],children:(0,E.jsx)(qs.Z,{children:(0,E.jsxs)(an.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,E.jsx)(x.Z,{fontWeight:"500","translation-key":"common_question_bank",children:Re.ZP.format(g("common_question_bank"),"firstUppercase")}),(0,E.jsx)(an.Z,{direction:{xs:"column",md:"row"},spacing:1,children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>w(!0),children:(0,E.jsx)(Qe.Z,{paddingX:3,"translation-key":"common_add_new",children:Re.ZP.format(g("common_add_new"),"firstUppercase")})})}),(0,E.jsx)(Qs.Z,{isLoading:a.isLoading,placeHolder:"".concat(g("question_bank_category_find_by_category")," ..."),"translation-key":"question_bank_category_find_by_category",value:e,setValue:t,options:[],onHandleChange:i}),(0,E.jsx)(Te.Z,{loading:a.isLoading,dataList:a.categories.questionBankCategories.map(((e,t)=>({stt:t+1,...e}))),tableHeader:P,onSelectData:M,dataGridToolBar:s,page:u,pageSize:d,totalElement:q,onPaginationModelChange:B,showVerticalCellBorder:!0,onClickRow:M,sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})]})})}),(0,E.jsxs)(sn.Z,{"aria-labelledby":"customized-dialog-title",open:S,onClose:()=>w(!1),maxWidth:"sm",fullWidth:!0,children:[(0,E.jsx)(dn.Z,{sx:{m:0,p:2},id:"customized-dialog-title","translation-key":"question_bank_create_category",children:g("question_bank_create_category")}),(0,E.jsx)(ct.Z,{"aria-label":"close",sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},onClick:()=>w(!1),children:(0,E.jsx)(ts.Z,{})}),(0,E.jsx)(on.Z,{dividers:!0,children:(0,E.jsxs)(an.Z,{spacing:1,children:[(0,E.jsx)(as.Z,{"translation-key":"question_bank_create_category_name",name:"Outlined",placeholder:g("question_bank_create_category_name"),onChange:e=>{T({...k,name:e.target.value})},variant:"outlined",minRows:1}),(0,E.jsx)(as.Z,{"transaltion-key":"question_bank_create_category_info",name:"Outlined",placeholder:g("question_bank_create_category_info"),onChange:e=>{T({...k,description:e.target.value})},variant:"outlined",minRows:4})]})}),(0,E.jsx)(cn.Z,{children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>w(!1),children:(0,E.jsxs)(Qe.Z,{"translation-key":"common_save",onClick:async()=>{try{await Fs._.createQuestionBankCategory({name:(null===k||void 0===k?void 0:k.name)||"",description:(null===k||void 0===k?void 0:k.description)||"",organizationId:r.organization.organizationId,isOrgQuestionBank:"1"===c.tab,createdBy:r.userId}),o({search:e})}catch(t){console.log(t)}},children:[" ",g("common_save")]})})})]}),(0,E.jsxs)(sn.Z,{"aria-labelledby":"customized-dialog-title-edit",open:I,onClose:()=>{N(!1)},maxWidth:"sm",fullWidth:!0,children:[(0,E.jsx)(dn.Z,{sx:{m:0,p:2},id:"customized-dialog-title-edit","translation-key":"question_bank_edit_category",children:g("question_bank_edit_category")}),(0,E.jsx)(ct.Z,{"aria-label":"close",sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},onClick:()=>N(!1),children:(0,E.jsx)(ts.Z,{})}),(0,E.jsx)(on.Z,{dividers:!0,children:(0,E.jsxs)(an.Z,{spacing:1,children:[(0,E.jsx)(as.Z,{"translation-key":"question_bank_create_category_name",name:"Outlined",defaultValue:(null===f||void 0===f?void 0:f.name)||"",onChange:e=>{C({...v,name:e.target.value})},variant:"outlined",minRows:1}),(0,E.jsx)(as.Z,{"transaltion-key":"question_bank_create_category_info",name:"Outlined",defaultValue:(null===f||void 0===f?void 0:f.description)||"",onChange:e=>{C({...v,description:e.target.value})},variant:"outlined",minRows:4})]})}),(0,E.jsx)(cn.Z,{children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>N(!1),children:(0,E.jsxs)(Qe.Z,{"translation-key":"common_save",onClick:async()=>{try{await Fs._.updateQuestionBankCategory({id:(null===f||void 0===f?void 0:f.id)||"",name:(null===v||void 0===v?void 0:v.name)||"",description:(null===v||void 0===v?void 0:v.description)||""}),o({search:e})}catch(t){console.log(t)}},children:[" ",g("common_save")]})})})]})]})};var Js=n(19545);const Ks={root:"styles_root__C8fYr","tab-panel":"styles_tab-panel__Sinfx",container:"styles_container__OQGA1",tabWrapper:"styles_tabWrapper__kQvUr",formBody:"styles_formBody__1lWKE",linkLevel:"styles_linkLevel__Fr8T0",breadCump:"styles_breadCump__J4U5a",stickyFooterItem:"styles_stickyFooterItem__038Qa",phantom:"styles_phantom__VIEWc",stickyFooterContainer:"styles_stickyFooterContainer__5MH6a"};var $s=n(72619);const Xs="styles_formControl__46hEm";var ei=function(e){return e.OWNER="OWNER",e.EDITOR="EDITOR",e}(ei||{});const ti=e=>{const{t:t}=(0,D.$G)(),[n,s]=(0,y.useState)(e.accessLevel===ei.EDITOR?"20":"10");return(0,E.jsxs)(a.ZP,{container:!0,children:[(0,E.jsxs)(a.ZP,{container:!0,md:6,spacing:1,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)(L.Z,{sx:{width:50,height:50},variant:"circular",src:e.avatarUrl||"https://www.w3schools.com/howto/img_avatar.png"})}),(0,E.jsxs)(a.ZP,{item:!0,children:[(0,E.jsx)(Qe.Z,{children:e.name}),(0,E.jsx)(Qe.Z,{fontWeight:100,fontSize:"12px",children:e.email})]})]}),(0,E.jsx)(a.ZP,{container:!0,md:6,alignItems:"center",justifyContent:"flex-end",children:e.accessLevel!==ei.EDITOR?(0,E.jsx)(Qe.Z,{fontWeight:100,"translation-key":"question_bank_access_right_owner",children:t("question_bank_access_right_owner")}):(0,E.jsx)(we.Z,{variant:"outlined",className:Xs,children:(0,E.jsxs)(Ne.Z,{labelId:"access-level-edit-label",id:"access-level-edit",value:n,onChange:e=>{s(e.target.value)},children:[(0,E.jsx)(De.Z,{value:10,"translation-key":"question_bank_access_right_editor",children:t("question_bank_access_right_editor")}),(0,E.jsx)(De.Z,{value:20,"translation-key":"question_bank_access_right_readonly",children:t("question_bank_access_right_readonly")})]})})})]})},ni=(0,y.memo)(ti);var ai=n(14647);const si={name:"Nguy\u1ec5n Qu\u1ed1c Tu",email:"abc@gmail.com",avatarUrl:"https://scontent.fsgn5-12.fna.fbcdn.net/v/t39.30808-6/427838885_3910358709250427_5778115707058543789_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=efb6e6&_nc_eui2=AeEaQBJmaESxSF-JhRcy_H_-USoIMrk_el9RKggyuT96X4lwFFwY0uqlIqR3h922Kqy7zVWpkIiL9NsvlGVFjHD-&_nc_ohc=lrDJFA7XNvEAX87CHJc&_nc_ht=scontent.fsgn5-12.fna&oh=00_AfAlICWdsi7mYR-2K4wTQd7naZ23M5PLyLv2RbzA2n6T4w&oe=65E1AA90",accessLevel:ei.EDITOR},ii=e=>{let{setOpenAccessDialog:t,...n}=e;const{t:s}=(0,D.$G)(),[i,o]=(0,y.useState)(!1),[r,l]=(0,y.useState)([]),c=()=>{o(!1),l([])};return(0,E.jsxs)(sn.Z,{...n,onClose:()=>t(!1),children:[(0,E.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",direction:"row",children:[(0,E.jsxs)(a.ZP,{container:!0,xs:9,children:[i&&(0,E.jsx)(a.ZP,{container:!0,xs:1,alignItems:"center",children:(0,E.jsx)(ct.Z,{"aria-label":"back",sx:{color:e=>e.palette.grey[500],marginLeft:1},onClick:c,children:(0,E.jsx)(ai.Z,{})})}),(0,E.jsx)(a.ZP,{children:(0,E.jsx)(dn.Z,{sx:{m:0,p:2},id:"customized-dialog-title","translation-key":["question_bank_access_right_list","question_bank_access_share"],children:s(i?"quesion_bank_access_share":"question_bank_access_right_list")})})]}),(0,E.jsx)(a.ZP,{container:!0,xs:3,alignItems:"center",justifyContent:"flex-end",children:(0,E.jsx)(ct.Z,{"aria-label":"close",sx:{color:e=>e.palette.grey[500],marginRight:1},onClick:()=>t(!1),children:(0,E.jsx)(ts.Z,{})})})]}),(0,E.jsx)(on.Z,{dividers:!0,children:(0,E.jsxs)(an.Z,{spacing:2,children:[(0,E.jsx)(as.Z,{minRows:1,"translation-key":"common_add",placeholder:s("common_add"),onClick:()=>o(!0),onKeyDown:e=>{"Enter"===e.key&&!1===e.shiftKey&&(e.preventDefault(),l([...r,si]))}}),i?(0,E.jsxs)(E.Fragment,{children:[r.map((e=>(0,E.jsx)(ni,{...e}))),(0,E.jsx)(as.Z,{placeholder:s("question_bank_access_right_message"),"translation-key":"question_bank_access_right_message",minRows:3})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Qe.Z,{"translation-key":"question_bank_access_right_list_title",children:s("question_bank_access_right_list_title")}),(0,E.jsxs)(an.Z,{spacing:1,children:[(0,E.jsx)(ni,{email:"nguyenquoctuan385@gmail.com",avatarUrl:"https://scontent.fsgn5-12.fna.fbcdn.net/v/t39.30808-6/427838885_3910358709250427_5778115707058543789_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=efb6e6&_nc_eui2=AeEaQBJmaESxSF-JhRcy_H_-USoIMrk_el9RKggyuT96X4lwFFwY0uqlIqR3h922Kqy7zVWpkIiL9NsvlGVFjHD-&_nc_ohc=lrDJFA7XNvEAX87CHJc&_nc_ht=scontent.fsgn5-12.fna&oh=00_AfAlICWdsi7mYR-2K4wTQd7naZ23M5PLyLv2RbzA2n6T4w&oe=65E1AA90",name:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n",accessLevel:ei.OWNER}),(0,E.jsx)(ni,{email:"nguyenquoctuan385@gmail.com",avatarUrl:"https://scontent.fsgn5-12.fna.fbcdn.net/v/t39.30808-6/427838885_3910358709250427_5778115707058543789_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=efb6e6&_nc_eui2=AeEaQBJmaESxSF-JhRcy_H_-USoIMrk_el9RKggyuT96X4lwFFwY0uqlIqR3h922Kqy7zVWpkIiL9NsvlGVFjHD-&_nc_ohc=lrDJFA7XNvEAX87CHJc&_nc_ht=scontent.fsgn5-12.fna&oh=00_AfAlICWdsi7mYR-2K4wTQd7naZ23M5PLyLv2RbzA2n6T4w&oe=65E1AA90",name:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n",accessLevel:ei.EDITOR}),(0,E.jsx)(ni,{email:"nguyenquoctuan385@gmail.com",avatarUrl:"https://scontent.fsgn5-12.fna.fbcdn.net/v/t39.30808-6/427838885_3910358709250427_5778115707058543789_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=efb6e6&_nc_eui2=AeEaQBJmaESxSF-JhRcy_H_-USoIMrk_el9RKggyuT96X4lwFFwY0uqlIqR3h922Kqy7zVWpkIiL9NsvlGVFjHD-&_nc_ohc=lrDJFA7XNvEAX87CHJc&_nc_ht=scontent.fsgn5-12.fna&oh=00_AfAlICWdsi7mYR-2K4wTQd7naZ23M5PLyLv2RbzA2n6T4w&oe=65E1AA90",name:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n",accessLevel:ei.EDITOR})]})]})]})}),(0,E.jsx)(cn.Z,{children:i?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:c,children:(0,E.jsxs)(Qe.Z,{"translation-key":"common_cancel",children:[" ",s("common_cancel")]})}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>t(!1),disabled:r.length<1,children:(0,E.jsxs)(Qe.Z,{"translation-key":"common_send",children:[" ",s("common_send")]})})]}):(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>t(!1),fullWidth:!0,children:(0,E.jsx)(Qe.Z,{"translation-key":"common_save",children:s("common_save")})})})]})};var oi=n(65339),ri=n(39113),li=n(70441);function ci(e){let{open:t,title:n,questionType:s,handleChangeQuestionType:i,handleClose:o,children:r,cancelText:l,confirmText:c,onHandleCancel:d,onHanldeConfirm:m,...u}=e;const{t:_}=(0,D.$G)(),[h,x]=y.useState(Object.values(xn.Z).map((e=>e.code)).some((e=>e===s)));return(0,E.jsx)(C.Z,{open:t,handleClose:o,title:n,cancelText:l,confirmText:c,onHandleCancel:d,onHanldeConfirm:m,confirmDisabled:!h,...u,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,minWidth:"450px",children:[(0,E.jsxs)(a.ZP,{item:!0,xs:6,children:[(0,E.jsx)(S.Z,{paddingBottom:"10px","translation-key":"common_question",children:_("common_question")}),(0,E.jsx)(we.Z,{component:"fieldset",sx:{maxHeight:"200px",overflowY:"auto"},children:(0,E.jsx)(li.Z,{ariaLabel:"question-type",value:s,handleChange:e=>{x(!0),i(e)},items:[{value:"essay",label:_("common_question_type_essay")},{value:"multiple-choice",label:_("common_question_type_multi_choice")},{value:"short-answer",label:_("common_question_type_short")},{value:"true-false",label:_("common_question_type_yes_no")},{value:"code",label:_("common_question_type_code")}],"translation-key":["common_question_type_essay","common_question_type_short","common_question_type_multi_choice","common_question_type_yes_no","common_question_type_code"]})})]}),(0,E.jsx)(a.ZP,{item:!0,xs:6,children:(0,E.jsxs)(Qe.Z,{"translation-key":["common_question_type_yes_no","common_question_type_multi_choice","common_question_type_short","common_question","common_question_type_essay","common_question_type_code"],children:["essay"===s&&"".concat(_("common_question_type_essay")," ").concat(_("common_question")),"multiple-choice"===s&&"".concat(_("common_question_type_multi_choice")," ").concat(_("common_question")),"short-answer"===s&&"".concat(_("common_question_type_short")," ").concat(_("common_question")),"true-false"===s&&"".concat(_("common_question_type_yes_no")," ").concat(_("common_question")),"code"===s&&"".concat(_("common_question_type_code")," ").concat(_("common_question"))]})})]})})}var di=n(43714),mi=n(51344),ui=n(2749),_i=n(80610);const hi=()=>{var e,t,n,a,i,o;const r=(0,he.I0)(),c=(0,he.v9)((e=>e.questionBankCategory)),d=(0,he.v9)((e=>e.questionCategory)),m=(0,l.s0)(),{categoryId:u}=(0,l.UO)(),{t:h}=(0,D.$G)(),[g,b]=(0,y.useState)(""),[j,f]=(0,y.useState)(5),[Z,v]=(0,y.useState)(0),[C,k]=(0,y.useState)(!1),[T,S]=(0,y.useState)(xn.Z.essay.code),[w,I]=(0,y.useState)(!1),[N,P]=(0,y.useState)(!1),[A,M]=y.useState(!1),[q,B]=y.useState(!1),[R,W]=y.useState(!1),[L,H]=y.useState(),G={enableToolbar:!0},O=((e,t)=>t.map(((t,n)=>e[n]={...e[n],renderHeader:e=>(0,E.jsx)(Qe.Z,{fontWeight:700,children:t})})))([{field:"stt",sortable:!1,width:20,align:"center",headerClassName:Ks["table-head"],renderCell:e=>(0,E.jsx)(Qe.Z,{children:e.row.stt})},{field:"questionName",sortable:!1,flex:2,headerClassName:Ks["table-head"],renderCell:e=>(0,E.jsx)(Qe.Z,{children:e.row.name})},{field:"description",sortable:!1,flex:3,headerClassName:Ks["table-head"],renderCell:e=>{var t;return(0,E.jsx)(Qe.Z,{children:(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==(t=e.row.questionText)&&void 0!==t?t:""}})})}},{field:"qtype",sortable:!1,flex:2,headerClassName:Ks["table-head"],renderCell:e=>(0,E.jsx)(Qe.Z,{children:e.row.qtypeText})},{field:"created",sortable:!1,flex:2,renderCell:e=>(0,E.jsxs)("div",{children:[(0,E.jsxs)(Qe.Z,{children:[e.row.createdBy.firstName," ",e.row.createdBy.lastName]}),(0,E.jsx)("div",{children:p()(e.row.createdAt).format("DD/MM/YYYY")})]}),headerClassName:Ks["table-head"]},{field:"updated",sortable:!1,flex:2,renderCell:e=>(0,E.jsxs)("div",{children:[(0,E.jsxs)(Qe.Z,{children:[e.row.updatedBy.firstName," ",e.row.updatedBy.lastName]}),(0,E.jsx)("div",{children:p()(e.row.updatedAt).format("DD/MM/YYYY")})]}),headerClassName:Ks["table-head"]},{field:"operation",sortable:!1,flex:2,type:"actions",cellClassName:"actions",getActions:e=>[(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(Js.Z,{}),label:"Preview",onClick:()=>{switch(console.log(e.row,"params.row"),e.row.qtype.toString().toUpperCase()){case"MULTIPLE_CHOICE":W(!R);break;case"ESSAY":I(!w);break;case"SHORT_ANSWER":H(e.row),M(!A);break;case"TRUE_FALSE":B(!q)}}}),(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(ot.Z,{}),label:"Edit",sx:{color:"primary.main"},onClick:()=>{k(!1),m("update/".concat(T))}}),(0,E.jsx)(Mt.u,{icon:(0,E.jsx)(qt.Z,{}),label:"Delete",className:"textPrimary",onClick:U.bind(null,e.row.id.toString()),sx:{color:Vs.Z[500]}})],headerClassName:Ks["table-head"]}],h("question_bank_category_question_list_header_table",{returnObjects:!0})),z=async e=>{b(e)},V=async e=>{let{categoryId:t,isOrgQuestionBank:n="1"===c.tab,search:a=g,pageNo:s=Z,pageSize:i=j}=e;try{const e=await oi.a.getQuestionsByCategoryId({categoryId:t,isOrgQuestionBank:n,search:a,pageNo:s,pageSize:i});r((0,ri.kh)(e))}catch(o){console.error("Failed to fetch questions by category id",o)}},U=async e=>{try{await oi.a.deleteQuestionById(e)&&V({categoryId:u||"",search:g,pageNo:Z,pageSize:j})}catch(t){console.error("Failed to delete question",t)}},F=(e,t)=>{},Q=(e,t)=>{v(e.page),f(e.pageSize),u&&V({categoryId:u,isOrgQuestionBank:"1"===c.tab,search:g,pageNo:Z,pageSize:j})},Y=()=>{m("ai/create")};return(0,y.useEffect)((()=>{u&&((async e=>{try{const t=await Fs._.getQuestionBankCategoryById(e);r((0,As.yi)(t))}catch(t){console.log(t)}})(u),V({categoryId:u,isOrgQuestionBank:"1"===c.tab,search:g,pageNo:Z,pageSize:j}))}),[u,g,Z,j,c.tab]),(0,E.jsxs)("div",{children:[(0,E.jsx)(ci,{open:C,handleClose:()=>k(!1),"transaltion-key":"question_bank_add_question_title",title:h("question_bank_add_question_title"),cancelText:"H\u1ee7y b\u1ecf",confirmText:"Th\xeam",onHanldeConfirm:()=>{var e;k(!1);const t="1"===c.tab;m("create/".concat(T),{state:{isQuestionBank:!0,isOrgQuestionBank:t,categoryName:null===(e=c.categoryDetails)||void 0===e?void 0:e.name}})},onHandleCancel:()=>k(!1),questionType:T,handleChangeQuestionType:S}),(0,E.jsx)(_i.Z,{open:R,setOpen:W,"aria-labelledby":"customized-dialog-title1",maxWidth:"md",fullWidth:!0}),(0,E.jsx)($s.Z,{open:w,setOpen:I,"aria-labelledby":"customized-dialog-title2",maxWidth:"md",fullWidth:!0}),(0,E.jsx)(mi.Z,{open:A,question:L,setOpen:M,"aria-labelledby":"customized-dialog-title3",maxWidth:"md",fullWidth:!0}),(0,E.jsx)(ui.Z,{open:q,setOpen:B,"aria-labelledby":"customized-dialog-title4",maxWidth:"md",fullWidth:!0}),(0,E.jsxs)(zs,{value:"1",sx:{padding:0},children:[(0,E.jsx)(s.Z,{className:Ks.tabWrapper,children:(0,E.jsxs)(Qe.Z,{className:Ks.breadCump,colorname:"--gray-50",fontWeight:"600",children:[(0,E.jsx)("span",{onClick:()=>m(J._.lecturer.question_bank.path),"translation-key":"common_question_bank",children:Re.ZP.format(h("common_question_bank"),"firstUppercase")})," ","> ",(0,E.jsx)("span",{onClick:()=>m("."),children:null===(e=c.categoryDetails)||void 0===e?void 0:e.name})]})}),(0,E.jsx)(qs.Z,{children:(0,E.jsxs)(an.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,E.jsx)(x.Z,{fontWeight:500,children:null===(t=c.categoryDetails)||void 0===t?void 0:t.name}),(0,E.jsxs)(X.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"question_bank_create_category_info",children:[h("question_bank_create_category_info"),":"," ",null===(n=c.categoryDetails)||void 0===n?void 0:n.description]}),(0,E.jsxs)(an.Z,{direction:{xs:"column",md:"row"},spacing:1,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>k(!0),children:(0,E.jsxs)(Qe.Z,{paddingX:3,"translation-key":"common_add_question",children:[" ",h("common_add_question")]})}),(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:Y,children:(0,E.jsx)(Qe.Z,{paddingX:3,"translation-key":"question_bank_category_question_list_create_by_AI",children:h("question_bank_category_question_list_create_by_AI")})})]}),(0,E.jsx)(Qs.Z,{isLoading:!1,"translation-key":"question_bank_category_question_list_enter_question_name",placeHolder:"".concat(h("question_bank_category_question_list_enter_question_name")," ..."),value:g,setValue:b,options:[],onHandleChange:z}),(0,E.jsx)(Te.Z,{sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},dataList:d.questions.map(((e,t)=>({stt:t+1,qtypeText:e.qtype===di.S.SHORT_ANSWER?"c\xe2u h\u1ecfi ng\u1eafn":e.qtype===di.S.MULTIPLE_CHOICE?"c\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m":e.qtype===di.S.ESSAY?"c\xe2u h\u1ecfi t\u1ef1 lu\u1eadn":e.qtype===di.S.TRUE_FALSE?"c\xe2u h\u1ecfi \u0111\xfang/sai":e.qtype===di.S.CODE?"c\xe2u h\u1ecfi code":"",...e}))),tableHeader:O,onSelectData:F,dataGridToolBar:G,page:Z,pageSize:j,totalElement:d.totalItems,onPaginationModelChange:Q,showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})]})})]}),(0,E.jsxs)(zs,{value:"2",sx:{padding:0},children:[(0,E.jsx)(s.Z,{className:Ks.tabWrapper,children:(0,E.jsxs)(Qe.Z,{className:Ks.breadCump,colorname:"--gray-50",fontWeight:"600",children:[(0,E.jsx)("span",{onClick:()=>m(J._.lecturer.question_bank.path),"translation-key":"common_question_bank",children:Re.ZP.format(h("common_question_bank"),"firstUppercase")})," ","> ",(0,E.jsx)("span",{onClick:()=>m("."),children:null===(a=c.categoryDetails)||void 0===a?void 0:a.name})]})}),(0,E.jsx)(qs.Z,{children:(0,E.jsxs)(an.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,E.jsx)(x.Z,{fontWeight:500,children:null===(i=c.categoryDetails)||void 0===i?void 0:i.name}),(0,E.jsxs)(X.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"question_bank_create_category_info",children:[h("question_bank_create_category_info"),":"," ",null===(o=c.categoryDetails)||void 0===o?void 0:o.description]}),(0,E.jsxs)(an.Z,{direction:{xs:"column",md:"row"},spacing:1,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>k(!0),children:(0,E.jsx)(Qe.Z,{paddingX:3,"translation-key":"common_add_question",children:h("common_add_question")})}),(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:Y,children:(0,E.jsx)(Qe.Z,{paddingX:3,"translation-key":"question_bank_category_question_list_create_by_AI",children:h("question_bank_category_question_list_create_by_AI")})})]}),(0,E.jsx)(Qs.Z,{isLoading:!1,"translation-key":"question_bank_category_question_list_enter_question_name",placeHolder:"".concat(h("question_bank_category_question_list_enter_question_name")," ..."),value:g,setValue:b,options:[],onHandleChange:z}),(0,E.jsx)(Te.Z,{sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},dataList:d.questions.map(((e,t)=>({stt:t+1,...e}))),tableHeader:O,onSelectData:F,dataGridToolBar:G,pageSize:j,page:Z,totalElement:d.totalItems,onPaginationModelChange:Q,showVerticalCellBorder:!1})]})}),(0,E.jsx)(ii,{"aria-labelledby":"assess-list-dialog",open:N,setOpenAccessDialog:P,maxWidth:"sm",fullWidth:!0})]})]})},xi=e=>{const{t:t}=(0,D.$G)();return(0,E.jsx)(a.ZP,{className:i,children:(0,E.jsx)(_a,{children:(0,E.jsx)(s.Z,{className:o,children:(0,E.jsx)(s.Z,{className:r,children:(0,E.jsxs)(l.Z5,{children:[(0,E.jsx)(l.AW,{path:"courses",element:(0,E.jsx)(pe,{})}),(0,E.jsx)(l.AW,{path:"courses/:courseId/*",element:(0,E.jsx)(ea,{})}),(0,E.jsx)(l.AW,{path:"code-questions",element:(0,E.jsx)(Ea,{})}),(0,E.jsx)(l.AW,{path:"code-questions/create",element:(0,E.jsx)(Zs.Z,{})}),(0,E.jsx)(l.AW,{path:"code-questions/edit/:questionId/*",element:(0,E.jsx)(fs,{})}),(0,E.jsx)(l.AW,{path:"calendar",element:(0,E.jsx)(B,{})}),(0,E.jsxs)(l.AW,{path:"question-bank-management",element:(0,E.jsx)(Ms,{}),handle:{crumbName:Re.ZP.format(t("common_question_bank"),"firstUppercase"),"translation-key":"common_question_bank"},children:[(0,E.jsx)(l.AW,{index:!0,element:(0,E.jsx)(Ys,{})}),(0,E.jsx)(l.AW,{path:J._.lecturer.question_bank.questions_list_of_category.path,element:(0,E.jsx)(hi,{})})]})]})})})})})}},64516:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45045)),i=n(46417);t.Z=(0,s.default)((0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle")},14647:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45045)),i=n(46417);t.Z=(0,s.default)((0,i.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},94760:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45045)),i=n(46417);t.Z=(0,s.default)((0,i.jsx)("path",{d:"M22 7h-9v2h9zm0 8h-9v2h9zM5.54 11 2 7.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41zm0 8L2 15.46l1.41-1.41 2.12 2.12 4.24-4.24 1.41 1.41z"}),"Checklist")},36240:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45045)),i=n(46417);t.Z=(0,s.default)((0,i.jsx)("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8z"}),"History")},43997:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45045)),i=n(46417);t.Z=(0,s.default)((0,i.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},83121:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45045)),i=n(46417);t.Z=(0,s.default)((0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},10237:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45045)),i=n(46417);t.Z=(0,s.default)((0,i.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},22611:(e,t,n)=>{var a=n(64836);t.Z=void 0;var s=a(n(45045)),i=n(46417);t.Z=(0,s.default)((0,i.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")}}]);