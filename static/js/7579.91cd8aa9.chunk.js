"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[7579],{38707:(e,t,s)=>{s.d(t,{Z:()=>_});var r=s(94425),i=s(50494),n=s(79536),a=s(65033),o=s(48310),l=s(67216),c=s(89840),d=s(74748),m=s(83213),x=s(47313),u=s(65537),h=s(58467),p=s(6294);const g={sideBar:"styles_sideBar__z5Ask",boxContainer:"styles_boxContainer__bUcnn",item:"styles_item__wkRw1",itemIcon:"styles_itemIcon__n4sFn",childItem:"styles_childItem__LMhub",agentText:"styles_agentText__gIL6y",TitleContainer:"styles_TitleContainer__RwY0K"};var j=s(46417);function _(e){const t=(0,h.s0)(),s=(0,u.I0)(),_=(0,h.TH)().pathname,[Z,f]=(0,x.useState)(e.sideBarItem),[b,y]=(0,x.useState)(null);(0,x.useEffect)((()=>{f(e.sideBarItem)}),[e.sideBarItem]),(0,x.useEffect)((()=>{Z.forEach(((e,t)=>{var r;if(e.children)e.children.forEach(((e,r)=>{if(e.link.includes(_))return s((0,p.h)({parentIndex:t,childIndex:r})),void y(t)}));else if(null!==(r=e.link)&&void 0!==r&&r.includes(_))return void s((0,p.h)({parentIndex:t,childIndex:-1}))}))}),[_]);const P=(0,u.v9)((e=>e.selected));return(0,j.jsx)(n.Z,{className:g.boxContainer,children:(0,j.jsx)(n.Z,{className:g.sideBar,children:(0,j.jsx)(o.Z,{children:Z.map(((n,u)=>(0,j.jsxs)(x.Fragment,{children:[(0,j.jsx)(l.ZP,{disablePadding:!0,children:(0,j.jsxs)(c.Z,{onClick:()=>((r,i,n)=>{void 0===i.children&&(s((0,p.h)({parentIndex:r,childIndex:-1})),t(i.link)),b===r?y(null):(y(r),f(e.sideBarItem),0===n.length&&(f((e=>e.map(((e,t)=>t===r?{...e}:e)))),i&&i.link&&t(i.link)))})(u,n,n.children||[]),className:g.item,selected:P.parentIndex===u&&-1===P.childIndex,children:[(0,j.jsx)(d.Z,{children:n.icon}),(0,j.jsx)(m.Z,{"translation-key":n["translation-key"]?n["translation-key"]:"none",primary:n.name,className:g.itemText}),n.children&&(b===u?(0,j.jsx)(r.Z,{}):(0,j.jsx)(i.Z,{}))]})}),n.children&&(0,j.jsx)(a.Z,{in:b===u,timeout:"auto",unmountOnExit:!0,children:(0,j.jsx)(o.Z,{component:"div",disablePadding:!0,children:n.children.map(((e,r)=>(0,j.jsx)(c.Z,{onClick:()=>((e,r)=>{s((0,p.h)({parentIndex:e,childIndex:r})),t(Z[e].children[r].link)})(u,r),className:g.childItem,selected:P.parentIndex===u&&P.childIndex===r,children:(0,j.jsx)(m.Z,{secondary:e.name})},r)))})})]},u)))})})})}},60728:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ot});var r=s(9019),i=s(79536);const n="styles_root__zeGk-",a="styles_body__qqtSL";var o=s(58467),l=s(51997),c=s(65954),d=s(42832),m=s(48119),x=s(66212),u=s(73428),h=s(19536),p=s(24929),g=s(81127),j=s(11053),_=s(31845),Z=s(68464),f=s(63408),b=s(99221),y=s(23885),P=s(68933),w=s(70816),v=s.n(w),C=s(47313),k=s(75590),T=s(65537),S=s(92164),N=s(8344),A=s(90469),I=s(3152),F=s(15162);const M={breadcump:"styles_breadcump__ShexG"};var R=s(27013),U=s(56289),z=s(46417);const W=()=>{const e=(0,C.useRef)(null),{t:t}=(0,k.$G)(),s=(0,o.s0)(),[n,a]=(0,C.useState)(!1),[w,W]=(0,C.useState)(R.N.INFO),[E,q]=(0,C.useState)(""),[D,L]=(0,C.useState)(""),[O,G]=(0,C.useState)((()=>y.ZP.language)),[B,H]=(0,C.useState)(P.m.ALL),Q=(0,T.v9)((e=>e.contest)),V=(0,T.I0)(),K=(0,C.useCallback)((async e=>{let{searchName:t,startTimeFilter:s=P.m.ALL,pageNo:r=0,pageSize:i=10}=e;V((0,S.K4)(!0));try{const e=await I.c.getContestsForAdmin({searchName:t,startTimeFilter:s,pageNo:r,pageSize:i});V((0,S.AF)(e)),V((0,S.K4)(!1))}catch(n){console.error("error",n),401!==n.code&&403!==n.code||V((0,U.lS)("Please sign in to continue")),V((0,S.K4)(!1))}}),[V]),$=((0,C.useCallback)((e=>{K({searchName:e,startTimeFilter:B})}),[K,B]),[{field:"name",headerName:t("common_name"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_name")}),renderCell:e=>(0,z.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,z.jsx)(m.Z,{sx:{bgcolor:p.Z[500]},alt:e.row.name,src:e.row.thumbnailUrl,children:e.row.name.charAt(0)}),(0,z.jsx)(f.Z,{width:"auto",fontWeight:500,children:e.row.name})]})},{field:"createdBy",headerName:t("common_created_by"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_created_by")}),renderCell:e=>(0,z.jsxs)(f.Z,{width:"auto",children:[e.row.createdBy.firstName," ",e.row.createdBy.lastName]})},{field:"startTime",headerName:t("common_start_time"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_start_time")}),renderCell:e=>(0,z.jsx)(f.Z,{width:"auto",children:(0,F.J$)(e.row.startTime,O)})},{field:"endTime",headerName:t("common_end_time"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_end_time")}),renderCell:e=>(0,z.jsx)(f.Z,{width:"auto",children:(0,F.J$)(e.row.endTime,O)})},{field:"numOfParticipants",headerName:t("common_num_of_participants"),flex:.4,minWidth:100,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_num_of_participants")}),renderCell:e=>(0,z.jsx)(f.Z,{width:"auto",children:e.row.numOfParticipants})},{field:"status",headerName:t("common_status"),flex:.7,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_status")}),renderCell:e=>(0,z.jsx)(x.Z,{size:"small",label:e.row.status===P.m.UPCOMING?t("common_upcoming"):e.row.status===P.m.HAPPENING?t("common_in_progress"):t("common_ended"),variant:"outlined",color:e.row.status===P.m.UPCOMING?"primary":e.row.status===P.m.HAPPENING?"success":"error",component:f.Z})},{field:"action",headerName:t("common_action"),type:"actions",flex:.6,renderHeader:()=>(0,z.jsx)(b.Z,{width:"auto",sx:{textAlign:"left"},children:t("common_action")}),getActions:e=>[(0,z.jsx)(g.u,{icon:(0,z.jsx)(c.Z,{}),label:"Edit",onClick:()=>{s(A._.admin.contest.edit.details.replace(":contestId",e.row.contestId),{state:{contestName:e.row.name}})}}),(0,z.jsx)(g.u,{icon:(0,z.jsx)(l.Z,{}),label:"Delete"})]}]),[J,Y]=(0,C.useState)(0),[X,ee]=(0,C.useState)(10),te=(0,C.useMemo)((()=>Q.contests.totalItems||0),[Q.contests]),se=(0,C.useMemo)((()=>Q.contests.contests.map((e=>{const t=e.startTime&&v()().utc().isBefore(e.startTime)?P.m.UPCOMING:e.endTime&&v()().utc().isAfter(e.endTime)?P.m.ENDED:P.m.HAPPENING;return{id:e.contestId,contestId:e.contestId,name:e.name,description:e.description,prizes:e.prizes,rules:e.rules,scoring:e.scoring,thumbnailUrl:e.thumbnailUrl,startTime:e.startTime,endTime:e.endTime,questions:e.questions,numOfParticipants:e.numOfParticipants,status:t,isPublic:e.isPublic,isRestrictedForum:e.isRestrictedForum,isDisabledForum:e.isDisabledForum,createdBy:e.createdBy,createdAt:e.createdAt,updatedAt:e.updatedAt,updatedBy:e.updatedBy}}))),[Q.contests]);(0,C.useCallback)((()=>{K({searchName:D,startTimeFilter:B})}),[K,D,B]),(0,C.useCallback)((()=>{H(P.m.ALL),K({searchName:D,startTimeFilter:P.m.ALL})}),[K,D]);return(0,C.useEffect)((()=>{G(y.ZP.language)}),[y.ZP.language]),(0,C.useEffect)((()=>{(async()=>{V((0,N.K4)(!0)),await K({searchName:"",startTimeFilter:P.m.ALL}),V((0,N.K4)(!1))})()}),[V,K]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(R.Z,{open:n,setOpen:a,type:w,content:E}),(0,z.jsxs)(u.Z,{sx:{margin:"20px","& .MuiDataGrid-root":{border:"1px solid #e0e0e0",borderRadius:"4px"}},children:[(0,z.jsx)(i.Z,{className:M.breadcump,ref:e,children:(0,z.jsx)(i.Z,{id:M.breadcumpWrapper,children:(0,z.jsx)(f.Z,{colorname:"--blue-500","translate-key":"contest_management_title",children:t("contest_management_title")})})}),(0,z.jsx)(h.Z,{}),(0,z.jsxs)(r.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsx)(_.Z,{"translate-key":"contest_management_title",children:t("contest_management_title")})}),(0,z.jsx)(r.ZP,{item:!0,xs:12}),(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsx)(j.Z,{loading:Q.isLoading,dataList:se,tableHeader:$,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:J,pageSize:X,totalElement:te,onPaginationModelChange:(e,t)=>{Y(e.page),ee(e.pageSize),K({searchName:D,startTimeFilter:P.m.ALL,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})]})};var E=s(62563),q=s(96447),D=s(83929),L=s(44758),O=s(15535),G=s(16977),B=s(35659),H=s(75627),Q=s(21933);const V="styles_formBody__4S2B5",K="styles_breadcump__bLd4l",$="styles_breadcumpWrapper__QNcnk",J="styles_icArrow__tM8ll",Y="styles_cursorPointer__A6Tq+";var X=s(66565),ee=s(82098);const te=()=>{const e=(0,C.useRef)(null),{t:t}=(0,k.$G)(),s=(0,o.s0)(),[n,a]=(0,C.useState)(!1),[l,c]=(0,C.useState)(R.N.INFO),[m,x]=(0,C.useState)(""),[p,g]=(0,C.useState)(!1),j=(0,T.I0)(),Z=(0,C.useMemo)((()=>Q.Ry().shape({isNoEndTime:Q.O7().required(t("contest_is_no_end_time_required")),name:Q.Z_().required(t("contest_name_required")).trim(""),startTime:Q.Z_().required(t("contest_start_time_required")).trim("").test("startTime",t("contest_start_time_greater_than_current_time"),(function(e){return v()(e).isAfter(v()().utc())})),endTime:Q.Z_().nullable().test("endTime",t("contest_end_time_required"),(function(e){return!!this.parent.isNoEndTime||!!e})).test("endTime",t("contest_end_time_greater_than_start_time"),(function(e){return!!this.parent.isNoEndTime||v()(e).isAfter(this.parent.startTime)}))})),[t]),{control:b,handleSubmit:y,watch:P,formState:{errors:w},setValue:S}=(0,H.cI)({resolver:(0,E.X)(Z),defaultValues:{isNoEndTime:!1,name:"",startTime:v().utc().add(30,"minute").toISOString(),endTime:v().utc().add(1,"hour").toISOString()}}),N=(0,C.useCallback)((async e=>{let{name:r,description:i,thumbnailUrl:n,startTime:o,endTime:l}=e;g(!0);try{(await I.c.createContest({name:r,description:i,thumbnailUrl:n,startTime:o,endTime:l})).name===r&&(a(!0),c(R.N.Success),x(t("contest_create_success")),g(!1),s(A._.admin.contest.edit.details,{state:{contestName:r}}))}catch(d){console.error("error",d),401!==d.code&&403!==d.code||j((0,U.lS)("Please sign in to continue")),g(!1)}}),[t]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(R.Z,{open:n,setOpen:a,type:l,content:m}),(0,z.jsxs)(u.Z,{sx:{margin:"20px","& .MuiDataGrid-root":{border:"1px solid #e0e0e0",borderRadius:"4px"},gap:"20px"},children:[(0,z.jsx)(i.Z,{className:K,ref:e,children:(0,z.jsxs)(i.Z,{id:$,children:[(0,z.jsx)(f.Z,{colorname:"--blue-500",className:Y,onClick:()=>s(A._.admin.contest.root),"translation-key":"contest_management_title",children:t("contest_management_title")}),(0,z.jsx)(q.Z,{id:J}),(0,z.jsx)(f.Z,{colorname:"--blue-500","translate-key":"contest_create",children:t("contest_create")})]})}),(0,z.jsx)(h.Z,{}),(0,z.jsxs)(i.Z,{sx:{padding:"20px"},children:[(0,z.jsx)(_.Z,{"translate-key":"contest_create",children:t("contest_create")}),(0,z.jsxs)(d.Z,{direction:"column",gap:2,sx:{marginTop:"20px"},children:[(0,z.jsx)(f.Z,{fontStyle:"italic","translate-key":"contest_description_message_1",children:t("contest_description_message_1")}),(0,z.jsx)(f.Z,{fontStyle:"italic","translate-key":"contest_description_message_2",children:t("contest_description_message_2")})]}),(0,z.jsxs)(i.Z,{component:"form",className:V,onSubmit:y((async e=>{const t={...e},{isNoEndTime:s,name:r,startTime:i,endTime:n}=t;await N({name:r,description:"",thumbnailUrl:"",startTime:i,endTime:s?null:n})})),children:[(0,z.jsx)(H.Qr,{control:b,name:"name",rules:{required:!0},render:e=>{var s;let{field:{ref:r,...i}}=e;return(0,z.jsx)(G.Z,{error:Boolean(null===w||void 0===w?void 0:w.name),errorMessage:null===(s=w.name)||void 0===s?void 0:s.message,title:"".concat(t("contest_name")),type:"text",placeholder:t("contest_enter_contest_name"),titleRequired:!0,"translation-key":"contest_enter_contest_name",inputRef:r,width:"350px",fullWidth:!0,...i})}}),(0,z.jsx)(r.ZP,{container:!0,spacing:1,columns:12,children:(0,z.jsx)(H.Qr,{control:b,name:"startTime",rules:{required:!0},render:e=>{let{field:{ref:s,...i}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:3,children:(0,z.jsx)(B.Z,{"translate-key":"contest_start_time",title:t("contest_start_time"),titleRequired:!0,tooltipDescription:t("contest_start_time_tooltip")})}),(0,z.jsxs)(r.ZP,{item:!0,xs:9,children:[(0,z.jsx)(O.Z,{value:v()(i.value),onHandleValueChange:e=>{e&&S("startTime",e.toISOString())},width:"350px"}),w.startTime&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:w.startTime.message&&(0,z.jsx)(ee.Z,{children:w.startTime.message||""})})]})]})}})}),(0,z.jsx)(H.Qr,{control:b,name:"endTime",rules:{required:!0},render:e=>{let{field:{ref:s,...i}}=e;return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(r.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(r.ZP,{item:!0,xs:3,children:(0,z.jsx)(B.Z,{"translate-key":"contest_end_time",title:t("contest_end_time"),titleRequired:!0,tooltipDescription:t("contest_end_time_tooltip")})}),(0,z.jsx)(r.ZP,{item:!0,xs:9,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(O.Z,{value:v()(i.value),disabled:P("isNoEndTime"),onHandleValueChange:e=>{e&&S("endTime",e.toISOString())},width:"350px"}),(0,z.jsx)(H.Qr,{control:b,name:"isNoEndTime",render:e=>{let{field:{ref:s,...r}}=e;return(0,z.jsx)(D.Z,{control:(0,z.jsx)(L.Z,{color:"primary",...r}),label:t("this_contest_has_no_end_time")})}}),w.endTime&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:w.endTime.message&&(0,z.jsx)(ee.Z,{children:w.endTime.message||""})})]})})]})})}}),(0,z.jsx)(r.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,z.jsx)(X.Z,{loading:p,variant:"solid",type:"submit","translation-key":"common_get_started",children:t("common_get_started")})})]})]})]})]})};var se=s(95861),re=s(65280),ie=s(80007),ne=s(38037);const ae={formBody:"styles_formBody__cwJLB"};var oe=s(92556),le=s(95087);const ce=e=>{let{control:t,errors:s,setValue:i,watch:n}=e;const{t:a}=(0,k.$G)(),[o,l]=(0,C.useState)([]);return(0,C.useEffect)((()=>{var e;o.length>0&&i("thumbnailUrl",(null===(e=o[0])||void 0===e?void 0:e.downloadUrl)||"")}),[o,i]),(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(r.ZP,{container:!0,gap:2,direction:"column",className:ae.container,sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)"},children:[(0,z.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,z.jsx)(ne.Z,{"translate-key":"contest_details",children:a("contest_details")}),(0,z.jsx)(f.Z,{fontStyle:"italic",sx:{marginTop:"10px"},"translate-key":"contest_details_description",children:a("contest_details_description")})]}),(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsxs)(r.ZP,{container:!0,gap:2,direction:"column",children:[(0,z.jsx)(H.Qr,{control:t,name:"name",rules:{required:!0},render:e=>{var t;let{field:{ref:r,...i}}=e;return(0,z.jsx)(G.Z,{error:Boolean(null===s||void 0===s?void 0:s.name),errorMessage:null===(t=s.name)||void 0===t?void 0:t.message,title:"".concat(a("contest_name")),type:"text",placeholder:a("contest_enter_contest_name"),titleRequired:!0,"translation-key":"contest_enter_contest_name",inputRef:r,width:"350px",fullWidth:!0,...i})}}),(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(H.Qr,{control:t,name:"startTime",rules:{required:!0},render:e=>{let{field:{ref:t,...n}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,z.jsx)(B.Z,{"translate-key":"contest_start_time",title:a("contest_start_time"),titleRequired:!0})}),(0,z.jsxs)(r.ZP,{item:!0,xs:12,md:9,children:[(0,z.jsx)(O.Z,{value:v()(n.value),onHandleValueChange:e=>{e&&i("startTime",e.toISOString())},width:"350px"}),s.startTime&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:s.startTime.message&&(0,z.jsx)(ee.Z,{children:s.startTime.message||""})})]})]})}})}),(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(H.Qr,{control:t,name:"endTime",rules:{required:!0},render:e=>{let{field:{ref:o,...l}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,z.jsx)(B.Z,{"translate-key":"contest_end_time",title:a("contest_end_time"),titleRequired:!0,tooltipDescription:a("contest_end_time_tooltip")})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:9,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(O.Z,{value:v()(l.value),disabled:n("isNoEndTime"),onHandleValueChange:e=>{e&&i("endTime",e.toISOString())},width:"350px"}),(0,z.jsx)(H.Qr,{control:t,name:"isNoEndTime",render:e=>{let{field:{ref:t,...s}}=e;return(0,z.jsx)(D.Z,{control:(0,z.jsx)(L.Z,{color:"primary",...s,checked:s.value}),label:a("this_contest_has_no_end_time")})}}),s.endTime&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:s.endTime.message&&(0,z.jsx)(ee.Z,{children:s.endTime.message||""})})]})})]})}})}),(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:i,...n}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,z.jsx)(B.Z,{"translate-key":"contest_is_public",title:a("contest_is_public"),titleRequired:!0,tooltipDescription:a("contest_is_public_tooltip")})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:9,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(H.Qr,{control:t,name:"isPublic",render:e=>{let{field:{ref:t,...s}}=e;return(0,z.jsx)(D.Z,{control:(0,z.jsx)(L.Z,{color:"primary",...s,checked:s.value}),label:""})}}),s.isPublic&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:s.isPublic.message&&(0,z.jsx)(ee.Z,{children:s.isPublic.message||""})})]})})]})}})})]})}),(0,z.jsx)(h.Z,{}),(0,z.jsxs)(r.ZP,{item:!0,xs:12,children:[(0,z.jsx)(ne.Z,{"translate-key":"contest_metadata_customization",children:a("contest_metadata_customization")}),(0,z.jsx)(f.Z,{fontStyle:"italic",sx:{marginTop:"10px"},"translate-key":"contest_metadata_customization_description",children:a("contest_metadata_customization_description")})]}),(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsxs)(r.ZP,{container:!0,gap:2,direction:"column",children:[(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:i,...n}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,z.jsx)(B.Z,{"translate-key":"contest_thumbnail",title:a("contest_thumbnail"),titleRequired:!0})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:8,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(H.Qr,{control:t,name:"thumbnailUrl",rules:{required:!0},render:e=>{let{field:{ref:t,...s}}=e;return(0,z.jsx)(le.Z,{extFiles:o,setExtFiles:l,maxFileSize:5242880,accept:".bmp, .gif, .jpeg, .jpg, .png, .svg, .tif, .tiff",maxFiles:1})}}),s.thumbnailUrl&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:s.thumbnailUrl.message&&(0,z.jsx)(ee.Z,{children:s.thumbnailUrl.message||""})})]})})]})}})}),(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:n,...o}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,z.jsx)(B.Z,{"translate-key":"common_description",title:a("common_description")})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:8,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(H.Qr,{control:t,name:"description",render:e=>{let{field:{ref:t,...s}}=e;return(0,z.jsx)(oe.Z,{value:s.value,onChange:e=>{i("description",e)},maxLines:10})}}),s.description&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:s.description.message&&(0,z.jsx)(ee.Z,{children:s.description.message||""})})]})})]})}})}),(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:n,...o}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,z.jsx)(B.Z,{"translate-key":"common_prizes",title:a("common_prizes")})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:8,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(H.Qr,{control:t,name:"prizes",rules:{required:!0},render:e=>{let{field:{ref:t,...s}}=e;return(0,z.jsx)(oe.Z,{value:s.value,onChange:e=>{i("prizes",e)},maxLines:10})}}),s.prizes&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:s.prizes.message&&(0,z.jsx)(ee.Z,{children:s.prizes.message||""})})]})})]})}})}),(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:n,...o}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,z.jsx)(B.Z,{"translate-key":"common_rules",title:a("common_rules")})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:8,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(H.Qr,{control:t,name:"rules",rules:{required:!0},render:e=>{let{field:{ref:t,...s}}=e;return(0,z.jsx)(oe.Z,{value:s.value,onChange:e=>{i("rules",e)},maxLines:10})}}),s.rules&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:s.rules.message&&(0,z.jsx)(ee.Z,{children:s.rules.message||""})})]})})]})}})}),(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:n,...o}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,z.jsx)(B.Z,{"translate-key":"common_scoring",title:a("common_scoring")})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:8,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(H.Qr,{control:t,name:"scoring",rules:{required:!0},render:e=>{let{field:{ref:t,...s}}=e;return(0,z.jsx)(oe.Z,{value:s.value,onChange:e=>{i("scoring",e)},maxLines:10})}}),s.scoring&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:s.scoring.message&&(0,z.jsx)(ee.Z,{children:s.scoring.message||""})})]})})]})}})}),(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,height:"70px"})]})})]})})},de=()=>(0,z.jsx)("div",{children:(0,z.jsx)("h1",{children:"Contest Problems"})}),me=()=>{const{t:e}=(0,k.$G)(),{contestId:t}=(0,o.UO)(),[s,i]=(0,C.useState)(!1),[n,a]=(0,C.useState)([]),[l,c]=(0,C.useState)((()=>y.ZP.language));(0,C.useEffect)((()=>{c(y.ZP.language)}),[y.ZP.language]);const x=[{field:"no",headerName:e("common_no"),flex:.4,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_no")}),renderCell:e=>(0,z.jsx)(f.Z,{width:"auto",children:e.row.no})},{field:"email",headerName:e("common_email"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_email")}),renderCell:e=>(0,z.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,z.jsx)(m.Z,{sx:{bgcolor:p.Z[500]},alt:e.row.email,src:e.row.avatarUrl,children:e.row.email.charAt(0)}),(0,z.jsx)(f.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"createdAt",headerName:e("contest_sign_up_date"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("contest_sign_up_date")}),renderCell:e=>(0,z.jsx)(f.Z,{width:"auto",children:(0,F.J$)(e.row.createdAt,l)})}],u=(0,C.useCallback)((async(e,t,s)=>{i(!0);try{const r=await I.c.getSignUpsOfContest(e,t,s,!1);a(r.contestUsers),i(!1)}catch(r){console.error("error",r),i(!1)}}),[]),[h,g]=(0,C.useState)(0),[_,b]=(0,C.useState)(10),P=(0,C.useMemo)((()=>n.map(((e,t)=>{var s,r;return{id:"".concat(e.contestId).concat(e.user.userId),no:t+1,email:(null===(s=e.user)||void 0===s?void 0:s.email)||"",createdAt:e.createdAt,avatarUrl:(null===(r=e.user)||void 0===r?void 0:r.avatarUrl)||""}}))),[n]);return(0,C.useEffect)((()=>{t&&u(t,h,_)}),[t,u,h,_]),t?(0,z.jsx)(r.ZP,{container:!0,gap:2,direction:"column",sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)"},children:(0,z.jsx)(r.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsx)(j.Z,{loading:s,dataList:P,tableHeader:x,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:h,pageSize:_,totalElement:100,onPaginationModelChange:(e,s)=>{t&&(g(e.page),b(e.pageSize),u(t,e.page,e.pageSize))},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})})}):null},xe=()=>(0,z.jsx)("div",{children:(0,z.jsx)("h1",{children:"Contest Statistics"})}),ue="styles_formBody__ZSG6f",he="styles_breadcump__T7a9E",pe="styles_breadcumpWrapper__R7SGo",ge="styles_icArrow__bYt8n",je="styles_cursorPointer__HLN-2",_e="styles_tabs__55ljR",Ze=e=>{let{control:t,errors:s,setValue:i,watch:n}=e;const{t:a}=(0,k.$G)();return(0,z.jsxs)(r.ZP,{container:!0,gap:2,direction:"column",sx:{margin:"0px 20px -80px 20px",width:"calc(100% - 40px)",height:"100%"},children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsx)(ne.Z,{"translate-key":"contest_forum",children:a("contest_forum")})}),(0,z.jsxs)(r.ZP,{item:!0,xs:12,sx:{marginTop:"10px"},children:[(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(H.Qr,{control:t,name:"isRestrictedForum",rules:{required:!0},render:e=>{let{field:{ref:i,...n}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,z.jsx)(B.Z,{"translate-key":"contest_is_restricted_forum",title:a("contest_is_restricted_forum"),tooltipDescription:a("contest_is_restricted_forum_tooltip")})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:8,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(H.Qr,{control:t,name:"isRestrictedForum",render:e=>{let{field:{ref:t,...s}}=e;return(0,z.jsx)(D.Z,{control:(0,z.jsx)(L.Z,{color:"primary",...s,checked:s.value}),label:""})}}),s.isRestrictedForum&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:s.isRestrictedForum.message&&(0,z.jsx)(ee.Z,{children:s.isRestrictedForum.message||""})})]})})]})}})}),(0,z.jsx)(r.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(H.Qr,{control:t,name:"isDisabledForum",rules:{required:!0},render:e=>{let{field:{ref:i,...n}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:3,children:(0,z.jsx)(B.Z,{"translate-key":"contest_is_disabled_forum",title:a("contest_is_disabled_forum"),tooltipDescription:a("contest_is_disabled_forum_tooltip")})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:8,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(H.Qr,{control:t,name:"isDisabledForum",render:e=>{let{field:{ref:t,...s}}=e;return(0,z.jsx)(D.Z,{control:(0,z.jsx)(L.Z,{color:"primary",...s,checked:s.value}),label:""})}}),s.isDisabledForum&&(0,z.jsx)(r.ZP,{item:!0,xs:12,children:s.isDisabledForum.message&&(0,z.jsx)(ee.Z,{children:s.isDisabledForum.message||""})})]})})]})}})})]})]})};var fe=s(62614);const be=e=>{let{isDrawerOpen:t}=e;const s=(0,C.useRef)(null),{t:r}=(0,k.$G)(),n=(0,o.s0)(),{pathname:a}=(0,o.TH)(),[l,c]=(0,C.useState)(!1),[d,m]=(0,C.useState)(R.N.INFO),[x,p]=(0,C.useState)(""),{contestId:g}=(0,o.UO)(),[j,Z]=(0,C.useState)(!1),[b,y]=(0,C.useState)(""),P=(0,C.useMemo)((()=>[A._.admin.contest.edit.details,A._.admin.contest.edit.problems,A._.admin.contest.edit.advanced_settings,A._.admin.contest.edit.signups,A._.admin.contest.edit.statistics]),[A._]),w=(0,C.useMemo)((()=>{if(g){const e=P.findIndex((e=>{return t=e.replace(":contestId",g),!!a.startsWith(t);var t}));return-1===e?0:e}}),[a,P]),T=(0,C.useMemo)((()=>Q.Ry().shape({isNoEndTime:Q.O7().required(r("contest_is_no_end_time_required")),name:Q.Z_().required(r("contest_name_required")).trim(""),startTime:Q.Z_().required(r("contest_start_time_required")).trim("").test("startTime",r("contest_start_time_greater_than_current_time"),(function(e){return v()(e).isAfter(v()().utc())})),endTime:Q.Z_().nullable().test("endTime",r("contest_end_time_required"),(function(e){return!!this.parent.isNoEndTime||!!e})).test("endTime",r("contest_end_time_greater_than_start_time"),(function(e){return!!this.parent.isNoEndTime||v()(e).isAfter(this.parent.startTime)})),thumbnailUrl:Q.Z_().trim(""),description:Q.Z_().trim(""),prizes:Q.Z_().trim(""),rules:Q.Z_().trim(""),scoring:Q.Z_().trim(""),isPublic:Q.O7().required(r("contest_is_public_required")),isRestrictedForum:Q.O7().required(r("contest_is_restricted_forum_required")),isDisabledForum:Q.O7().required(r("contest_is_disabled_forum_required"))})),[r]),{control:S,handleSubmit:N,watch:F,formState:{errors:M},setValue:U}=(0,H.cI)({resolver:(0,E.X)(T),defaultValues:{isNoEndTime:!1,name:"",startTime:v().utc().add(30,"minute").toISOString(),endTime:v().utc().add(1,"hour").toISOString(),thumbnailUrl:"",description:"",prizes:"",rules:"",scoring:"",isPublic:!1,isRestrictedForum:!1,isDisabledForum:!1}}),W=(0,C.useCallback)((async e=>{try{const t=await I.c.getContestById(e);if(t){U("name",t.name),y(t.name),U("startTime",t.startTime),t.endTime?(U("isNoEndTime",!1),U("endTime",t.endTime)):(U("isNoEndTime",!0),U("endTime",null)),U("thumbnailUrl",t.thumbnailUrl);const e=t.description?t.description:"Please provide a short description of your contest here!";U("description",e);const s=t.prizes&&""!==t.prizes?t.prizes:"- Prizes are optional. You may add any prizes that you would like to offer here.";U("prizes",s);const r=t.rules&&""!==t.rules?t.rules:"- Please provide any rules for your contest here.";U("rules",r);const i=t.scoring&&""!==t.scoring?t.scoring:"- Each challenge has a pre-determined score.\n          - A participant\u2019s score depends on the number of test cases a participant\u2019s code submission successfully passes.\n          - If a participant submits more than one solution per challenge, then the participant\u2019s score will reflect the highest score achieved.\n          - Participants are ranked by score. If two or more participants achieve the same score, then the tie is broken by the total time taken to submit the last solution resulting in a higher score";U("scoring",i),U("isPublic",t.isPublic)}}catch(t){console.error("error",t)}}),[U]),D=((0,C.useCallback)((async(e,t)=>{try{await I.c.updateContest(e,t)?(c(!0),m(R.N.Success),p("Contest updated successfully")):(c(!0),m(R.N.Error),p("Failed to update contest"))}catch(s){console.error("error",s),401===s.code||s.code}}),[]),async e=>{console.log(e)});return(0,C.useEffect)((()=>{g&&W(g)}),[g,W]),g?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(R.Z,{open:l,setOpen:c,type:d,content:x}),(0,z.jsxs)(i.Z,{component:"form",className:ue,onSubmit:N(D),children:[(0,z.jsxs)(u.Z,{sx:{"& .MuiDataGrid-root":{border:"1px solid #e0e0e0",borderRadius:"4px"},margin:"20px",gap:"20px"},children:[(0,z.jsx)(i.Z,{className:he,ref:s,children:(0,z.jsxs)(i.Z,{id:pe,children:[(0,z.jsx)(f.Z,{colorname:"--blue-500",className:je,onClick:()=>n(A._.admin.contest.root),"translation-key":"contest_management_title",children:r("contest_management_title")}),(0,z.jsx)(q.Z,{id:ge}),(0,z.jsx)(f.Z,{colorname:"--blue-500",children:b})]})}),(0,z.jsx)(h.Z,{}),(0,z.jsx)(i.Z,{sx:{margin:"20px"},children:(0,z.jsx)(_.Z,{children:b})}),(0,z.jsx)(i.Z,{sx:{margin:"20px",borderRadius:"5px",border:"1px solid #e0e0e0"},children:(0,z.jsxs)(se.Z,{value:w,onChange:(e,t)=>{g&&n(P[t].replace(":contestId",g))},"aria-label":"basic tabs example",className:_e,variant:"fullWidth",children:[(0,z.jsx)(re.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(ie.Z,{"translate-key":"common_details",children:r("common_details")}),value:0}),(0,z.jsx)(re.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(ie.Z,{"translate-key":"common_problems",children:r("common_problems")}),value:1}),(0,z.jsx)(re.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(ie.Z,{"translate-key":"common_advanced_settings",children:r("common_advanced_settings")}),value:2}),(0,z.jsx)(re.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(ie.Z,{"translate-key":"common_signups",children:r("common_signups")}),value:3}),(0,z.jsx)(re.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(ie.Z,{"translate-key":"common_statistics",children:r("common_statistics")}),value:4})]})}),(0,z.jsx)(i.Z,{children:(0,z.jsxs)(o.Z5,{children:[(0,z.jsx)(o.AW,{path:"details",element:(0,z.jsx)(ce,{control:S,errors:M,setValue:U,watch:F})}),(0,z.jsx)(o.AW,{path:"problems",element:(0,z.jsx)(de,{})}),(0,z.jsx)(o.AW,{path:"advanced-settings",element:(0,z.jsx)(Ze,{control:S,errors:M,setValue:U,watch:F})}),(0,z.jsx)(o.AW,{path:"signups",element:(0,z.jsx)(me,{})}),(0,z.jsx)(o.AW,{path:"statistics",element:(0,z.jsx)(xe,{})}),(0,z.jsx)(o.AW,{path:"*",element:(0,z.jsx)(fe.Z,{})})]})})]}),(0,z.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",position:"fixed",bottom:"0px",padding:"20px",marginLeft:"-25px",backgroundColor:"white",borderTop:"1px solid #E0E0E0",width:t?"calc(100% - 300px)":"100%"},children:[(0,z.jsx)(X.Z,{variant:"outlined","translation-key":"contest_preview_contest_details_page",onClick:()=>n(A._.user.contest.detail.replace(":contestId",g)),children:r("contest_preview_contest_details_page")}),(0,z.jsx)(X.Z,{loading:j,variant:"solid",type:"submit","translation-key":"common_save_changes",onClick:N(D),children:r("common_save_changes")})]})]})]}):null};var ye=s(46923),Pe=s(17592),we=s(38707);const ve="styles_drawer__nt9TU",Ce="styles_img__CARKn",ke="styles_itemIcon__rdsV2";var Te=s(47477),Se=s(68357),Ne=s(90200),Ae=s(25614),Ie=s(11163);const Fe=300,Me=(0,Pe.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:s}=e;return{flexGrow:1,width:"calc(100% - ".concat(Fe,"px)"),overflow:"auto",padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(Fe,"px"),...s&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}}));function Re(e){let{open:t,toggleDrawer:s,children:r}=e;const{t:n}=(0,k.$G)(),a=[{name:n("common_dashboard"),"translation-key":"common_dashboard",icon:(0,z.jsx)(i.Z,{className:Ce,children:(0,z.jsx)(Ae.Z,{})}),link:A._.admin.dashboard},{name:n("side_bar_contest_management"),"translation-key":"side_bar_contest_management",icon:(0,z.jsx)(i.Z,{className:Ce,children:(0,z.jsx)("img",{src:Se.Z.admin.contest,alt:"contest img"})}),link:A._.admin.contest.root},{name:n("side_bar_user_management"),"translation-key":"side_bar_user_management",icon:(0,z.jsx)(Ie.Z,{className:ke}),link:A._.admin.users.root}],o=(0,C.useRef)(null),{height:l}=(0,Te.Z)({ref:o});return(0,z.jsxs)(i.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,z.jsx)(Ne.Z,{toggleDrawer:s,ref:o}),(0,z.jsx)(ye.ZP,{className:ve,sx:{width:Fe,flexShrink:0,"& .MuiDrawer-paper":{width:Fe,marginTop:"".concat(l+2,"px")}},variant:"persistent",anchor:"left",open:t,children:(0,z.jsx)(we.Z,{sideBarItem:a})}),(0,z.jsx)(Me,{open:t,sx:{marginTop:"".concat(l,"px"),height:"calc(100% - ".concat(l,"px)")},children:r})]})}var Ue=s(56835),ze=s(84488),We=s(2959);const Ee=e=>{const{title:t,value:s,mainColor:r,icon:n}=e;return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(We.Z,{variant:"outlined",color:"neutral",sx:{height:"120px",backgroundColor:"#fff",paddingBottom:"0",paddingLeft:"0",paddingRight:"0",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[(0,z.jsxs)(d.Z,{direction:"row",spacing:2,margin:"0 1rem",display:"flex",justifyContent:"space-between",children:[(0,z.jsxs)(i.Z,{children:[(0,z.jsx)(ie.Z,{letterSpacing:"0.5px",textTransform:"uppercase",colorname:"--gray-40",fontSize:"0.75rem",fontWeight:"500",lineHeight:"2.5",children:t}),(0,z.jsx)(ie.Z,{fontSize:"2rem",fontWeight:"500",color:"#212121",children:s})]}),(0,z.jsx)(i.Z,{sx:{borderRadius:"1000px",backgroundColor:r,width:"50px",height:"50px"},display:"flex",justifyContent:"center",alignItems:"center",children:n})]}),(0,z.jsx)(i.Z,{sx:{height:"7px",width:"100%",backgroundColor:r,borderRadius:"0 0 100px 100px"}})]})})};var qe=s(72864),De=s(84915),Le=s(47892),Oe=s(70646),Ge=s(33099),Be=s(5818),He=s(34923),Qe=s(3948),Ve=s(60929),Ke=s(98874),$e=s(26568),Je=s(31279);const Ye=e=>{let{label:t,color:s}=e;return(0,z.jsxs)(i.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[(0,z.jsx)(i.Z,{sx:{height:"10px",width:"10px",marginRight:"5px",backgroundColor:s,borderRadius:"100px"}}),(0,z.jsx)(ie.Z,{fontSize:"0.75rem",colorname:"--gray-40",children:t})]})};var Xe=s(1229);const et=["#3498db","#e74c3c","#2ecc71","#f1c40f","#9b59b6"],tt="#1abc9c",st="#16a085",rt=e=>{let{threshold:t,id:s}=e;const{top:r,height:i,bottom:n}=(0,$e.z)(),a=r+n+i,o=(0,Je.Ff)()(t),l=void 0!==o?o/a:0;return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("defs",{children:(0,z.jsxs)("linearGradient",{id:s,x1:"0",x2:"0",y1:"0",y2:"".concat(a,"px"),gradientUnits:"userSpaceOnUse",children:[(0,z.jsx)("stop",{offset:l,stopColor:tt,stopOpacity:.4}),(0,z.jsx)("stop",{offset:l,stopColor:st,stopOpacity:0})]})})})},it=()=>{const{t:e}=(0,k.$G)(),[t,s]=((0,Xe.Z)(),(0,C.useState)(!0)),[i,n]=(0,C.useState)(0),[a,o]=(0,C.useState)(0),l=new Date,c=l.getMonth(),m=l.getFullYear(),[x,u]=(0,C.useState)({totalUsers:0,activeUsers:0,offlineUsers:0,loginToday:0,registerUser:[],userByRole:[]}),[h,p]=(0,C.useState)(new Date(m,c+1,0).getDate()),g=[e("User"),e("Course"),e("Organization"),e("Contest"),e("Practice"),e("Certificate course")],j=31===h?["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"]:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],_=["User","Admin","Student Course","Lecturer","Admin course"];return(0,C.useEffect)((()=>{(async()=>{await(async()=>{try{const e=await Be.K.getUserStatistics();u((t=>({...e,registerUser:e.registerUser.map((e=>({...e,area:!0})))})))}catch(e){console.log(e)}})()})(),s(!1)}),[]),(0,C.useEffect)((()=>{console.log(x)}),[x]),(0,z.jsxs)(z.Fragment,{children:[t&&(0,z.jsxs)(r.ZP,{container:!0,spacing:2,sx:{padding:3},children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsx)(ze.Z,{variant:"text",sx:{fontSize:"1rem"}})}),(0,z.jsx)(r.ZP,{item:!0,xs:6,children:(0,z.jsx)(ze.Z,{variant:"text",height:50})}),(0,z.jsx)(r.ZP,{item:!0,xs:6}),(0,z.jsx)(r.ZP,{item:!0,xs:5,children:(0,z.jsx)(ze.Z,{variant:"text",sx:{fontSize:"1.5rem"}})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsxs)(r.ZP,{container:!0,spacing:4,children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,z.jsx)(ze.Z,{variant:"rounded",height:100})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,z.jsx)(ze.Z,{variant:"rounded",height:100})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,z.jsx)(ze.Z,{variant:"rounded",height:100})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,z.jsx)(ze.Z,{variant:"rounded",height:100})})]})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:12,children:(0,z.jsxs)(r.ZP,{container:!0,spacing:3,children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,md:8,children:(0,z.jsx)(ze.Z,{variant:"rounded",height:400})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(ze.Z,{variant:"rounded",height:400})})]})})]}),!t&&(0,z.jsxs)(r.ZP,{container:!0,spacing:2,sx:{padding:3},children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsx)(ze.Z,{variant:"text",sx:{fontSize:"1rem"}})}),(0,z.jsx)(r.ZP,{item:!0,xs:6,children:(0,z.jsx)(qe.Z,{"aria-label":"tabs",defaultValue:i,sx:{bgcolor:"transparent"},onChange:(e,t)=>n(Number(t)||0),children:(0,z.jsx)(De.Z,{disableUnderline:!0,sx:{p:.5,gap:.5,borderRadius:"xl",bgcolor:"background.level1",["& .".concat(Le.Z.root,'[aria-selected="true"]')]:{boxShadow:"sm",bgcolor:"background.surface"}},children:g.map(((e,t)=>(0,z.jsx)(Oe.Z,{disableIndicator:!0,children:e},t)))})})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsx)(We.Z,{children:(0,z.jsx)(ie.Z,{children:"Hello, tien"})})}),0===i&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:5,children:(0,z.jsx)(Ge.Z,{children:"User"})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsxs)(r.ZP,{container:!0,spacing:4,children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Ee,{icon:(0,z.jsx)("img",{src:Se.Z.admin.onlineUser,alt:"online user",style:{width:"35px"}}),title:"Active user",value:x.activeUsers,mainColor:"#28a745"})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Ee,{icon:(0,z.jsx)("img",{src:Se.Z.admin.offlineUser,alt:"online user",style:{width:"35px"}}),title:"Offline user",value:x.offlineUsers,mainColor:"#dc3545"})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Ee,{icon:(0,z.jsx)("img",{src:Se.Z.admin.totalUser,alt:"online user",style:{width:"35px"}}),title:"Total user",value:x.totalUsers,mainColor:"#007bff"})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Ee,{icon:(0,z.jsx)("img",{src:Se.Z.admin.loginTodayUser,alt:"online user",style:{width:"35px"}}),title:"Total login today",value:x.loginToday,mainColor:"#ffc107"})})]})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:12,children:(0,z.jsxs)(r.ZP,{container:!0,spacing:4,children:[(0,z.jsxs)(r.ZP,{item:!0,xs:12,md:12,lg:8,children:[(0,z.jsx)(He.Z,{children:"User register"}),(0,z.jsxs)(We.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center"},children:[(0,z.jsxs)(d.Z,{display:"flex",justifyContent:"flex-end",direction:"row",spacing:2,children:[(0,z.jsx)(X.Z,{variant:0===a?"outlined":"plain",onClick:()=>{0!==a&&o(0)},size:"sm",children:"Week"}),(0,z.jsx)(X.Z,{variant:1===a?"outlined":"plain",onClick:()=>{1!==a&&o(1)},size:"sm",children:"Month"}),(0,z.jsx)(X.Z,{variant:2===a?"outlined":"plain",onClick:()=>{2!==a&&o(2)},size:"sm",children:"Year"})]}),(0,z.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,z.jsx)(Ve.w,{sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},["& .".concat(Ke.JN.root)]:{fill:"url(#swich-color-id-1)"}},colors:[tt,st],xAxis:[{scaleType:"point",data:0===a?["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]:1===a?j:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}],yAxis:[{scaleType:"linear",disableTicks:!0}],series:0===x.registerUser.length?[]:0===a?[x.registerUser[0]]:1===a?[x.registerUser[1]]:[x.registerUser[2]],height:320,grid:{horizontal:!0},margin:{left:30,right:20,top:40,bottom:30},slotProps:{legend:{hidden:!0}},children:(0,z.jsx)(rt,{color1:"#11B678",color2:"#FF3143",threshold:0,id:"swich-color-id-1"})}),(0,z.jsx)(Ye,{label:"New user",color:tt})]})]})]}),(0,z.jsxs)(r.ZP,{item:!0,xs:12,md:12,lg:4,children:[(0,z.jsx)(He.Z,{children:"User role"}),(0,z.jsxs)(We.Z,{color:"neutral",variant:"outlined",sx:{height:"400px"},children:[(0,z.jsx)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,z.jsx)(Qe.u,{colors:et,series:[{data:x.userByRole,innerRadius:10,cornerRadius:10}],height:300,sx:{maxWidth:"100%"},margin:{left:0,right:0,top:0,bottom:0},slotProps:{legend:{hidden:!0}}})}),(0,z.jsx)(r.ZP,{container:!0,spacing:1,alignItems:"center",children:_.map(((e,t)=>(0,z.jsx)(r.ZP,{item:!0,xs:4,children:(0,z.jsx)(Ye,{label:e,color:et[t]})},t)))})]})]})]})})]}),1===i&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(r.ZP,{item:!0,xs:5,children:(0,z.jsx)(Ge.Z,{children:"Course"})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsxs)(r.ZP,{container:!0,spacing:4,children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Ee,{icon:(0,z.jsx)("img",{src:Se.Z.admin.course,alt:"Total course",style:{width:"35px"}}),title:"Total courses",value:0,mainColor:"#3498db"})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Ee,{icon:(0,z.jsx)("img",{src:Se.Z.admin.userEnrollment,alt:"Enrolled user",style:{width:"35px"}}),title:"Total Enrollments",value:0,mainColor:"#2ecc71"})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Ee,{icon:(0,z.jsx)("img",{src:Se.Z.admin.activeCourse,alt:"active course",style:{width:"35px"}}),title:"Active Courses",value:0,mainColor:"#f39c12"})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Ee,{icon:(0,z.jsx)("img",{src:Se.Z.admin.inactiveCourse,alt:"online user",style:{width:"35px"}}),title:"Inactive courses",value:0,mainColor:"#e74c3c"})})]})}),(0,z.jsx)(r.ZP,{item:!0,xs:12,md:12,children:(0,z.jsxs)(r.ZP,{container:!0,spacing:4,children:[(0,z.jsxs)(r.ZP,{item:!0,xs:12,md:12,lg:8,children:[(0,z.jsx)(He.Z,{children:"User register"}),(0,z.jsxs)(We.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center"},children:[(0,z.jsx)(d.Z,{display:"flex",justifyContent:"flex-end",direction:"row",spacing:2}),(0,z.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,z.jsx)(Ve.w,{sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},["& .".concat(Ke.JN.root)]:{fill:"url(#swich-color-id-1)"}},colors:[tt,st],xAxis:[{scaleType:"point"}],yAxis:[{scaleType:"linear",disableTicks:!0}],series:[],height:320,grid:{horizontal:!0},margin:{left:30,right:20,top:40,bottom:30},slotProps:{legend:{hidden:!0}},children:(0,z.jsx)(rt,{color1:"#11B678",color2:"#FF3143",threshold:0,id:"swich-color-id-1"})}),(0,z.jsx)(Ye,{label:"New user",color:tt})]})]})]}),(0,z.jsxs)(r.ZP,{item:!0,xs:12,md:12,lg:4,children:[(0,z.jsx)(He.Z,{children:"User role"}),(0,z.jsxs)(We.Z,{color:"neutral",variant:"outlined",sx:{height:"400px"},children:[(0,z.jsx)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,z.jsx)(Qe.u,{colors:et,series:[{data:[],innerRadius:10,cornerRadius:10}],height:300,sx:{maxWidth:"100%"},margin:{left:0,right:0,top:0,bottom:0},slotProps:{legend:{hidden:!0}}})}),(0,z.jsx)(r.ZP,{container:!0,spacing:1,alignItems:"center",children:_.map(((e,t)=>(0,z.jsx)(r.ZP,{item:!0,xs:4,children:(0,z.jsx)(Ye,{label:e,color:et[t]})},t)))})]})]})]})})]})]})]})},nt={breadcump:"styles_breadcump__Br1Yd"},at=()=>{const e=(0,C.useRef)(null),{t:t}=(0,k.$G)(),s=(0,o.s0)(),[n,a]=(0,C.useState)(!1),[x,p]=(0,C.useState)(R.N.INFO),[w,v]=(0,C.useState)(""),[I,M]=(0,C.useState)(""),[W,E]=(0,C.useState)([]),[q,D]=(0,C.useState)((()=>y.ZP.language)),[L,O]=(0,C.useState)(P.m.ALL),G=(0,T.v9)((e=>e.contest)),B=(0,T.I0)(),H=(0,C.useCallback)((async e=>{let{searchName:t,pageNo:s=0,pageSize:r=10}=e;B((0,S.K4)(!0));try{const e=await Be.K.getAllUser({searchName:t,pageNo:s,pageSize:r});E(e.users),B((0,S.K4)(!1))}catch(i){console.error("error",i),401!==i.code&&403!==i.code||B((0,U.lS)("Please sign in to continue")),B((0,S.K4)(!1))}}),[B]),Q=[{field:"email",headerName:"Email",flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:"Email"}),renderCell:e=>(0,z.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,z.jsx)(m.Z,{sx:{bgcolor:"var(--green-500)"},alt:e.row.email,src:e.row.avatarUrl,children:e.row.firstName.charAt(0)}),(0,z.jsx)(f.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"fullname",headerName:t("common_fullname"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_fullname")}),renderCell:e=>(0,z.jsxs)(f.Z,{width:"auto",children:[e.row.firstName," ",e.row.lastName]})},{field:"lastLogin",headerName:t("common_last_login"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:t("common_last_login")}),renderCell:e=>(0,z.jsx)(f.Z,{width:"auto",children:(0,F.J$)(e.row.lastLogin,q)})},{field:"action",headerName:t("common_action"),type:"actions",flex:.6,renderHeader:()=>(0,z.jsx)(b.Z,{width:"auto",sx:{textAlign:"left"},children:t("common_action")}),getActions:e=>[(0,z.jsx)(g.u,{icon:(0,z.jsx)(c.Z,{}),label:"Edit",onClick:()=>{s(A._.admin.contest.edit.details.replace(":contestId",e.row.contestId),{state:{contestName:e.row.name}})}}),(0,z.jsx)(g.u,{icon:(0,z.jsx)(l.Z,{}),label:"Delete"})]}],[V,K]=(0,C.useState)(0),[$,J]=(0,C.useState)(10),Y=(0,C.useMemo)((()=>G.contests.totalItems||0),[G.contests]),X=(0,C.useMemo)((()=>W.map((e=>({id:e.userId,userId:e.userId,email:e.email,firstName:e.firstName,lastName:e.lastName,avatarUrl:e.avatarUrl,lastLogin:e.lastLogin,phone:e.phone,address:e.address,dob:e.dob,isLinkedWithGoogle:e.isLinkedWithGoogle,isLinkedWithMicrosoft:e.isLinkedWithMicrosoft,createdAt:e.createdAt})))),[W]);(0,C.useEffect)((()=>{D(y.ZP.language)}),[y.ZP.language]),(0,C.useEffect)((()=>{(async()=>{B((0,N.K4)(!0)),await H({searchName:""}),B((0,N.K4)(!1))})()}),[B,H]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(R.Z,{open:n,setOpen:a,type:x,content:w}),(0,z.jsxs)(u.Z,{sx:{margin:"20px","& .MuiDataGrid-root":{border:"1px solid #e0e0e0",borderRadius:"4px"}},children:[(0,z.jsx)(i.Z,{className:nt.breadcump,ref:e,children:(0,z.jsx)(i.Z,{id:nt.breadcumpWrapper,children:(0,z.jsx)(f.Z,{colorname:"--blue-500","translate-key":"user_detail_account_management",children:t("user_detail_account_management")})})}),(0,z.jsx)(h.Z,{}),(0,z.jsxs)(r.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsx)(_.Z,{"translate-key":"user_detail_account_management",children:t("user_detail_account_management")})}),(0,z.jsx)(r.ZP,{item:!0,xs:12}),(0,z.jsx)(r.ZP,{item:!0,xs:12,children:(0,z.jsx)(j.Z,{loading:G.isLoading,dataList:X,tableHeader:Q,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:V,pageSize:$,totalElement:Y,onPaginationModelChange:(e,t)=>{K(e.page),J(e.pageSize),H({searchName:I,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})]})},ot=e=>{const[t,s]=C.useState(!0);return(0,z.jsx)(r.ZP,{className:n,children:(0,z.jsx)(Re,{open:t,toggleDrawer:()=>{s((e=>!e))},children:(0,z.jsx)(i.Z,{className:a,children:(0,z.jsxs)(o.Z5,{children:[(0,z.jsx)(o.AW,{path:"contests",element:(0,z.jsx)(W,{})}),(0,z.jsx)(o.AW,{path:"contests/create",element:(0,z.jsx)(te,{})}),(0,z.jsx)(o.AW,{path:"contests/edit/:contestId/*",element:(0,z.jsx)(be,{isDrawerOpen:t})}),(0,z.jsx)(o.AW,{path:"information",element:(0,z.jsx)(Ue.Z,{})}),(0,z.jsx)(o.AW,{path:"/dashboard",element:(0,z.jsx)(it,{})}),(0,z.jsx)(o.AW,{path:"users",element:(0,z.jsx)(at,{})})]})})})})}}}]);