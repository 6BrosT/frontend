"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[8961],{78961:(e,r,i)=>{i.r(r),i.d(r,{default:()=>E});var s=i(96447),a=i(61317),n=i(9019),t=i(79536),o=i(62481),l=i(9289),d=i(47131),c=i(73428),g=i(95861),u=i(65280),m=i(75908),h=i(17592),p=i(90200),v=i(11053),_=i(31845),x=i(80007),P=i(63408),f=i(47477),Z=i(47313),b=i(75590),y=i(65537),L=i(58467),j=i(90469),k=i(6517),w=i(70501),C=i(1550),N=i(15103),S=i(88797),T=i(51405);const W="style_container__Vdkox",z="style_searchWrapper__24got",I="style_colSearchContainer__E8TRM";var M=i(41835),R=i(5124),F=i(99140),B=i(46417);const H=()=>{const[e,r]=(0,Z.useState)("name");return(0,B.jsxs)(w.Z,{className:W,children:[(0,B.jsxs)(t.Z,{className:z,children:[(0,B.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}}),(0,B.jsxs)(C.Z,{className:I,children:[(0,B.jsx)(N.Z,{id:"colSearch",children:"T\xecm ki\u1ebfm theo c\u1ed9t"}),(0,B.jsxs)(S.Z,{labelId:"colSearch",id:"colSearchSelect",value:e,onChange:(e,i)=>{r(e.target.value)},label:"T\xecm ki\u1ebfm theo c\u1ed9t",children:[(0,B.jsx)(T.Z,{value:"name",children:"T\xean"}),(0,B.jsx)(T.Z,{value:"emai",children:"Email"}),(0,B.jsx)(T.Z,{value:"role",children:"Ch\u1ee9c v\u1ee5"})]})]})]}),(0,B.jsx)(F.Z,{btnType:F.s.Primary,startIcon:(0,B.jsx)(M.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},children:"Xu\u1ea5t d\u1eef li\u1ec7u"})]})},O={root:"styles_root__W0BvQ",container:"styles_container__1GBHH",mainContent:"styles_mainContent__ky5qU",cardWrapper:"styles_cardWrapper__nWBsh",cardTitleHeader:"styles_cardTitleHeader__HR4m-",reportOpenTimeWrapper:"styles_reportOpenTimeWrapper__1AUmy",submissionsQuantity:"styles_submissionsQuantity__EdHW6",codeLanguage:"styles_codeLanguage__htR+B",labelTitle:"styles_labelTitle__dHHpS",similarityWrapper:"styles_similarityWrapper__Ys8vz",formBody:"styles_formBody__shK22",drawerBody:"styles_drawerBody__bJiLJ",drawerFieldContainer:"styles_drawerFieldContainer__1Q46C",textEditor:"styles_textEditor__6PwVT",breadcumpWrapper:"styles_breadcumpWrapper__2RYnC",icArrow:"styles_icArrow__ujFwG",cursorPointer:"styles_cursorPointer__nYy2k"},A=(0,h.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:r,open:i}=e;return{flexGrow:1,padding:r.spacing(3),transition:r.transitions.create("margin",{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),marginRight:-450,...i&&{transition:r.transitions.create("margin",{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.enteringScreen}),marginRight:0},position:"relative"}})),U=(0,h.ZP)(m.Z,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:r,open:i}=e;return{transition:r.transitions.create(["margin","width"],{easing:r.transitions.easing.sharp,duration:r.transitions.duration.leavingScreen}),...i&&{width:"calc(100% - ".concat(450,"px)"),transition:r.transitions.create(["margin","width"],{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.enteringScreen}),marginRight:450}}})),D=(0,h.ZP)("div")((e=>{let{theme:r}=e;return{display:"flex",alignItems:"center",padding:r.spacing(0,1),...r.mixins.toolbar,justifyContent:"flex-start"}}));function E(){var e;const{t:r}=(0,b.$G)(),i=(0,L.s0)(),{clusterId:m}=(0,L.UO)(),[h,w]=Z.useState(0),C=(0,y.v9)((e=>e.codePlagiarism)),{clusters:N,report:S}=C,T=Z.useMemo((()=>N.find((e=>e.id===Number(m)))),[N,m]),W=Z.useMemo((()=>{if(!T)return[];return T.submissions.map(((e,r)=>{var i,s;return{id:e.id.toString(),userId:e.extra.userId,orgUserId:e.extra.orgUserId,userFullName:e.extra.userFullName,labels:e.extra.labels,questionName:e.extra.questionName,examName:e.extra.examName,createdAt:e.extra.createdAt,highestSimilarity:(null===e||void 0===e||null===(i=e.fileScoring)||void 0===i||null===(s=i.similarityScore)||void 0===s?void 0:s.similarity)||0,lines:(null===e||void 0===e?void 0:e.lineCount)||0}})).sort(((e,r)=>r.highestSimilarity-e.highestSimilarity))}),[T]),z=[{field:"orgUserId",headerName:"MSSV",width:120,renderCell:e=>(0,B.jsx)(x.Z,{children:e.value||r("code_plagiarism_not_updated")})},{field:"userFullName",headerName:"T\xean sinh vi\xean",flex:1,renderCell:e=>(0,B.jsx)(x.Z,{children:e.value||r("code_plagiarism_not_updated")})},{field:"examName",headerName:"B\xe0i ki\u1ec3m tra",flex:1,renderCell:e=>(0,B.jsx)(x.Z,{children:e.value||r("code_plagiarism_not_updated")})},{field:"createdAt",headerName:"Ng\xe0y n\u1ed9p",flex:1,renderCell:e=>(0,B.jsx)(x.Z,{children:new Date(e.value).toLocaleString()||r("code_plagiarism_not_updated")})},{field:"highestSimilarity",headerName:"\u0110\u1ed9 t\u01b0\u01a1ng \u0111\u1ed3ng cao nh\u1ea5t",flex:1,renderCell:e=>(0,B.jsx)(k.Z,{value:100*Number(e.value)||0})},{field:"lines",headerName:"S\u1ed1 d\xf2ng",flex:1,renderCell:e=>(0,B.jsx)(x.Z,{children:e.value||r("code_plagiarism_not_updated")})}];S&&(null===S||void 0===S||null===(e=S.labels)||void 0===e?void 0:e.length)>0&&z.splice(2,0,{field:"labels",headerName:"Nh\xe3n",width:150,renderCell:e=>(0,B.jsx)(x.Z,{children:e.value||r("code_plagiarism_not_updated")})});const I=Z.useMemo((()=>{if(!T)return[];return T.cluster.map(((e,r)=>({id:e.id,leftFile:e.leftFile,rightFile:e.rightFile,similarity:e.similarity,longestFragment:e.longestFragment,totalOverlap:e.totalOverlap}))).sort(((e,r)=>r.similarity-e.similarity))}),[T]),M=[{field:"leftFile",headerName:"M\xe3 s\u1ed1 sinh vi\xean tr\xe1i",flex:1,renderCell:e=>{var i,s;return(0,B.jsx)(x.Z,{children:(null===(i=e.value)||void 0===i||null===(s=i.extra)||void 0===s?void 0:s.orgUserId)||r("code_plagiarism_not_updated")})}},{field:"rightFile",headerName:"M\xe3 s\u1ed1 sinh vi\xean ph\u1ea3i",flex:1,renderCell:e=>{var i,s;return(0,B.jsx)(x.Z,{children:(null===(i=e.value)||void 0===i||null===(s=i.extra)||void 0===s?void 0:s.orgUserId)||r("code_plagiarism_not_updated")})}},{field:"similarity",headerName:r("code_plagiarism_similarity_title"),flex:1,renderCell:e=>(0,B.jsx)(k.Z,{value:100*Number(e.value)||0})},{field:"longestFragment",headerName:r("code_plagiarism_longest_fragment_title"),flex:1},{field:"totalOverlap",headerName:r("code_plagiarism_total_overlap_title"),flex:1}],R=0===h?W.length:I.length,F=Z.useRef(null),{height:E}=(0,f.Z)({ref:F});return(0,B.jsxs)(n.ZP,{className:O.root,children:[(0,B.jsx)(p.Z,{ref:F}),(0,B.jsxs)(t.Z,{className:O.container,sx:{marginTop:"".concat(E,"px")},children:[(0,B.jsx)(o.ZP,{}),(0,B.jsx)(U,{position:"fixed",sx:{marginTop:"64px",backgroundColor:"white"},open:!1,children:(0,B.jsxs)(l.Z,{children:[(0,B.jsxs)(t.Z,{id:O.breadcumpWrapper,children:[(0,B.jsx)(P.Z,{colorname:"--blue-500",className:O.cursorPointer,onClick:()=>i(j._.lecturer.exam.code_plagiarism_detection,{state:{report:S}}),children:"T\u1ed5ng quan Ki\u1ec3m tra gian l\u1eadn"}),(0,B.jsx)(s.Z,{id:O.icArrow}),(0,B.jsx)(P.Z,{colorname:"--blue-500",className:O.cursorPointer,onClick:()=>i(j._.lecturer.exam.code_plagiarism_detection_clusters),children:"Danh s\xe1ch chia nh\xf3m"}),(0,B.jsx)(s.Z,{id:O.icArrow}),(0,B.jsx)(P.Z,{colorname:"--blue-500",children:"Chi ti\u1ebft nh\xf3m b\xe0i n\u1ed9p"})]}),(0,B.jsx)(d.Z,{color:"inherit","aria-label":"open drawer",edge:"end",sx:{display:"none"},children:(0,B.jsx)(a.Z,{color:"action"})})]})}),(0,B.jsxs)(A,{open:!0,className:O.mainContent,children:[(0,B.jsx)(D,{}),(0,B.jsx)(c.Z,{children:(0,B.jsxs)(t.Z,{component:"form",className:O.formBody,autoComplete:"off",children:[(0,B.jsx)(_.Z,{"translation-key":"code_plagiarism_file_pairs_list_title",children:"Nh\xf3m 1"}),(0,B.jsx)(x.Z,{children:"Th\xf4ng tin li\xean quan \u0111\u1ebfn nh\xf3m hi\u1ec7n t\u1ea1i."}),(0,B.jsx)(c.Z,{sx:{padding:"15px"},children:(0,B.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,B.jsx)(n.ZP,{item:!0,xs:12,children:(0,B.jsx)(H,{})}),(0,B.jsx)(n.ZP,{item:!0,xs:12,children:(0,B.jsxs)(g.Z,{value:h,onChange:(e,r)=>{w(r)},"aria-label":"tabIndex",children:[(0,B.jsx)(u.Z,{iconPosition:"start",label:"Danh s\xe1ch b\xe0i n\u1ed9p"}),(0,B.jsx)(u.Z,{iconPosition:"start",label:"Danh s\xe1ch c\u1eb7p b\xe0i n\u1ed9p"})]})}),(0,B.jsx)(n.ZP,{item:!0,xs:12,children:(0,B.jsx)(v.Z,{dataList:0===h?W:I,tableHeader:0===h?z:M,onSelectData:(e,r)=>{},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:15,totalElement:R,onPaginationModelChange:(e,r)=>{console.log(e)},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{const r=0===h?j._.lecturer.exam.code_plagiarism_detection_submissions_detail.replace(":submissionId",e.row.id):j._.lecturer.exam.code_plagiarism_detection_pairs_detail.replace(":pairId",e.row.id);i(r)}})})]})})]})})]})]})]})}},6517:(e,r,i)=>{i.d(r,{Z:()=>o});var s=i(74922),a=i(79536),n=i(80007),t=i(46417);const o=e=>{const r=e.value>75?"danger":e.value>70?"warning":"success",i=e.value>75||e.value>70?"--white":"--eerie-black-00";return(0,t.jsx)(a.Z,{sx:{backgroundColor:"var(--white)",borderRadius:"20px",width:"100%"},children:(0,t.jsx)(s.Z,{determinate:!0,variant:"outlined",color:r,size:"sm",thickness:24,value:Number(e.value),sx:{"--LinearProgress-radius":"20px","--LinearProgress-thickness":"24px"},children:(0,t.jsx)(n.Z,{colorname:i,zIndex:1,children:"".concat(Math.round(Number(e.value)),"%")})})})}},74922:(e,r,i)=>{i.d(r,{Z:()=>k});var s=i(30168),a=i(63366),n=i(87462),t=i(47313),o=i(94146),l=i(31179),d=i(8007),c=i(30686),g=i(48114),u=i(8362),m=i(19422);function h(e){return(0,m.d6)("MuiLinearProgress",e)}(0,m.sI)("MuiLinearProgress",["root","determinate","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);var p,v,_=i(60985),x=i(27810),P=i(46417);const f=["children","className","component","color","size","variant","thickness","determinate","value","style","slots","slotProps"];let Z,b;const y=(0,c.F4)(Z||(Z=p||(p=(0,s.Z)(["\n  0% {\n    left: var(--_LinearProgress-progressInset);\n    width: var(--LinearProgress-progressMinWidth);\n  }\n\n  25% {\n    width: var(--LinearProgress-progressMaxWidth);\n  }\n\n  50% {\n    left: var(--_LinearProgress-progressLeft);\n    width: var(--LinearProgress-progressMinWidth);\n  }\n\n  75% {\n    width: var(--LinearProgress-progressMaxWidth);\n  }\n\n  100% {\n    left: var(--_LinearProgress-progressInset);\n    width: var(--LinearProgress-progressMinWidth);\n  }\n"])))),L=(0,g.Z)("div",{name:"JoyLinearProgress",slot:"Root",overridesResolver:(e,r)=>r.root})((e=>{let{ownerState:r,theme:i}=e;var s,a,t,o;return(0,n.Z)({"--LinearProgress-radius":"var(--LinearProgress-thickness)","--LinearProgress-progressThickness":"var(--LinearProgress-thickness)","--LinearProgress-progressRadius":"max(var(--LinearProgress-radius) - var(--_LinearProgress-padding), min(var(--_LinearProgress-padding) / 2, var(--LinearProgress-radius) / 2))"},"sm"===r.size&&{"--LinearProgress-thickness":"4px"},"md"===r.size&&{"--LinearProgress-thickness":"6px"},"lg"===r.size&&{"--LinearProgress-thickness":"8px"},r.thickness&&{"--LinearProgress-thickness":"".concat(r.thickness,"px")},!r.determinate&&{"--LinearProgress-progressMinWidth":"calc(var(--LinearProgress-percent) * 1% / 2)","--LinearProgress-progressMaxWidth":"calc(var(--LinearProgress-percent) * 1%)","--_LinearProgress-progressLeft":"calc(100% - var(--LinearProgress-progressMinWidth) - var(--_LinearProgress-progressInset))","--_LinearProgress-progressInset":"calc(var(--LinearProgress-thickness) / 2 - var(--LinearProgress-progressThickness) / 2)"},{minBlockSize:"var(--LinearProgress-thickness)",boxSizing:"border-box",borderRadius:"var(--LinearProgress-radius)",display:"flex",justifyContent:"center",alignItems:"center",flex:1,padding:"var(--_LinearProgress-padding)",position:"relative"},null==(s=i.variants[r.variant])?void 0:s[r.color],{"--_LinearProgress-padding":"max((var(--LinearProgress-thickness) - 2 * var(--variant-borderWidth, 0px) - var(--LinearProgress-progressThickness)) / 2, 0px)","&::before":{content:'""',display:"block",boxSizing:"inherit",blockSize:"var(--LinearProgress-progressThickness)",borderRadius:"var(--LinearProgress-progressRadius)",backgroundColor:"currentColor",color:"inherit",position:"absolute"}},"soft"===r.variant&&{backgroundColor:i.variants.soft.neutral.backgroundColor,color:null==(a=i.variants.solid)?void 0:a[r.color].backgroundColor},"solid"===r.variant&&{backgroundColor:null==(t=i.variants.softHover)?void 0:t[r.color].backgroundColor,color:null==(o=i.variants.solid)?void 0:o[r.color].backgroundColor})}),(e=>{let{ownerState:r}=e;return r.determinate?{"&::before":{left:"var(--_LinearProgress-padding)",inlineSize:"calc(var(--LinearProgress-percent) * 1% - 2 * var(--_LinearProgress-padding))"}}:(0,c.iv)(b||(b=v||(v=(0,s.Z)(["\n          &::before {\n            animation: ","\n              var(--LinearProgress-circulation, 2.5s ease-in-out 0s infinite normal none running);\n          }\n        "]))),y)}),(e=>{let{ownerState:r,theme:i}=e;const{borderRadius:s,height:a}=(0,x.V)({theme:i,ownerState:r},["borderRadius","height"]);return(0,n.Z)({},void 0!==s&&{"--LinearProgress-radius":s},void 0!==a&&{"--LinearProgress-thickness":a})})),j=t.forwardRef((function(e,r){const i=(0,u.Z)({props:e,name:"JoyLinearProgress"}),{children:s,className:t,component:c,color:g="primary",size:m="md",variant:p="soft",thickness:v,determinate:x=!1,value:Z=(x?0:25),style:b,slots:y={},slotProps:j={}}=i,k=(0,a.Z)(i,f),w=(0,n.Z)({},i,{component:c,color:g,size:m,variant:p,thickness:v,value:Z,determinate:x,instanceSize:e.size}),C=(e=>{const{determinate:r,color:i,variant:s,size:a}=e,n={root:["root",r&&"determinate",i&&"color".concat((0,l.Z)(i)),s&&"variant".concat((0,l.Z)(s)),a&&"size".concat((0,l.Z)(a))]};return(0,d.Z)(n,h,{})})(w),N=(0,n.Z)({},k,{component:c,slots:y,slotProps:j}),[S,T]=(0,_.Z)("root",{ref:r,className:(0,o.Z)(C.root,t),elementType:L,externalForwardedProps:N,ownerState:w,additionalProps:(0,n.Z)({as:c,role:"progressbar",style:(0,n.Z)({},{"--LinearProgress-percent":Z},b)},"number"===typeof Z&&x&&{"aria-valuenow":Math.round(Z)})});return(0,P.jsx)(S,(0,n.Z)({},T,{children:s}))})),k=j}}]);