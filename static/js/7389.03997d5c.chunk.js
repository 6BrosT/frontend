"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[7389],{67389:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var i=n(96447),s=n(93714),a=n(47313),o=n(9019),l=n(79536),r=n(47825),c=n(9289),m=n(47131),d=n(65033),_=n(19536),u=n(16429),h=n(83929),x=n(44758),g=n(99881),p=n(33223),y=n(86138),f=n(19860),j=n(90200),Z=n(7547),S=n(15535),C=n(37735),E=n(95087),v=n(92556),A=n(63408),I=n(58467),b=n(90469),P=n(38556);const T={root:"styles_root__CJAeV",container:"styles_container__Fnrca",mainContent:"styles_mainContent__bCgCc",generalInfo:"styles_generalInfo__hDgbF",textEditor:"styles_textEditor__IT8I8",submissionTime:"styles_submissionTime__+J8ny",formBody:"styles_formBody__XCHVO",toolBar:"styles_toolBar__qx0RI",breadcumpWrapper:"styles_breadcumpWrapper__u5Y2h",icArrow:"styles_icArrow__0JM2r",cursorPointer:"styles_cursorPointer__9SYmP",drawerBody:"styles_drawerBody__xKnE7",drawerFieldContainer:"styles_drawerFieldContainer__2Qv0Q",action:"styles_action__ebJRQ",shake:"styles_shake__dLWkA",slideUp:"styles_slideUp__luZR0"};var w=n(47477),R=n(75590),O=n(70816),k=n.n(O),N=n(91603),U=n(33060),L=n(54750),D=n(46417);const z=(0,L.Z)((0,D.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");var B=n(33099),M=n(21933),F=n(62563),q=n(75627),G=n(23885),H=n(16705),Y=n(65537);function V(){var e;const{t:t,i18n:n}=(0,R.$G)(),[O,L]=(0,a.useState)((()=>G.ZP.language)),{width:V}=(0,P.Z)(),Q=(0,I.s0)(),[W,K]=((0,f.Z)(),(0,a.useState)(!0)),[J,X]=(0,a.useState)(!1),[$,ee]=(0,a.useState)([]),[te,ne]=(0,a.useState)(!0),[ie,se]=(0,a.useState)(!1),[ae,oe]=(0,a.useState)(!1),[le,re]=(0,a.useState)(!1),[ce,me]=(0,a.useState)(!1),[de,_e]=(0,a.useState)(!0),[ue,he]=(0,a.useState)(!0),[xe,ge]=(0,a.useState)(null),{courseId:pe,assignmentId:ye}=(0,I.UO)(),fe=(0,Y.v9)((e=>e.course));console.log(ue);(0,a.useEffect)((()=>{n.language!==O&&null!==Ee&&void 0!==Ee&&Ee.name&&(ve(),L(n.language))}),[n.language]);const je=(0,a.useMemo)((()=>M.Ry().shape({name:M.Z_().required("assignment_name_required"),intro:M.Z_(),activity:M.Z_(),maxScore:M.Rx().required("assignment_management_max_score_required"),timeOpen:M.Z_().required("assignment_management_allow_submission_from_date_required"),timeClose:M.Z_().required("assignment_management_submission_due_date_required"),wordLimit:M.Z_(),maxUploadedFile:M.Z_().required("assignment_management_max_uploaded_file_required"),maxFileSize:M.Z_().required("assignment_management_max_file_size_required")})),[t]),{control:Ze,handleSubmit:Se,watch:Ce,formState:{errors:Ee},trigger:ve,setValue:Ae}=(0,q.cI)({resolver:(0,F.X)(je),defaultValues:{name:"",intro:"",activity:"",maxScore:100,timeOpen:k().utc().add(0,"days").toISOString(),timeClose:k().utc().add(7,"days").toISOString(),wordLimit:"",maxUploadedFile:"20",maxFileSize:"40000"}}),Ie=(0,a.useCallback)((async e=>{try{const t=await H.Y.createIntroAttachment(e);if(t)return console.log("Create intro attachment successfully"),t}catch(t){console.log(t)}return null}),[]),be=(0,a.useCallback)((async(e,t)=>{try{await H.Y.updateIntroAttachment(e,t)&&console.log("Update intro attachment successfully")}catch(n){console.log(n)}}),[]),Pe=(0,a.useCallback)((async e=>{try{const t=await H.Y.createAssignment(e);if(t)return console.log("Create assignment successfully"),t}catch(t){console.log(t)}return null}),[]),Te=(0,a.useCallback)((async(e,t)=>{try{const n=await H.Y.updateAssignment(e,t);if(n)return console.log("Update assignment successfully"),n}catch(n){console.log(n)}return null}),[]),we=(0,a.useCallback)((async e=>{try{await H.Y.deleteIntroAttachment(e)&&console.log("Delete all intro attachment successfully")}catch(t){console.log(t)}}),[]);(0,a.useEffect)((()=>{ye&&(async e=>{try{const t=await H.Y.getAssignmentById(e);t&&ge(t)}catch(t){console.log(t)}})(ye)}),[]),(0,a.useEffect)((()=>{var e;xe&&(console.log(xe),Ae("name",xe.title),Ae("intro",xe.intro),Ae("activity",xe.activity),Ae("maxScore",xe.maxScore),Ae("timeOpen",xe.timeOpen instanceof Date?xe.timeOpen.toISOString():xe.timeOpen),Ae("timeClose",xe.timeClose instanceof Date?xe.timeClose.toISOString():xe.timeClose),Ae("wordLimit",xe.wordLimit),Ae("maxUploadedFile",xe.maxUploadFiles),Ae("maxFileSize",xe.maxFileSize),ee(null===xe||void 0===xe?void 0:xe.introAttachments.map((e=>{let t=new File([""],e.fileName,{type:e.mimetype,lastModified:(new Date).getTime()});return{id:e.id,name:e.fileName,size:e.fileSize,type:e.mimetype,downloadUrl:e.fileUrl,imageUrl:e.fileUrl,file:t,uploadStatus:"success"}})))),he(null===(e=null===xe||void 0===xe?void 0:xe.allowSubmitLate)||void 0===e||e)}),[xe]),(0,a.useEffect)((()=>{K(!(V<1080))}),[V]);const Re=(0,a.useRef)(null),{height:Oe}=(0,w.Z)({ref:Re}),ke=(0,a.useRef)(null),{height:Ne}=(0,w.Z)({ref:ke}),Ue=Array.from({length:20},((e,t)=>({value:(t+1).toString(),label:(t+1).toString()}))),Le=[{value:"10",label:"10 KB"},{value:"50",label:"50 KB"},{value:"100",label:"100 KB"},{value:"500",label:"500 KB"},{value:"1000",label:"1 MB"},{value:"2000",label:"2 MB"},{value:"5000",label:"5 MB"},{value:"10000",label:"10 MB"},{value:"20000",label:"20 MB"},{value:"40000",label:"40 MB"}],[De,ze]=(0,a.useState)(!1),[Be,Me]=(0,a.useState)(!1);return(0,D.jsxs)(o.ZP,{className:T.root,children:[(0,D.jsx)(j.Z,{ref:Re}),(0,D.jsx)(l.Z,{sx:{marginTop:"".concat(Oe,"px")},className:T.container,children:(0,D.jsxs)(r.Z,{children:[(0,D.jsx)(c.Z,{className:T.toolBar,children:(0,D.jsxs)(l.Z,{id:T.breadcumpWrapper,children:[(0,D.jsx)(A.Z,{colorname:"--blue-500",className:T.cursorPointer,onClick:()=>Q(b._.lecturer.course.management),"translation-key":"common_course_management",children:t("common_course_management")}),(0,D.jsx)(i.Z,{id:T.icArrow}),(0,D.jsx)(A.Z,{colorname:"--blue-500",className:T.cursorPointer,onClick:()=>Q(b._.lecturer.course.information.replace(":courseId",null!==pe&&void 0!==pe?pe:"")),children:null===(e=fe.courseDetail)||void 0===e?void 0:e.name}),(0,D.jsx)(i.Z,{id:T.icArrow}),(0,D.jsx)(A.Z,{colorname:"--blue-500",className:T.cursorPointer,onClick:()=>Q(b._.lecturer.course.assignment.replace(":courseId",null!==pe&&void 0!==pe?pe:"")),"translation-key":"course_detail_assignment_list",children:t("course_detail_assignment_list")}),(0,D.jsx)(i.Z,{id:T.icArrow}),xe?(0,D.jsx)(A.Z,{colorname:"--blue-500","translation-key":"assignment_management_update_assignment",children:t("assignment_management_update_assignment")}):(0,D.jsx)(A.Z,{colorname:"--blue-500","translation-key":"assignment_management_create_assignment",children:t("assignment_management_create_assignment")})]})}),(0,D.jsxs)("form",{className:T.mainContent,style:{height:"calc(100% - ".concat(Ne+Oe,"px)"),marginTop:"".concat(Ne,"px")},onSubmit:Se((async e=>{if(!ce&&!de)return re(!0),void setTimeout((()=>re(!1)),2e3);X(!0);const t={...e},{name:n,intro:i,activity:s,maxScore:a,timeOpen:o,timeClose:l,wordLimit:r,maxUploadedFile:c,maxFileSize:m}=t;let d=[],_=[];try{if(xe){const e=xe.introAttachments||[],t=$.filter((t=>!e.some((e=>e.id===t.id)))),n=e.filter((e=>!$.some((t=>t.id===e.id))));for(const i of n)await we(i.id);for(const i of t){const e={fileName:i.name||"",fileUrl:i.downloadUrl||"",fileSize:i.size||0,mimeType:i.type||"",timeModified:(new Date).toISOString()},t=await Ie(e);t&&(d.push(e),_.push(t.id))}}else for(const t of $){const e={fileName:t.name||"",fileUrl:t.downloadUrl||"",fileSize:t.size||0,mimeType:t.type||"",timeModified:(new Date).toISOString()},n=await Ie(e);n&&(d.push(e),_.push(n.id))}let e;if(xe?(console.log(xe.id),e=await Te({title:n,intro:i,activity:s,wordLimit:r,maxUploadFiles:c,maxFileSize:m,maxScore:a,timeOpen:o,timeClose:l,type:ce&&de?"BOTH":ce?"TEXT_ONLINE":"FILE",visible:!0,allowSubmitLate:ue},xe.id)):e=await Pe({courseId:null!==pe&&void 0!==pe?pe:"",title:n,intro:i,activity:s,wordLimit:r,maxUploadFiles:c,maxFileSize:m,maxScore:a,timeOpen:o,timeClose:l,type:ce&&de?"BOTH":ce?"TEXT_ONLINE":"FILE",visible:!0,allowSubmitLate:ue}),e&&d.length>0)for(let t=0;t<d.length;t++){const n={...d[t],assignmentId:e.assignmentId};console.log("temp",n),await be(n,_[t])}}catch(u){Me(!0)}finally{X(!1),ze(!0),setTimeout((()=>{Q(b._.lecturer.course.assignment.replace(":courseId",null!==pe&&void 0!==pe?pe:""))}),2e3)}})),children:[xe?(0,D.jsx)(U.Z,{"translation-key":"assignment_management_update_assignment",children:t("assignment_management_update_assignment")}):(0,D.jsx)(U.Z,{"translation-key":"assignment_management_create_assignment",children:t("assignment_management_create_assignment")}),(0,D.jsxs)(l.Z,{className:T.generalInfo,children:[(0,D.jsxs)(l.Z,{display:"flex",alignItems:"center",margin:1,children:[te?(0,D.jsx)(m.Z,{sx:{padding:"5px"},onClick:()=>ne(!te),children:(0,D.jsx)(s.Z,{style:{fontSize:30}})}):(0,D.jsx)(m.Z,{sx:{padding:"5px"},onClick:()=>ne(!te),children:(0,D.jsx)(z,{style:{fontSize:30}})}),(0,D.jsx)(B.Z,{fontWeight:500,"translation-key":"common_general",children:t("common_general")})]}),(0,D.jsx)(d.Z,{in:te,timeout:"auto",unmountOnExit:!0,children:(0,D.jsxs)(l.Z,{display:"flex",flexDirection:"column",alignItems:"center",gap:2,marginLeft:3,marginBottom:2,children:[(0,D.jsx)(q.Qr,{defaultValue:"",control:Ze,name:"name",rules:{required:!0},render:e=>{var n;let{field:{ref:i,...s}}=e;return(0,D.jsx)(N.Z,{titleAlignment:"horizontal",error:Boolean(null===Ee||void 0===Ee?void 0:Ee.name),errorMessage:null===(n=Ee.name)||void 0===n?void 0:n.message,title:t("common_assignment_name"),type:"text",placeholder:t("common_assignment_enter_name"),titleRequired:!0,"translation-key":["common_assignment_name","common_assignment_enter_name","assignment_name_required"],inputRef:i,...s})}}),(0,D.jsxs)(o.ZP,{container:!0,spacing:1,columns:12,children:[(0,D.jsx)(o.ZP,{item:!0,xs:3,children:(0,D.jsx)(A.Z,{"translation-key":"common_assignment_description",children:t("common_assignment_description")})}),(0,D.jsx)(o.ZP,{item:!0,xs:9,className:T.textEditor,"translation-key":"common_enter_description",children:(0,D.jsx)(q.Qr,{control:Ze,name:"intro",render:e=>{let{field:n}=e;return(0,D.jsx)(v.Z,{openDialog:!0,roundedBorder:!0,placeholder:t("common_enter_description")+"...",onChange:n.onChange,value:n.value||""})}})})]}),(0,D.jsxs)(o.ZP,{container:!0,spacing:1,columns:12,children:[(0,D.jsx)(o.ZP,{item:!0,xs:3,children:(0,D.jsx)(A.Z,{"translation-key":"common_assignment_guide",children:t("common_assignment_guide")})}),(0,D.jsx)(o.ZP,{item:!0,xs:9,className:T.textEditor,"translation-key":"common_enter_guideline",children:(0,D.jsx)(q.Qr,{control:Ze,name:"activity",render:e=>{let{field:n}=e;return(0,D.jsx)(v.Z,{openDialog:!0,roundedBorder:!0,placeholder:t("common_enter_guideline")+"...",...n,value:n.value||""})}})})]}),(0,D.jsxs)(o.ZP,{container:!0,spacing:1,columns:12,children:[(0,D.jsx)(o.ZP,{item:!0,xs:3,children:(0,D.jsx)(A.Z,{"translation-key":"asingment_management_attach_file",children:t("asingment_management_attach_file")})}),(0,D.jsx)(o.ZP,{item:!0,xs:9,children:(0,D.jsx)(E.Z,{extFiles:$,setExtFiles:ee})})]})]})})]}),(0,D.jsx)(_.Z,{}),(0,D.jsxs)(l.Z,{className:T.submissionTime,children:[(0,D.jsxs)(l.Z,{display:"flex",alignItems:"center",margin:1,children:[ie?(0,D.jsx)(m.Z,{sx:{padding:"5px"},onClick:()=>se(!ie),children:(0,D.jsx)(s.Z,{style:{fontSize:30}})}):(0,D.jsx)(m.Z,{sx:{padding:"5px"},onClick:()=>se(!ie),children:(0,D.jsx)(z,{style:{fontSize:30}})}),(0,D.jsx)(B.Z,{"translation-key":"common_time_setting",fontWeight:500,children:t("common_time_setting")})]}),(0,D.jsx)(d.Z,{in:ie,timeout:"auto",unmountOnExit:!0,children:(0,D.jsxs)(l.Z,{display:"flex",flexDirection:"column",alignItems:"center",gap:2,marginLeft:3,marginBottom:2,children:[(0,D.jsxs)(o.ZP,{container:!0,spacing:1,columns:12,children:[(0,D.jsx)(o.ZP,{item:!0,xs:3,children:(0,D.jsx)(A.Z,{"translation-key":"asingment_management_allow_time",children:t("asingment_management_allow_time")})}),(0,D.jsx)(o.ZP,{item:!0,xs:9,children:(0,D.jsx)(q.Qr,{control:Ze,name:"timeOpen",rules:{required:!0},render:e=>{let{field:{ref:t,...n}}=e;return(0,D.jsx)(S.Z,{value:k()(n.value),onHandleValueChange:e=>{e&&Ae("timeOpen",e.toISOString())}})}})})]}),(0,D.jsxs)(o.ZP,{container:!0,spacing:1,columns:12,children:[(0,D.jsx)(o.ZP,{item:!0,xs:3,children:(0,D.jsx)(A.Z,{"translation-key":"asingment_management_deadline",children:t("asingment_management_deadline")})}),(0,D.jsx)(o.ZP,{item:!0,xs:9,children:(0,D.jsx)(q.Qr,{control:Ze,name:"timeClose",rules:{required:!0},render:e=>{let{field:{ref:t,...n}}=e;return(0,D.jsx)(S.Z,{value:k()(n.value),onHandleValueChange:e=>{e&&Ae("timeClose",e.toISOString())}})}})})]}),(0,D.jsxs)(o.ZP,{container:!0,spacing:1,columns:12,children:[(0,D.jsx)(o.ZP,{item:!0,xs:3}),(0,D.jsx)(o.ZP,{item:!0,xs:9,children:(0,D.jsx)(u.Z,{style:{flexDirection:"row"},children:(0,D.jsx)(h.Z,{"translation-key":"common_allow_submission_after_end_time",control:(0,D.jsx)(x.Z,{checked:ue,onChange:e=>he(e.target.checked),name:"textSubmission"}),label:t("common_allow_submission_after_end_time")})})})]})]})})]}),(0,D.jsx)(_.Z,{}),(0,D.jsxs)(l.Z,{className:T.submissionType,children:[(0,D.jsxs)(l.Z,{display:"flex",alignItems:"center",margin:1,children:[ae?(0,D.jsx)(m.Z,{sx:{padding:"5px"},onClick:()=>oe(!ae),children:(0,D.jsx)(s.Z,{style:{fontSize:30}})}):(0,D.jsx)(m.Z,{sx:{padding:"5px"},onClick:()=>oe(!ae),children:(0,D.jsx)(z,{style:{fontSize:30}})}),(0,D.jsx)(B.Z,{"translation-key":"common_submission_type",fontWeight:500,children:t("common_submission_type")})]}),(0,D.jsx)(d.Z,{in:ae,timeout:"auto",unmountOnExit:!0,children:(0,D.jsxs)(l.Z,{display:"flex",flexDirection:"column",gap:2,marginLeft:3,marginBottom:2,children:[(0,D.jsxs)(o.ZP,{container:!0,children:[(0,D.jsx)(o.ZP,{item:!0,xs:3,alignContent:"center",children:(0,D.jsx)(A.Z,{"translation-key":"common_submission_type",children:t("common_submission_type")})}),(0,D.jsxs)(o.ZP,{item:!0,xs:9,style:{position:"relative"},children:[(0,D.jsxs)(u.Z,{style:{flexDirection:"row"},children:[(0,D.jsx)(h.Z,{"translation-key":"common_submission_type_online_text",control:(0,D.jsx)(x.Z,{checked:ce,onChange:e=>{me(e.target.checked)},name:"textSubmission"}),label:t("common_submission_type_online_text")}),(0,D.jsx)(h.Z,{"translation-key":"common_submission_type_file",control:(0,D.jsx)(x.Z,{checked:de,onChange:e=>{_e(e.target.checked)},name:"fileSubmission"}),label:t("common_submission_type_file")})]}),le&&(0,D.jsx)(g.Z,{className:le?T.shake:T.slideUp,severity:"error",sx:{position:"absolute",top:-50,zIndex:9999},children:"H\xe3y ch\u1ecdn lo\u1ea1i b\xe0i t\u1eadp"})]})]}),ce&&(0,D.jsx)(q.Qr,{control:Ze,name:"wordLimit",render:e=>{var n;let{field:i}=e;return(0,D.jsx)(N.Z,{"translation-key":"common_enter_word_limit",widthInput:"200px",error:Boolean(null===Ee||void 0===Ee?void 0:Ee.wordLimit),errorMessage:null===(n=Ee.wordLimit)||void 0===n?void 0:n.message,titleAlignment:"horizontal",title:t("common_word_limit"),type:"number",placeholder:t("common_enter_word_limit"),...i,value:i.value||""})}}),de&&(0,D.jsxs)(o.ZP,{container:!0,children:[(0,D.jsx)(o.ZP,{item:!0,xs:3,alignContent:"center",children:(0,D.jsx)(A.Z,{"translation-key":"common_max_upload_file",children:t("common_max_upload_file")})}),(0,D.jsx)(o.ZP,{item:!0,xs:9,children:(0,D.jsx)(q.Qr,{control:Ze,defaultValue:"40000",name:"maxUploadedFile",render:e=>{let{field:{onChange:t,value:n}}=e;return(0,D.jsx)(C.Z,{labelId:"maxUploadedFile",width:"50px",borderRadius:"12px",title:"Max number of uploaded files",onHandleChange:t,value:n,items:Ue})}})})]}),de&&(0,D.jsxs)(o.ZP,{container:!0,children:[(0,D.jsx)(o.ZP,{item:!0,xs:3,alignContent:"center",children:(0,D.jsx)(A.Z,{"translation-key":"common_max_submission_file_size",children:t("common_max_submission_file_size")})}),(0,D.jsx)(o.ZP,{item:!0,xs:9,children:(0,D.jsx)(q.Qr,{control:Ze,name:"maxFileSize",render:e=>{let{field:{onChange:t,value:n}}=e;return(0,D.jsx)(C.Z,{labelId:"maxFileSize",width:"50px",borderRadius:"12px",title:"Maximum submission size",value:n,onHandleChange:t,items:Le})}})})]}),(0,D.jsx)(q.Qr,{control:Ze,name:"maxScore",render:e=>{var n;let{field:i}=e;return(0,D.jsx)(N.Z,{widthInput:"200px",titleAlignment:"horizontal",title:t("assignment_management_max_score"),type:"number",placeholder:"Nh\u1eadp \u0111i\u1ec3m t\u1ed1i \u0111a",error:Boolean(Ee.maxScore),errorMessage:null===(n=Ee.maxScore)||void 0===n?void 0:n.message,...i})}})]})})]}),(0,D.jsx)(_.Z,{}),(0,D.jsx)(l.Z,{className:T.action,children:(0,D.jsxs)(l.Z,{display:"flex",justifyContent:"center",gap:2,children:[(0,D.jsx)(Z.Z,{variant:"contained",loading:J,type:"submit","translation-key":"common_save",children:t("common_save")}),(0,D.jsx)(p.Z,{type:"button",color:"inherit",onClick:()=>Q(b._.lecturer.course.assignment),"translation-key":"common_cancel",children:t("common_cancel")})]})})]})]})}),(0,D.jsx)(y.Z,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:De,autoHideDuration:6e3,onClose:()=>ze(!1),children:(0,D.jsx)(g.Z,{severity:"success",sx:{width:"100%"},onClose:()=>ze(!1),children:t(xe?"update_successful_assignment":"create_successful_assignment")})}),(0,D.jsx)(y.Z,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:Be,autoHideDuration:6e3,onClose:()=>Me(!1),children:(0,D.jsx)(g.Z,{severity:"error",sx:{width:"100%"},onClose:()=>Me(!1),children:t("create_failed_assignment")})})]})}},16705:(e,t,n)=>{n.d(t,{Y:()=>o});var i=n(66010),s=n(65005);const a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH_SERVICE_API_URL:"http://localhost:8182",REACT_APP_CLOUDINARY_NAME:"doofq4jvp",REACT_APP_CLOUDINARY_PRESET:"fiwp8e1e",REACT_APP_CODE_ASSESSMENT_SERVICE_API_URL:"http://localhost:8183",REACT_APP_CODE_PLAGIARISM_DETECTION_API_URL:"http://localhost:4000/api/v1",REACT_APP_GATEWAY_SERVICE_API_URL:"https://api.codedynamite.click",REACT_APP_GOOGLE_CLIENT_ID:"132336113026-k11rr8icghmocc6ve3e84rsvr3q5apum.apps.googleusercontent.com",REACT_APP_GOOGLE_GEMINI_AI_KEY:"AIzaSyCzF7o3Z3RTO8Bqo6s18Yj18WyFeqZrvVM",REACT_APP_JUDE0_URL:"https://judge.codedynamite.click",REACT_APP_JUDGE0_IP:"https://judge.codedynamite.click/",REACT_APP_MICROSOFT_CLIENT_ID:"e5bc1d80-da68-470f-8fe5-732a71a3a23d",REACT_APP_MICROSOFT_REDIRECT_URL:"http://localhost:3000"}.REACT_APP_COURSE_SERVICE_API_URL||"";class o{static async handleResponse(e){if(e.status>=200&&e.status<300)return e.data;throw new Error("Unexpected response status: ".concat(e.status))}static handleError(e){var t,n,i,s,a,o;return console.error("API call failed",e),Promise.reject({code:(null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)||503,status:(null===(i=e.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.status)||"Service Unavailable",message:(null===(a=e.response)||void 0===a||null===(o=a.data)||void 0===o?void 0:o.message)||e.message})}static async getAssignmentsByCourseId(e){try{const t=await this.apiClient.get("".concat(i.b.COURSE.ASSIGNMENT.DEFAULT),{params:{courseId:e}});return this.handleResponse(t)}catch(t){return this.handleError(t)}}static async getAssignmentById(e){try{const t=await this.apiClient.get("".concat(i.b.COURSE.ASSIGNMENT.GET_BY_ID.replace(":id",e)));return this.handleResponse(t)}catch(t){return this.handleError(t)}}static async createAssignment(e){try{const t=await this.apiClient.post(i.b.COURSE.ASSIGNMENT.CREATE,e);return this.handleResponse(t)}catch(t){return this.handleError(t)}}static async updateAssignment(e,t){try{const n=await this.apiClient.put(i.b.COURSE.ASSIGNMENT.UPDATE_BY_ID.replace(":id",t),e);return this.handleResponse(n)}catch(n){return this.handleError(n)}}static async deleteAssignment(e){try{const t=await this.apiClient.delete(i.b.COURSE.ASSIGNMENT.DELETE_BY_ID.replace(":id",e));return this.handleResponse(t)}catch(t){return this.handleError(t)}}static async createIntroAttachment(e){try{const t=await this.apiClient.post(i.b.COURSE.ASSIGNMENT.INTRO_ATTACHMENT,e);return this.handleResponse(t)}catch(t){return this.handleError(t)}}static async updateIntroAttachment(e,t){try{const n=await this.apiClient.put("".concat(i.b.COURSE.ASSIGNMENT.INTRO_ATTACHMENT,"/").concat(t),e);return this.handleResponse(n)}catch(n){return this.handleError(n)}}static async deleteIntroAttachment(e){try{const t=await this.apiClient.delete("".concat(i.b.COURSE.ASSIGNMENT.INTRO_ATTACHMENT,"/").concat(e));return this.handleResponse(t)}catch(t){return this.handleError(t)}}}o.apiClient=(0,s.Z)({baseURL:a,isAuthorization:!0})}}]);