"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[4496],{74496:(e,n,i)=>{i.r(n),i.d(n,{default:()=>H});var t=i(89790),o=i(54045),r=i(61317),a=i(9019),s=i(79536),l=i(62481),c=i(9289),d=i(47131),u=i(73428),h=i(46923),x=i(19536),m=i(66212),p=i(75908),g=i(17592),_=i(19860),v=i(90200),Z=i(99140),j=i(7547),f=i(16977),w=i(92556),y=i(80007),C=i(99221),S=i(47313),N=i(58467),b=i(38556);const F={root:"styles_root__LlXZa",container:"styles_container__aCHC1",mainContent:"styles_mainContent__HZbie",formBody:"styles_formBody__I-Hdf",drawerBody:"styles_drawerBody__as55R",drawerFieldContainer:"styles_drawerFieldContainer__lRJtJ",textEditor:"styles_textEditor__tsm0g",breadcumpWrapper:"styles_breadcumpWrapper__7VE9P",icArrow:"styles_icArrow__UNWfa",cursorPointer:"styles_cursorPointer__Mssol",assignmentDetail:"styles_assignmentDetail__YIWOo",chip:"styles_chip__jxMms",name:"styles_name__QEZrz",card:"styles_card__iHrgE"};var k=i(90469),E=i(63408),P=i(96447),O=i(47477),R=i(15305),T=i(19187),A=i(49648),B=i(46417);const D=450,I=(0,g.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:n,open:i}=e;return{flexGrow:1,width:"calc(100% - ".concat(D,"px)"),padding:n.spacing(3),transition:n.transitions.create("margin",{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),marginRight:-D,...i&&{transition:n.transitions.create("margin",{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginRight:0},position:"relative"}})),W=(0,g.ZP)(p.Z,{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:n,open:i}=e;return{transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.sharp,duration:n.transitions.duration.leavingScreen}),...i&&{width:"calc(100% - ".concat(D,"px)"),transition:n.transitions.create(["margin","width"],{easing:n.transitions.easing.easeOut,duration:n.transitions.duration.enteringScreen}),marginRight:D}}})),M=(0,g.ZP)("div")((e=>{let{theme:n}=e;return{display:"flex",alignItems:"center",padding:n.spacing(0,1),...n.mixins.toolbar,justifyContent:"flex-start"}}));function H(){const{width:e}=(0,b.Z)(),n=(0,N.s0)(),i=(0,_.Z)(),p=JSON.parse(localStorage.getItem("feedback")||"{}"),g=JSON.parse(localStorage.getItem("answer")||"{}"),H=JSON.parse(localStorage.getItem("question")||"{}"),[J,q]=S.useState(!0),[K,Y]=S.useState(100),[L,V]=S.useState(!1),[X,z]=S.useState(""),[G,Q]=S.useState(g);S.useEffect((()=>{q(!(e<1080))}),[e]);const U=S.useRef(null),{height:$}=(0,O.Z)({ref:U}),ee=S.useRef(null),{height:ne}=(0,O.Z)({ref:ee});return S.useEffect((()=>{if(p){const a=null===p||void 0===p?void 0:p.feedback;if(a){var e,n,i,t,o,r;const s="\n#### 1. N\u1ed9i dung (".concat(null===a||void 0===a||null===(e=a.content)||void 0===e?void 0:e.score.toFixed(2),"/").concat((A.q.CONTENT_FEEDBACK*(null===H||void 0===H?void 0:H.maxScore)).toFixed(2),"):\n").concat(null===a||void 0===a||null===(n=a.content)||void 0===n?void 0:n.content,"\n\n#### 2. H\xecnh th\u1ee9c (").concat(null===a||void 0===a||null===(i=a.form)||void 0===i?void 0:i.score.toFixed(2),"/").concat((A.q.FORM_FEEDBACK*(null===H||void 0===H?void 0:H.maxScore)).toFixed(2),"):\n").concat(null===a||void 0===a||null===(t=a.form)||void 0===t?void 0:t.content,"\n\n#### 3. Phong c\xe1ch (").concat(null===a||void 0===a||null===(o=a.style)||void 0===o?void 0:o.score.toFixed(2),"/").concat((A.q.STYLE_FEEDBACK*(null===H||void 0===H?void 0:H.maxScore)).toFixed(2),"):\n").concat(null===a||void 0===a||null===(r=a.style)||void 0===r?void 0:r.content,"\n\n").concat(null===a||void 0===a?void 0:a.overall,"\n");z(s)}Y(null===p||void 0===p?void 0:p.current_final_grade)}}),[p,null===H||void 0===H?void 0:H.maxScore]),(0,B.jsxs)(a.ZP,{className:F.root,children:[(0,B.jsx)(v.Z,{ref:U}),(0,B.jsxs)(s.Z,{className:F.container,sx:{marginTop:"".concat($,"px"),height:"calc(100% - ".concat($,"px)")},children:[(0,B.jsx)(l.ZP,{}),(0,B.jsx)(W,{position:"fixed",sx:{top:"".concat($,"px"),backgroundColor:"white"},ref:ee,open:J,children:(0,B.jsxs)(c.Z,{children:[(0,B.jsxs)(s.Z,{id:F.breadcumpWrapper,children:[(0,B.jsx)(E.Z,{colorname:"--blue-500",className:F.cursorPointer,onClick:()=>n(k._.lecturer.exam.submissions),children:"Danh s\xe1ch b\xe0i n\u1ed9p"}),(0,B.jsx)(P.Z,{id:F.icArrow}),(0,B.jsx)(E.Z,{colorname:"--blue-500",className:F.cursorPointer,onClick:()=>n(k._.lecturer.exam.ai_scroring),children:"Ch\u1ea5m \u0111i\u1ec3m AI"})," ",(0,B.jsx)(P.Z,{id:F.icArrow}),(0,B.jsx)(E.Z,{colorname:"--blue-500",children:"Xem chi ti\u1ebft"})]}),(0,B.jsx)(d.Z,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:()=>{q(!0)},sx:{...J&&{display:"none"}},children:(0,B.jsx)(r.Z,{color:"action"})})]})}),(0,B.jsxs)(I,{open:J,className:F.mainContent,sx:{height:"calc(100% - ".concat(ne,"px)"),marginTop:"".concat(ne,"px"),overflow:"auto"},children:[(0,B.jsx)(R.Z,{value:null===H||void 0===H?void 0:H.content,readOnly:!0,minRows:2,maxRows:3,sx:{backgroundColor:"white"}}),(0,B.jsx)(u.Z,{className:F.card,children:(0,B.jsx)(w.Z,{value:G,readOnly:!0})}),(0,B.jsx)(s.Z,{className:F.textEditor,"data-color-mode":"light",children:(0,B.jsx)(T.ZP.Markdown,{source:X,className:F.markdown})})]}),(0,B.jsxs)(h.ZP,{sx:{width:D,flexShrink:0,"& .MuiDrawer-paper":{width:D,position:"fixed",top:"".concat($,"px"),height:"calc(100% - ".concat($,"px)"),overflowY:"hidden"}},variant:"persistent",anchor:"right",open:J,children:[(0,B.jsx)(M,{children:(0,B.jsx)(d.Z,{onClick:()=>{q(!1)},children:"rtl"===i.direction?(0,B.jsx)(t.Z,{}):(0,B.jsx)(o.Z,{})})}),(0,B.jsx)(x.Z,{}),(0,B.jsxs)(s.Z,{className:F.drawerBody,children:[(0,B.jsxs)(s.Z,{className:F.drawerFieldContainer,children:[(0,B.jsx)(C.Z,{children:"D\u1ea1ng b\xe0i t\u1eadp"}),(0,B.jsx)(m.Z,{className:F.chip,label:"T\u1ef1 lu\u1eadn"})]}),(0,B.jsxs)(s.Z,{className:F.drawerFieldContainer,children:[(0,B.jsx)(C.Z,{children:"Sinh vi\xean"}),(0,B.jsxs)(s.Z,{className:F.name,children:[(0,B.jsx)(C.Z,{fontWeight:"500",children:p.student_name}),(0,B.jsx)(y.Z,{colorname:"--gray-50",children:"MSSV: 123456789"})]})]}),(0,B.jsxs)(s.Z,{className:F.drawerFieldContainer,children:[(0,B.jsxs)(C.Z,{children:["\u0110i\u1ec3m tr\xean thang \u0111i\u1ec3m ",null===H||void 0===H?void 0:H.maxScore]}),(0,B.jsx)(f.Z,{type:"number",value:K,onChange:e=>Y(parseInt(e.target.value)),placeholder:"Nh\u1eadp \u0111i\u1ec3m t\u1ed1i \u0111a",fullWidth:!0})]}),(0,B.jsx)(j.Z,{btnType:Z.s.Outlined,fullWidth:!0,style:{marginTop:"20px"},padding:"10px",loading:L,onClick:function(){V(!0),setTimeout((()=>{V(!1)}),1e3)},children:"\u0110\xe1nh gi\xe1"})]})]})]})]})}}}]);