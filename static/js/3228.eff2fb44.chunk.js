"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[3228],{50761:(e,t,s)=>{s.r(t),s.d(t,{default:()=>Is});var n=s(9019),a=s(79536),i=s(47313);const r="styles_root__rYXbf",o="styles_container__w2fbP",l="styles_body__UOB0Y";var c=s(51765),d=s(46923),m=s(17592),u=s(90200),_=s(90469),x=s(86659);const g="styles_drawer__Mq4rF",h="styles_itemIcon__gglaO";var p=s(87258),y=s(47477),j=s(65537),v=s(31825),Z=s(46417);const f=270,b=[{name:"Trang ch\u1ee7",icon:(0,Z.jsx)(c.Z,{className:h}),link:_._.student.course.management},{name:"L\u1ecbch",icon:(0,Z.jsx)(p.Qu,{className:h}),link:_._.student.calendar}],I=(0,m.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:s}=e;return{flexGrow:1,width:"calc(100% - ".concat(f,"px)"),overflow:"auto",padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(f,"px"),...s&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}}));function D(e){let{children:t}=e;const[s,n]=i.useState(!0),r=(0,j.I0)(),o=(0,i.useRef)(null),{height:l}=(0,y.Z)({ref:o});return(0,Z.jsxs)(a.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,Z.jsx)(u.Z,{toggleDrawer:()=>{n((e=>!e)),r((0,v.G)())},ref:o}),(0,Z.jsx)(d.ZP,{className:g,sx:{width:f,flexShrink:0,"& .MuiDrawer-paper":{width:f}},variant:"persistent",anchor:"left",open:s,children:(0,Z.jsx)(x.Z,{sideBarItem:b})}),(0,Z.jsx)(I,{open:s,sx:{marginTop:"".concat(l,"px"),height:"calc(100% - ".concat(l,"px)")},children:t})]})}var w=s(58467),C=s(5124);const T={cardContainer:"styles_cardContainer__2ajk5",topGroup:"styles_topGroup__8RAwc",detailGroup:"styles_detailGroup__eMAAn",cardDivider:"styles_cardDivider__OoVSO",moreButton:"styles_moreButton__Px59T",listWrapper:"styles_listWrapper__MFNfD",listItem:"styles_listItem__HNrwv"};var k=s(48119),S=s(19536),N=s(48310),A=s(90891),M=s(2135),P=s(67216),B=s(83213),E=s(32600),G=s(33223),U=s(49709),W=s(78041),Q=s(75590),L=s(38037),R=s(68464);const F=(0,m.ZP)((e=>{let{className:t,...s}=e;return(0,Z.jsx)(U.Z,{...s,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{["& .".concat(W.Z.tooltip)]:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #dadde9"}}})),O=e=>{const{t:t}=(0,Q.$G)();return(0,Z.jsxs)(n.ZP,{className:T.cardContainer,children:[(0,Z.jsx)(a.Z,{className:T.topGroup,children:(0,Z.jsx)(a.Z,{className:T.detailGroup,children:(0,Z.jsx)(L.Z,{children:e.courseCategory})})}),(0,Z.jsx)(S.Z,{className:T.cardDivider}),(0,Z.jsxs)(N.Z,{className:T.listWrapper,children:[(0,Z.jsx)(R.Z,{className:T.courseNameText,colorname:"--blue-3",children:(0,Z.jsx)(A.Z,{component:M.rU,to:_._.student.course.information.replace(":courseId",e.courseId),underline:"hover",color:"inherit",children:e.courseName})}),e.teacherList.slice(0,2).map((e=>(0,Z.jsxs)(P.ZP,{className:T.listItem,children:[(0,Z.jsx)(E.Z,{children:(0,Z.jsx)(k.Z,{alt:e.firstName,src:""})}),(0,Z.jsx)(B.Z,{primary:(0,Z.jsxs)(A.Z,{component:M.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))]}),e.teacherList.length>2?(0,Z.jsx)(F,{placement:"right-end",title:(0,Z.jsx)(N.Z,{children:e.teacherList.map((e=>(0,Z.jsxs)(P.ZP,{className:T.tooltipTeacherList,children:[(0,Z.jsx)(E.Z,{children:(0,Z.jsx)(k.Z,{alt:e.firstName,src:""})}),(0,Z.jsx)(B.Z,{primary:(0,Z.jsxs)(A.Z,{component:M.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))}),slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-14]}}]}},children:(0,Z.jsx)(G.Z,{className:T.moreButton,"translation-key":"course_see_all_teacher",children:t("course_see_all_teacher")})}):null]})},z={pageTitle:"styles_pageTitle__ILFgQ",featureGroup:"styles_featureGroup__kKo7W",changeViewButtonGroup:"styles_changeViewButtonGroup__xVORm",filterContainer:"styles_filterContainer__ioJH4",coursesBody:"styles_coursesBody__AnqJ+"};var H=s(55719),Y=s(43960),V=s(30961),$=s(48571);const K={container:"styles_container__uG1Au",courseInfo:"styles_courseInfo__mt0th",teacherItemText:"styles_teacherItemText__wUsgF",teacherListGridContainer:"styles_teacherListGridContainer__YRKxT",teacherAvatarContainer:"styles_teacherAvatarContainer__eVodn",teacherAvatar:"styles_teacherAvatar__oS9kv",primaryTeacherText:"styles_primaryTeacherText__0chUn",secondaryTeacherText:"styles_secondaryTeacherText__Drrwe"},J=e=>(0,Z.jsx)(n.ZP,{className:K.container,children:(0,Z.jsx)(n.ZP,{container:!0,spacing:1,children:(0,Z.jsxs)(n.ZP,{item:!0,xs:12,container:!0,direction:"column",children:[(0,Z.jsx)(n.ZP,{item:!0,xs:!0,className:K.courseInfo,children:(0,Z.jsx)(a.Z,{className:K.courseInfoWrapper,children:(0,Z.jsx)(L.Z,{gutterBottom:!0,variant:"subtitle1",colorname:"--blue-3",children:(0,Z.jsxs)(A.Z,{component:M.rU,to:_._.student.course.information.replace(":courseId",e.courseId),underline:"hover",color:"inherit",children:[e.courseName," - ",e.courseCategory]})})})}),(0,Z.jsx)(n.ZP,{item:!0,xs:!0,className:K.teacherListGridContainer,children:e.teacherList.map((e=>(0,Z.jsxs)(P.ZP,{children:[(0,Z.jsx)(E.Z,{className:K.teacherAvatarContainer,children:(0,Z.jsx)(k.Z,{className:K.teacherAvatar,alt:e.firstName,src:""})}),(0,Z.jsx)(B.Z,{classes:{primary:K.primaryTeacherText,secondary:K.secondaryTeacherText},primary:(0,Z.jsxs)(A.Z,{component:M.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))})]})})});var q=s(96743),X=s(31845),ee=s(85281),te=s(6968),se=s(4094),ne=s(1229),ae=function(e){return e[e.cardView=1]="cardView",e[e.listView=2]="listView",e}(ae||{});const ie=()=>{const[e,t]=(0,i.useState)(""),[s,r]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!1),[m,u]=(0,i.useState)([]),[_,x]=(0,i.useState)(ae.listView),{loggedUser:g}=(0,ne.Z)(),h=(0,i.useCallback)((async()=>{d(!0);try{const e=await te._.getCourseTypes();r(e.courseTypes)}catch(e){console.error("Failed to fetch course types",e)}finally{d(!1)}}),[]),p=(0,i.useCallback)((async t=>{let{search:s=e,courseType:n=m,pageNo:a=0,pageSize:i=10}=t;if(null!==g&&void 0!==g&&g.userId){d(!0);try{const e=await se.E.getAllCourseByUserId(g.userId,{search:s,courseType:n,pageNo:a,pageSize:i});l(e.courses)}catch(r){console.error("Failed to fetch courses",r)}finally{d(!1)}}}),[e,m,null===g||void 0===g?void 0:g.userId]);(0,i.useEffect)((()=>{h()}),[]),(0,i.useEffect)((()=>{null!==g&&void 0!==g&&g.userId&&p({search:e,courseType:m})}),[e,m,null===g||void 0===g?void 0:g.userId,p]);const y=(0,i.useCallback)(((e,t)=>{x(t)}),[]),j=(0,i.useCallback)((t=>{u(t),p({search:e,courseType:t})}),[p,e]),{t:v}=(0,Q.$G)(),f=(0,i.useMemo)((()=>m.length?o.filter((e=>m.includes(e.courseType.name))):o),[o,m]);return(0,Z.jsxs)(a.Z,{id:z.coursesBody,children:[(0,Z.jsx)(X.Z,{className:z.pageTitle,"translation-key":"course_list_title",children:v("course_list_title")}),(0,Z.jsx)(C.Z,{onSearchClick:t}),c?(0,Z.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,Z.jsx)(ee.Z,{})}):(0,Z.jsxs)(a.Z,{className:z.featureGroup,children:[(0,Z.jsx)(a.Z,{className:z.filterContainer,children:(0,Z.jsx)(q.Z,{label:v("course_filter"),defaultChipList:s.map((e=>e.name)),filterList:m,onFilterListChangeHandler:j,"translation-key":"course_filter"})}),(0,Z.jsxs)(H.Z,{className:z.changeViewButtonGroup,value:_,exclusive:!0,onChange:y,children:[(0,Z.jsx)(Y.Z,{value:ae.listView,"aria-label":"list",children:(0,Z.jsx)(V.Z,{})}),(0,Z.jsx)(Y.Z,{value:ae.cardView,"aria-label":"module",children:(0,Z.jsx)($.Z,{})})]})]}),(0,Z.jsx)(a.Z,{sx:{flexGrow:1,marginTop:_===ae.cardView?"0":"20px"},className:z.gridContainer,children:(0,Z.jsx)(n.ZP,{container:!0,spacing:_===ae.cardView?2:4,children:f.map((e=>(0,Z.jsx)(n.ZP,{item:!0,xs:12,sm:_===ae.cardView?6:12,md:_===ae.cardView?4:12,lg:_===ae.cardView?3:12,children:_===ae.cardView?(0,Z.jsx)(O,{courseId:e.id,courseAvatarUrl:"https://picsum.photos/200",courseCategory:e.courseType.name,courseName:e.name,teacherList:e.teachers}):(0,Z.jsx)(J,{courseId:e.id,courseAvatarUrl:"https://picsum.photos/200",courseCategory:e.courseType.name,courseName:e.name,teacherList:e.teachers})},e.id)))})})]})};var re=s(5211),oe=s(80240),le=s(18708),ce=s(99140),de=s(37735),me=s(10658),ue=s.n(me),_e=s(65033),xe=s(97707),ge=s(83929),he=s(74268),pe=s(15535),ye=s(89990),je=s(16977),ve=s(92556),Ze=s(99221);const fe="styles_formBody__xmvl2",be="styles_textEditor__XF+Mz";var Ie=s(38556),De=s(70816),we=s.n(De);const Ce=e=>{let{data:t,handleChangData:s,open:r,title:o,handleClose:l,children:c,cancelText:d,confirmText:m,onHandleCancel:u,onHanldeConfirm:_,...x}=e;const g=(0,i.useCallback)((()=>{s({isExpanded:!t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,eventDescription:t.eventDescription,start:t.start,end:t.end,allDay:t.allDay})}),[t,s]),{height:h}=(0,Ie.Z)(),{t:p}=(0,Q.$G)();return(0,Z.jsx)(ye.Z,{open:r,handleClose:l,title:o,cancelText:d,confirmText:m,onHandleCancel:u,onHanldeConfirm:_,minWidth:"800px",maxHeight:"".concat(.6*h,"px"),...x,children:(0,Z.jsxs)(a.Z,{component:"form",className:fe,autoComplete:"off",children:[(0,Z.jsx)(je.Z,{type:"text",title:p("calendar_event_name"),"translation-key":"calendar_event_name",value:t.eventTitle,onChange:e=>{s({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:e.target.value,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription})}}),(0,Z.jsxs)(n.ZP,{container:!0,spacing:1,columns:12,children:[(0,Z.jsx)(n.ZP,{item:!0,xs:3,children:(0,Z.jsx)(Ze.Z,{"translation-key":"calendar_event_date",children:p("calendar_event_date")})}),(0,Z.jsx)(n.ZP,{item:!0,xs:9,children:(0,Z.jsx)(pe.Z,{value:we()(t.start),onHandleValueChange:e=>{s({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:(null===e||void 0===e?void 0:e.toString())||"",end:t.end,allDay:t.allDay,eventDescription:t.eventDescription})}})})]}),(0,Z.jsxs)(n.ZP,{container:!0,spacing:1,columns:12,children:[(0,Z.jsx)(n.ZP,{item:!0,xs:3,children:(0,Z.jsx)(Ze.Z,{"translation-key":"calendar_event_type",children:p("calendar_event_type")})}),(0,Z.jsx)(n.ZP,{item:!0,xs:9,"translation-key":"calendar_event_type_user",children:p("calendar_event_type_user")})]}),(0,Z.jsx)(ce.Z,{"translation-key":["calendar_event_collapse","calendar_event_expand"],btnType:ce.s.Text,onClick:g,width:"fit-content",padding:"0px",children:t.isExpanded?"".concat(p("calendar_event_collapse"),"..."):"".concat(p("calendar_event_expand"),"...")}),(0,Z.jsxs)(_e.Z,{in:t.isExpanded,children:[(0,Z.jsxs)(n.ZP,{container:!0,spacing:1,columns:12,children:[(0,Z.jsx)(n.ZP,{item:!0,xs:3,children:(0,Z.jsx)(Ze.Z,{"translation-key":"detail_problem_description",children:p("detail_problem_description")})}),(0,Z.jsx)(n.ZP,{item:!0,xs:9,className:be,children:(0,Z.jsx)(ve.Z,{value:t.eventDescription,onChange:e=>{s({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:e})}})})]}),(0,Z.jsxs)(n.ZP,{container:!0,spacing:1,columns:12,sx:{marginTop:"30px"},children:[(0,Z.jsx)(n.ZP,{item:!0,xs:3,sx:{marginTop:"10px"},children:(0,Z.jsx)(Ze.Z,{"translation-key":"calendar_event_time_range",children:p("calendar_event_time_range")})}),(0,Z.jsx)(n.ZP,{item:!0,xs:9,children:(0,Z.jsxs)(xe.Z,{"aria-label":"duration",name:"duration",value:t.durationRadioIndex,onChange:e=>{s({isExpanded:t.isExpanded,durationRadioIndex:e.target.value,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription})},children:[(0,Z.jsx)(ge.Z,{value:"0",control:(0,Z.jsx)(he.Z,{}),label:p("calendar_event_name_time_no_range"),"translation-key":"calendar_event_name_time_no_range"},0),(0,Z.jsx)(ge.Z,{value:"1",control:(0,Z.jsx)(he.Z,{}),label:p("calendar_event_name_time_till"),"translation-key":"calendar_event_name_time_till"},1),(0,Z.jsx)(pe.Z,{value:we()(t.end),onHandleValueChange:e=>{s({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:(null===e||void 0===e?void 0:e.toString())||"",allDay:t.allDay,eventDescription:t.eventDescription})},disabled:"1"!==t.durationRadioIndex}),(0,Z.jsx)(ge.Z,{value:"2",control:(0,Z.jsx)(he.Z,{}),label:p("calendar_event_name_time_minute"),"translation-key":"calendar_event_name_time_minute"},2),(0,Z.jsx)(je.Z,{type:"number",value:t.durationInMinute,onChange:e=>{const n=ue()(t.start).add(Number(e.target.value),"minute").toString();s({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:Number(e.target.value),eventTitle:t.eventTitle,start:t.start,end:n,allDay:t.allDay,eventDescription:t.eventDescription})},disabled:"2"!==t.durationRadioIndex,maxWith:"200px"})]})})]})]})]})})},Te="styles_calendarBody__h+Yva";var ke=s(19860),Se=s(15300);const Ne=()=>{const{t:e}=(0,Q.$G)(),t=(0,ke.Z)(),s=(0,Se.Z)(t.breakpoints.down("sm")),[r,o]=(0,i.useState)({isExpanded:!1,durationRadioIndex:"0",durationInMinute:0,eventTitle:"",eventDescription:"",start:"",end:"",allDay:!1,isAddEventDialogOpen:!1,selectDateInfo:null,filterCourse:"0",currentEvents:[{id:(0,le.J)(),title:"S\u1ef1 ki\u1ec7n n\u1ed9p b\xe0i nh\u1eadp m\xf4n l\u1eadp tr\xecnh",start:"2024-02-28",end:"2024-03-02",allDay:!0,description:"N\u1ed9p b\xe0i t\u1eadp l\u1edbn"},{id:(0,le.J)(),title:"S\u1ef1 ki\u1ec7n thi cu\u1ed1i k\xec nh\u1eadp m\xf4n l\u1eadp tr\xecnh",start:"2024-02-20",end:"2024-02-22",allDay:!0,description:"Thi cu\u1ed1i k\xec"}]}),l=(0,i.useCallback)((e=>{o((t=>({...t,start:e.startStr,selectDateInfo:e,isAddEventDialogOpen:!0})))}),[]),c=(0,i.useCallback)((()=>{o((e=>({...e,isAddEventDialogOpen:!0,selectDateInfo:null,eventTitle:"",start:ue()().toString(),end:ue()().toString()})))}),[]),d=(0,i.useCallback)((()=>{o((e=>({...e,isAddEventDialogOpen:!1})))}),[]),m=(0,i.useCallback)((()=>{o((e=>{var t,s,n;return{...e,currentEvents:[...e.currentEvents,{id:(0,le.J)(),title:e.eventTitle,start:(null===(t=r.selectDateInfo)||void 0===t?void 0:t.startStr)||"",end:(null===(s=r.selectDateInfo)||void 0===s?void 0:s.endStr)||"",allDay:(null===(n=r.selectDateInfo)||void 0===n?void 0:n.allDay)||!1,description:e.eventDescription}]}})),d()}),[d,r.selectDateInfo]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Ce,{open:r.isAddEventDialogOpen,handleClose:()=>{d(),o((e=>({...e,isExpanded:!1})))},data:r,handleChangData:e=>{o((t=>({...t,isExpanded:e.isExpanded,durationRadioIndex:e.durationRadioIndex,durationInMinute:e.durationInMinute,eventTitle:e.eventTitle,start:e.start,end:e.end,allDay:e.allDay})))},title:e("calendar_add_event"),cancelText:e("common_cancel"),confirmText:e("common_add"),onHandleCancel:()=>{d(),o((e=>({...e,isExpanded:!1})))},"translation-key":["calendar_add_event","common_add","common_cancel"],onHanldeConfirm:()=>{m()}}),(0,Z.jsxs)(a.Z,{id:Te,children:[(0,Z.jsx)(X.Z,{"translation-key":"calendar_title",children:e("calendar_title")}),(0,Z.jsx)(S.Z,{}),(0,Z.jsx)(a.Z,{sx:{marginBottom:"10px"},children:(0,Z.jsxs)(n.ZP,{container:!0,spacing:2,alignItems:"center",direction:s?"column":"row",children:[(0,Z.jsx)(n.ZP,{item:!0,xs:12,sm:12,md:6,children:(0,Z.jsx)(de.Z,{labelId:"select-assignment-section-label",value:r.filterCourse,onHandleChange:e=>{o((t=>({...t,filterCourse:e})))},sx:{width:"100%"},items:[{value:"0",label:e("calendar_all_course")},{value:"1",label:"Nh\u1eadp m\xf4n l\u1eadp tr\xecnh"},{value:"2",label:"L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng"}],"translation-key":"calendar_all_course"})}),(0,Z.jsx)(n.ZP,{item:!0,xs:12,sm:12,md:6,container:!0,justifyContent:s?"flex-start":"flex-end",children:(0,Z.jsx)(ce.Z,{btnType:ce.s.Outlined,onClick:()=>{c()},startIcon:(0,Z.jsx)(re.Z,{}),"translation-key":"calendar_add_event",children:e("calendar_add_event")})})]})}),(0,Z.jsx)(a.Z,{children:(0,Z.jsx)(oe.Z,{events:r.currentEvents,handleDateSelect:l})})]})]})};var Ae=s(95861),Me=s(65280);const Pe="styles_tabWrapper__+a-qb",Be="styles_tabs__gJ-AS",Ee="styles_courseDetailBody__fOwQH",Ge="styles_eventContainer__T+KKm",Ue="styles_eventTitle__BePsu",We="styles_eventList__npe4e",Qe={gridContainer:"styles_gridContainer__G5n2c",courseImgCardContainer:"styles_courseImgCardContainer__5gn1s",courseImage:"styles_courseImage__W99bw",classNameOverlay:"styles_classNameOverlay__o2NLT",gridBodyContainer:"styles_gridBodyContainer__kqLOR",resourceContainer:"styles_resourceContainer__OPm+m",resourceAccordionContainer:"styles_resourceAccordionContainer__ETyaw",resourceSummaryContainer:"styles_resourceSummaryContainer__Iih5i",resourceSummaryText:"styles_resourceSummaryText__T8xBG",editTopicTitleImageContainer:"styles_editTopicTitleImageContainer__bA2UO",accordDetail:"styles_accordDetail__6E-mQ",eventContainer:"styles_eventContainer__7TjVr",eventTitle:"styles_eventTitle__J4MUp",eventList:"styles_eventList__LtgM7",topicWrapper:"styles_topicWrapper__7lftG",informationBody:"styles_informationBody__GYqp7",iconButton:"styles_iconButton__SVUjO",iconButtonActive:"styles_iconButtonActive__tePU6"};var Le=s(73428),Re=s(16957),Fe=s(47131),Oe=s(61113),ze=s(19425);const He={container:"styles_container__EpQSL",linkContainer:"styles_linkContainer__nOBd-",resourceName:"styles_resourceName__YKlBK",imageContainer:"styles_imageContainer__yyYif",imageContainerAssignment:"styles_imageContainerAssignment__GRGda"};var Ye=s(37401);const Ve=e=>{let t;switch(e.type){case ze.Q.assignment:t=Ye.Z.course.courseAssignment;break;case ze.Q.file:t=(e=>{var t;const s=(null===(t=e.split(".").pop())||void 0===t?void 0:t.split("?")[0])||"";return["jpg","jpeg","png","gif","bmp","tiff"].includes(s.toLowerCase())?Ye.Z.course.courseImage:"pdf"===s.toLowerCase()?Ye.Z.course.coursePDF:"docx"===s.toLowerCase()?Ye.Z.course.courseDOC:"xlsx"===s.toLowerCase()?Ye.Z.course.courseXLS:"ppt"===s.toLowerCase()?Ye.Z.course.coursePPT:Ye.Z.course.courseFile})(e.content);break;case ze.Q.url:t=Ye.Z.course.courseUrl;break;default:return null}return(0,Z.jsx)(a.Z,{className:He.container,children:(0,Z.jsx)(n.ZP,{container:!0,children:(0,Z.jsxs)(A.Z,{component:M.rU,to:(t=>{switch(t){case ze.Q.assignment:return _._.student.assignment.detail.replace(":assignmentId",e.assignmentId).replace(":courseId",e.courseId);case ze.Q.file:case ze.Q.url:return e.content;default:return"/"}})(e.type),underline:"hover",className:He.linkContainer,children:[(0,Z.jsx)(n.ZP,{item:!0,children:(0,Z.jsx)("img",{className:He.imageResourse,src:t,alt:"Resource"})}),(0,Z.jsx)(n.ZP,{item:!0,children:(0,Z.jsx)(Oe.Z,{color:"#0f6cbf",className:He.resourceName,children:e.name})})]})})})};var $e=s(15067),Ke=s(52545),Je=s(12741),qe=s(54406);const Xe=()=>{const{t:e}=(0,Q.$G)(),t=(ze.Q.assignment,ze.Q.assignment,ze.Q.file,ze.Q.assignment,ze.Q.assignment,ze.Q.assignment,ze.Q.file,ze.Q.file,ze.Q.assignment,ze.Q.file,ze.Q.assignment,ze.Q.assignment,ze.u.submitted,ze.Q.assignment,ze.u.notSubmitted,ze.Q.assignment,ze.u.notSubmitted,ze.Q.assignment,ze.u.submitted,e=>{void 0===c[e]?d((t=>({...t,[e]:!1}))):d((t=>({...t,[e]:!Boolean(t[e])})))}),s=(0,j.I0)(),r=(0,j.v9)((e=>e.section)),{courseId:o}=(0,w.UO)(),l=Array(r.sections.length).fill(!1),[c,d]=(0,i.useState)(l);(0,i.useEffect)((()=>{(async()=>{s((0,Ke.K4)(!0));try{if(o){const e=await $e.N.getSectionsByCourseId(o);s((0,Ke.by)(e)),s((0,Ke.K4)(!1))}else console.error("courseId is undefined"),s((0,Ke.K4)(!1))}catch(e){console.error("Failed to fetch sections",e),s((0,Ke.K4)(!1))}})()}),[]);const m=e=>{switch(e){case"Files":default:return ze.Q.file;case"Assignments":return ze.Q.assignment;case"URLs":return ze.Q.url;case"Quizzes":return ze.Q.exam}};return(0,Z.jsxs)(n.ZP,{container:!0,spacing:1,className:Qe.gridContainer,children:[(0,Z.jsx)(n.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(Le.Z,{className:Qe.courseImgCardContainer,children:[(0,Z.jsx)(Re.Z,{component:"img",className:Qe.courseImage,src:"https://picsum.photos/1800/300"}),(0,Z.jsx)(Oe.Z,{variant:"h1",className:Qe.classNameOverlay,children:"T\xean kh\xf3a h\u1ecdc d\xe0i"})]})}),r.isLoading?(0,Z.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,Z.jsx)(ee.Z,{})}):(0,Z.jsx)(n.ZP,{item:!0,xs:12,children:(0,Z.jsx)(a.Z,{margin:1,padding:0,children:(0,Z.jsx)(n.ZP,{container:!0,className:Qe.gridBodyContainer,children:(0,Z.jsx)(n.ZP,{item:!0,className:Qe.topicWrapper,xs:12,children:r.sections.map(((e,s)=>{const n=void 0===c[s]||Boolean(c[s]);return(0,Z.jsxs)(a.Z,{className:Qe.generalInfo,children:[(0,Z.jsxs)(a.Z,{display:"flex",alignItems:"center",margin:1,children:[n?(0,Z.jsx)(Fe.Z,{className:Qe.iconButtonActive,sx:{padding:"5px"},onClick:()=>t(s),children:(0,Z.jsx)(qe.Z,{style:{fontSize:20}})}):(0,Z.jsx)(Fe.Z,{className:Qe.iconButton,sx:{padding:"5px"},onClick:()=>t(s),children:(0,Z.jsx)(Je.Z,{style:{fontSize:20}})}),(0,Z.jsx)(L.Z,{fontWeight:500,"translation-key":"common_general",children:e.name})]}),(0,Z.jsx)(_e.Z,{in:n,timeout:"auto",unmountOnExit:!0,children:e.modules.map(((e,t)=>(0,Z.jsx)(Ve,{courseId:o||"",assignmentId:e.assignmentId,name:e.name,type:m(e.typeModule),content:e.content},t)))})]})}))})})})})]})},et={},tt={container:"styles_container__YC9pW",linkContainer:"styles_linkContainer__C0Vuf"},st=e=>{let t;switch(e.type){case ze.Q.assignment:t=Ye.Z.course.courseAssignment;break;case ze.Q.file:t=Ye.Z.course.courseFile;break;default:return null}return(0,Z.jsx)(a.Z,{className:tt.container,children:(0,Z.jsx)(n.ZP,{container:!0,children:(0,Z.jsxs)(A.Z,{component:M.rU,to:"#",underline:"hover",className:tt.linkContainer,children:[(0,Z.jsx)(n.ZP,{item:!0,children:(0,Z.jsx)("img",{src:t,alt:"Resource"})}),(0,Z.jsx)(n.ZP,{item:!0,children:(0,Z.jsx)(Oe.Z,{className:tt.resourceName,children:e.name})})]})})})};var nt=s(70501);const at="styles_container__4j7XU",it="styles_courseDetail__IpFgC",rt="styles_exportButton__Bsv8J",ot="styles_textBadge__tqPrT",lt="styles_badgeTypoText__vapXJ";var ct=s(41835);const dt=()=>{const{t:e}=(0,Q.$G)();return(0,Z.jsx)(nt.Z,{className:at,children:(0,Z.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,Z.jsx)(n.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(a.Z,{className:it,children:[(0,Z.jsxs)(a.Z,{children:[(0,Z.jsx)(Oe.Z,{variant:"h4",children:"T\xean kh\xf3a h\u1ecdc"}),(0,Z.jsx)(Oe.Z,{sx:{color:"var(--gray-50)"},children:"m\xf4 t\u1ea3 kh\xf3a h\u1ecdc"})]}),(0,Z.jsx)(G.Z,{startIcon:(0,Z.jsx)(ct.Z,{}),variant:"outlined",className:rt,"translation-key":"common_data_export",children:e("common_data_export")})]})}),(0,Z.jsxs)(n.ZP,{item:!0,xs:2,sx:{m:1},children:[(0,Z.jsx)(Oe.Z,{sx:{color:"var(--gray-50)"},"translation-key":"course_grade_average",children:e("course_grade_average")}),(0,Z.jsx)(a.Z,{component:"span",className:ot,sx:{backgroundColor:"var(--green-200)"},children:(0,Z.jsx)(Oe.Z,{variant:"h5",className:lt,children:"100"})})]}),(0,Z.jsxs)(n.ZP,{item:!0,xs:2,sx:{m:1},children:[(0,Z.jsx)(Oe.Z,{sx:{color:"var(--gray-50)"},"translation-key":"course_grade_submitted",children:e("course_grade_submitted")}),(0,Z.jsx)(a.Z,{component:"span",className:ot,sx:{backgroundColor:"var(--blue-200)"},children:(0,Z.jsx)(Oe.Z,{variant:"h5",className:lt,children:"7"})})]})]})})};var mt=s(11053);const ut=()=>{const{t:e}=(0,Q.$G)(),t=[{id:1,type:ze.Q.assignment,item:"B\xe0i t\u1eadp 1",weight:0,grade:void 0,range:100,percentage:10},{id:2,type:ze.Q.assignment,item:"B\xe0i t\u1eadp 2",weight:0,grade:10,range:100},{id:3,type:ze.Q.assignment,item:"B\xe0i t\u1eadp 3",weight:0,grade:10,range:100},{id:4,type:ze.Q.assignment,item:"B\xe0i ki\u1ec3m tra 1",weight:0,grade:10,range:100},{id:5,type:ze.Q.assignment,item:"B\xe0i ki\u1ec3m tra 2",weight:0,grade:10,range:100},{id:6,type:ze.Q.assignment,item:"B\xe0i ki\u1ec3m tra 3",weight:0,grade:10,range:100}],s=[{field:"id",headerName:"STT",minWidth:1},{field:"item",headerName:e("course_grade_grid_topic"),width:200,flex:.2,disableColumnMenu:!0,renderCell:e=>(0,Z.jsx)(A.Z,{component:M.rU,to:"".concat(e.row.id),children:(0,Z.jsx)(st,{name:e.value,type:e.row.type})})},{field:"type",headerName:e("course_grade_topic_type"),minWidth:1,flex:.2,renderCell:e=>(0,Z.jsx)(Oe.Z,{children:e.value===ze.Q.assignment?"B\xe0i t\u1eadp":e.value===ze.Q.file?"File":"URL"})},{field:"weight",headerName:e("course_grade_weight"),minWidth:50,disableColumnMenu:!0,flex:.2},{field:"grade",headerName:e("common_grade"),minWidth:50,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,Z.jsxs)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[Number(e.value)?(0,Z.jsx)(Oe.Z,{fontSize:18,children:e.value}):(0,Z.jsx)(Oe.Z,{fontSize:18,children:"_"}),"/",e.row.range]})},{field:"range",headerName:e("course_grade_range"),minWidth:50,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,Z.jsx)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:Number(e.value)?e.value:"_"})},{field:"percentage",headerName:e("common_percentage"),minWidth:50,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,Z.jsx)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:Number(e.value)?"".concat(e.value,"%"):"_"})},{field:"feedback",headerName:e("course_grade_response"),minWidth:200,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,Z.jsx)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:Number(e.value)?"".concat(e.value,"%"):"_"})}];return(0,Z.jsxs)(n.ZP,{container:!0,spacing:1,className:et.gridContainer,children:[(0,Z.jsx)(n.ZP,{item:!0,xs:12,children:(0,Z.jsx)(X.Z,{"translation-key":"course_grade_title",children:e("course_grade_title")})}),(0,Z.jsx)(n.ZP,{item:!0,xs:12,children:(0,Z.jsx)(dt,{})}),(0,Z.jsx)(n.ZP,{item:!0,xs:12,children:(0,Z.jsx)(mt.Z,{dataList:t,tableHeader:s,onSelectData:(e,t)=>{},visibleColumn:{id:!1,type:!0,item:!0,grade:!0,weight:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!0,onClickRow:e=>{console.log(e)}})})]})};var _t=s(1550),xt=s(15103),gt=s(88797),ht=s(51405);const pt="style_container__UTzF1",yt="style_searchWrapper__6B5pf",jt="style_colSearchContainer__zENll",vt=()=>{const[e,t]=(0,i.useState)("name"),{t:s}=(0,Q.$G)();return(0,Z.jsxs)(nt.Z,{className:pt,children:[(0,Z.jsxs)(a.Z,{className:yt,children:[(0,Z.jsx)(C.Z,{onSearchClick:e=>{console.log(e)}}),(0,Z.jsxs)(_t.Z,{className:jt,children:[(0,Z.jsx)(xt.Z,{id:"colSearch","translation-key":"common_find_by_col",children:s("common_find_by_col")}),(0,Z.jsxs)(gt.Z,{labelId:"colSearch",id:"colSearchSelect",value:e,onChange:(e,s)=>{t(e.target.value)},label:s("common_find_by_col"),"translation-key":"common_find_by_col",children:[(0,Z.jsx)(ht.Z,{value:"name","translation-key":"common_name",children:s("common_name")}),(0,Z.jsx)(ht.Z,{value:"emai",children:"Email"}),(0,Z.jsx)(ht.Z,{value:"role","translation-key":"common_role",children:s("common_role")})]})]})]}),(0,Z.jsx)(ce.Z,{btnType:ce.s.Primary,startIcon:(0,Z.jsx)(ct.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},"translation-key":"common_data_export",children:s("common_data_export")})]})};var Zt=s(66123);const ft=()=>{const[e,t]=(0,i.useState)(""),s=(0,j.I0)(),r=(0,j.v9)((e=>e.courseUser)),[o,l]=(0,i.useState)(0),[c,d]=(0,i.useState)(10),{courseId:m}=(0,w.UO)(),u=async t=>{let{search:n=e,pageNo:a=o,pageSize:i=c}=t;s((0,Zt.K4)(!0));try{const e=await se.E.getUserByCourseId(null!==m&&void 0!==m?m:"",{search:n,pageNo:a,pageSize:i});s((0,Zt.Z$)(e)),s((0,Zt.K4)(!1))}catch(r){console.error("Failed to fetch course user",r),s((0,Zt.K4)(!1))}};(0,i.useEffect)((()=>{u({search:e})}),[e]);const{t:_}=(0,Q.$G)(),x=[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:_("common_fullname"),width:200,flex:.8,renderCell:e=>(0,Z.jsx)(A.Z,{component:M.rU,to:"".concat(e.row.id),children:e.value})},{field:"email",headerName:"Email",width:200,flex:.8},{field:"roles",headerName:_("common_role"),width:50,flex:.4}];return(0,Z.jsxs)(n.ZP,{container:!0,spacing:1,children:[(0,Z.jsx)(n.ZP,{item:!0,xs:12,children:(0,Z.jsx)(X.Z,{"translation-key":"course_participant_title",children:_("course_participant_title")})}),(0,Z.jsx)(n.ZP,{item:!0,xs:12,children:(0,Z.jsx)(vt,{})}),r.isLoading?(0,Z.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,Z.jsx)(ee.Z,{})}):(0,Z.jsx)(n.ZP,{item:!0,xs:12,children:(0,Z.jsx)(mt.Z,{dataList:r.users.map(((e,t)=>({id:e.userId,name:e.firstName+" "+e.lastName,email:e.email,roles:e.role}))),tableHeader:x,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},getRowClassName:e=>0===e.row.id?"even-row":"odd-row",page:o,pageSize:c,totalElement:r.totalItems,onPaginationModelChange:(t,s)=>{l(t.page),d(t.pageSize),u({search:e,pageNo:t.page,pageSize:t.pageSize})},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})})]})},bt="styles_assignmentBody__oxqX3",It="styles_assignmentsWrapper__XeP8H",Dt="styles_topic__Z9I7S";var wt=s(33099);const Ct="styles_cardWrapper__qGRUW",Tt="styles_timeWrapper__IPKnl",kt="styles_deadline__Fb8IT",St="styles_content__0diku";var Nt=s(44090),At=s(43666);s(77001);let Mt=function(e){return e.assignment="assignment",e.exam="exam",e}({});const Pt=e=>{let{resourceTitle:t,resourceOpenDate:s,resourceEndedDate:r,courseId:o,examId:l,intro:c,type:d}=e;const{t:m}=(0,Q.$G)(),[u,x]=(0,i.useState)(!1);d=d||Mt.assignment;(0,w.s0)();return(0,Z.jsx)(a.Z,{className:Ct,children:(0,Z.jsxs)(n.ZP,{container:!0,alignItems:"center",children:[(0,Z.jsx)(n.ZP,{item:!0,xs:12,className:Tt,children:(0,Z.jsxs)(n.ZP,{container:!0,alignItems:"center",children:[(0,Z.jsx)(n.ZP,{item:!0,md:.6}),(0,Z.jsx)(n.ZP,{item:!0,md:11.4,children:(0,Z.jsxs)(a.Z,{className:kt,children:[(0,Z.jsxs)(Oe.Z,{variant:"body2",color:"textSecondary",children:[m("course_assignment_open"),":"," ",ue()(s).format("dddd, DD MMMM YYYY, h:mm A")]}),(0,Z.jsx)(Oe.Z,{children:"..."}),(0,Z.jsxs)(Oe.Z,{variant:"body2",color:"textSecondary",children:[m("course_assignment_deadline"),":"," ",ue()(r).format("dddd, DD MMMM YYYY, h:mm A")]})]})})]})}),(0,Z.jsxs)(a.Z,{className:St,style:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(k.Z,{sx:{bgcolor:d===Mt.assignment?"#eb66a2":"#0077be"},children:d===Mt.assignment?(0,Z.jsx)(Nt.Z,{}):(0,Z.jsx)(At.Z,{})}),(0,Z.jsx)(A.Z,{component:M.rU,to:d===Mt.assignment?_._.student.assignment.detail.replace(":courseId",o||"").replace(":assignmentId",l||""):_._.student.exam.detail.replace(":courseId",o||"").replace(":examId",l||""),underline:"none",style:{marginLeft:"12px"},children:t})]})]})})};var Bt=s(83789),Et=s(74512),Gt=s(79720),Ut=s(16705),Wt=s(44597);const Qt=()=>{const e=(0,j.I0)(),t=(0,j.v9)((e=>e.exam)),s=(0,j.v9)((e=>e.assignment)),{courseId:r}=(0,w.UO)();(0,i.useEffect)((()=>{(async t=>{try{const s=await Et.O.getExamsByCourseId(t);e((0,Gt.u6)(s))}catch(s){console.log(s)}})(null!==r&&void 0!==r?r:""),(async t=>{try{const s=await Ut.Y.getAssignmentsByCourseId(t);e((0,Wt.Uv)(s))}catch(s){console.log(s)}})(null!==r&&void 0!==r?r:""),console.log("examState",t.exams)}),[]);const{t:o}=(0,Q.$G)();(0,w.s0)();return(0,Z.jsxs)(a.Z,{className:bt,children:[(0,Z.jsx)(X.Z,{"translation-key":"course_detail_assignment_list",children:o("course_detail_assignment_list")}),(0,Z.jsx)(n.ZP,{container:!0,children:(0,Z.jsx)(n.ZP,{item:!0,xs:12,children:(0,Z.jsx)(C.Z,{onSearchClick:e=>{console.log(e)}})})}),(0,Z.jsxs)(a.Z,{className:It,children:[(0,Z.jsxs)(a.Z,{className:Dt,children:[(0,Z.jsx)(wt.Z,{"translation-key":"course_detail_assignment",children:o("course_detail_assignment")}),s.assignments.map((e=>(0,Z.jsx)(Pt,{courseId:r,examId:e.id,resourceTitle:e.title,resourceOpenDate:e.timeOpen,resourceEndedDate:e.timeClose,intro:e.intro,type:Bt._.assignment})))]}),(0,Z.jsxs)(a.Z,{className:Dt,children:[(0,Z.jsx)(wt.Z,{"translation-key":"course_detail_exam",children:o("course_detail_exam")}),t.exams.exams.map((e=>(0,Z.jsx)(Pt,{courseId:r,examId:e.id,resourceTitle:e.name,resourceOpenDate:e.timeOpen,resourceEndedDate:e.timeClose,intro:e.intro,type:Bt._.exam})))]})]})]})};var Lt=s(89790),Rt=s(80007),Ft=s(63408);const Ot={assignmentBody:"styles_assignmentBody__uG9uk",assignmentsWrapper:"styles_assignmentsWrapper__vxBIy",topic:"styles_topic__GUyXY",assignmentTitle:"styles_assignmentTitle__Ub-KQ",assignmentIcon:"styles_assignmentIcon__UbipB",saveBtn:"styles_saveBtn__UZpaE",cancelBtn:"styles_cancelBtn__Upp2e","custom-class":"styles_custom-class__dW2HY"};var zt=s(45148),Ht=s(83703);const Yt="styles_successColor__2oV75",Vt="styles_dangerBackground__uMDvi",$t="styles_errorColor__9nVLl";function Kt(e){let{rows:t}=e;return(0,Z.jsx)(zt.Z,{variant:"outlined",children:(0,Z.jsx)(Ht.Z,{variant:"soft",borderAxis:"bothBetween",hoverRow:!0,children:(0,Z.jsx)("tbody",{children:t.map((e=>(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{scope:"row",style:{width:"30%"},children:e.header}),(0,Z.jsx)("td",{className:1===e.status?Yt:0===e.status?$t:2===e.status?Vt:"",children:e.data})]},e.header)))})})})}var Jt=s(33060),qt=s(32952),Xt=s(33256),es=s(75948);const ts=()=>{var e,t,s,r,o,l,c,d,m,u,x,g,h,p,y,v,f,b,I,D,C,T,k,N,A,M,P,B,E,G,U,W,L,R,F,O;const{t:z}=(0,Q.$G)(),H=(0,w.s0)(),{assignmentId:Y}=(0,w.UO)(),{courseId:V}=(0,w.UO)(),$=(0,j.v9)((e=>e.assignment)),K=(0,j.v9)((e=>e.submissionAssignment)),J=(0,j.I0)(),{loggedUser:q}=(0,ne.Z)();function ee(e,t){const s=e.getTime()-t.getTime(),n=864e5,a=36e5,i=Math.floor(s/n),r=Math.floor(s%n/a),o=Math.floor(s%a/6e4),l=Math.floor(s%6e4/1e3);return{days:Math.abs(i),hours:Math.abs(r),minutes:Math.abs(o),seconds:Math.abs(l)}}console.log("assignmentState",K.submissionAssignmentDetails),(0,i.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await Ut.Y.getAssignmentById(e);J((0,Wt.QI)(t))}catch(t){console.log(t)}})(null!==Y&&void 0!==Y?Y:"")})(),(async(e,t)=>{try{const s=await Xt.J.getSubmissionAssignmentByUserIdAsignmentId(e,t);J((0,es.DR)(s))}catch(s){console.log(s)}})(null===q||void 0===q?void 0:q.userId,null!==Y&&void 0!==Y?Y:"")}),[]);const te=new Date(null!==(e=null===(t=$.assignmentDetails)||void 0===t?void 0:t.timeClose)&&void 0!==e?e:new Date),se=ee(te,new Date),ae=ee(te,new Date(null!==(s=null===(r=K.submissionAssignmentDetails)||void 0===r?void 0:r.submitTime)&&void 0!==s?s:new Date)),ie=e=>e.days>0?e.days+" "+z("days")+" "+e.hours+" "+z("hours"):e.hours>0?e.hours+" "+z("hours")+" "+e.minutes+" "+z("minutes"):e.minutes+" "+z("minutes")+" "+e.seconds+" "+z("seconds"),re=()=>{var e,t,s,n,a;let i=new Date(null!==(e=null===(t=$.assignmentDetails)||void 0===t?void 0:t.timeClose)&&void 0!==e?e:new Date);return null!==(s=K.submissionAssignmentDetails)&&void 0!==s&&s.submitTime?new Date(null!==(n=null===(a=K.submissionAssignmentDetails)||void 0===a?void 0:a.submitTime)&&void 0!==n?n:new Date)<i?1:2:new Date>i?0:3};let oe=[{header:z("course_student_assignment_submission_status"),data:null!==(o=K.submissionAssignmentDetails)&&void 0!==o&&o.submitTime?z("course_student_assignment_submission_status_submitted"):z("course_student_assignment_submission_status_not_submitted"),status:null!==(l=K.submissionAssignmentDetails)&&void 0!==l&&l.submitTime?1:3},{header:z("course_student_assignment_grading_status"),data:null!==(c=K.submissionAssignmentDetails)&&void 0!==c&&c.isGraded?z("course_student_assignment_submission_status_graded"):z("course_student_assignment_submission_status_not_grading"),status:null!==(d=K.submissionAssignmentDetails)&&void 0!==d&&d.isGraded?1:3},{header:z("course_student_assignment_time_remaining"),data:1===re()?z("assignment_submitted")+ie(ae)+z("early"):2===re()?z("assignment_submitted_late")+ie(ae)+z("late"):new Date(null!==(m=null===(u=$.assignmentDetails)||void 0===u?void 0:u.timeClose)&&void 0!==m?m:new Date)<new Date?z("assignment_overdue")+ie(se):ie(se),status:re()},{header:z("course_student_assignment_last_modified"),data:null!==(x=K.submissionAssignmentDetails)&&void 0!==x&&x.timemodefied?ue()(null===(g=K.submissionAssignmentDetails)||void 0===g?void 0:g.timemodefied).format("DD/MM/YYYY hh:mm:ss A"):"-"}];var le,de;(console.log(K.submissionAssignmentDetails),null!==(h=K.submissionAssignmentDetails)&&void 0!==h&&h.submissionAssignmentFiles&&0!==(null===(p=K.submissionAssignmentDetails)||void 0===p?void 0:p.submissionAssignmentFiles.length))&&oe.push({header:z("course_student_assignment_file_submission"),data:(0,Z.jsx)(qt.Z,{files:null!==(le=null===(de=K.submissionAssignmentDetails)||void 0===de?void 0:de.submissionAssignmentFiles.map((e=>{let t=new File([""],e.fileName,{lastModified:new Date(e.timemodified).getTime()});return{id:e.id,name:e.fileName,downloadUrl:e.fileUrl,size:e.fileSize,type:e.mimetype,file:t}})))&&void 0!==le?le:[],treeView:!1})});null!==(y=K.submissionAssignmentDetails)&&void 0!==y&&y.content&&oe.push({header:z("course_student_assignment_online_text_submission"),data:(0,Z.jsx)("div",{dangerouslySetInnerHTML:{__html:function(e,t,s){const n=(new DOMParser).parseFromString(e,"text/html"),a=n.getElementsByTagName("img");for(let r of a)r.classList.add(t);const i=n.createElement("style");return i.textContent=s,n.head.appendChild(i),n.documentElement.outerHTML}(K.submissionAssignmentDetails.content,"custom-class","\n.custom-class {\n    max-width: 100%;\n    padding: 10px;\n    height: auto;\n}\n")||""}})});let me=[{header:z("course_student_assignment_grade"),data:(null===(v=K.submissionAssignmentDetails)||void 0===v?void 0:v.isGraded)&&(null===(f=K.submissionAssignmentDetails)||void 0===f?void 0:f.submissionGrade.grade.toFixed(2).toString())+" / "+(null===(b=$.assignmentDetails)||void 0===b?void 0:b.maxScore.toFixed(2).toString())||"-"},{header:z("course_student_assignment_grade_on"),data:(0,Z.jsx)("div",{children:null!==(I=K.submissionAssignmentDetails)&&void 0!==I&&I.submissionGrade?ue()(null===(D=K.submissionAssignmentDetails)||void 0===D?void 0:D.submissionGrade.timeModified).format("DD/MM/YYYY hh:mm:ss A"):"-"})},{header:z("course_student_assignment_feedback"),data:(0,Z.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===(C=K.submissionAssignmentDetails)||void 0===C?void 0:C.feedback)||""}})}];return console.log(null===(T=K.submissionAssignmentDetails)||void 0===T?void 0:T.submitTime),(0,Z.jsxs)(a.Z,{className:Ot.assignmentBody,children:[(0,Z.jsx)(ce.Z,{btnType:ce.s.Primary,onClick:()=>{H(_._.student.course.assignment.replace(":courseId",null!==V&&void 0!==V?V:""))},startIcon:(0,Z.jsx)(Lt.Z,{sx:{color:"white"}}),width:"fit-content",children:(0,Z.jsx)(Rt.Z,{"translation-key":"common_backk",children:z("common_back")})}),(0,Z.jsxs)(a.Z,{className:Ot.assignmentTitle,children:[(0,Z.jsx)("img",{className:Ot.assignmentIcon,src:Ye.Z.course.courseAssignment,alt:"assignment"}),(0,Z.jsx)(X.Z,{children:null===(k=$.assignmentDetails)||void 0===k?void 0:k.title})]}),(0,Z.jsxs)(Le.Z,{className:Ot.pageActivityHeader,sx:{padding:"10px",backgroundColor:"#F8F9FA"},children:[(0,Z.jsxs)(n.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,Z.jsx)(n.ZP,{item:!0,children:(0,Z.jsxs)(Ft.Z,{fontWeight:"600","translation-key":"course_assignment_detail_open_time",children:[z("course_assignment_detail_open_time"),":"]})}),(0,Z.jsx)(n.ZP,{item:!0,children:(0,Z.jsx)(Rt.Z,{children:null===(N=ue()(null===(A=$.assignmentDetails)||void 0===A?void 0:A.timeOpen))||void 0===N?void 0:N.format("DD/MM/YYYY hh:mm:ss A")})})]}),(0,Z.jsxs)(n.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,Z.jsx)(n.ZP,{item:!0,children:(0,Z.jsxs)(Ft.Z,{fontWeight:"600","translation-key":"course_assignment_detail_close_time",children:[z("course_assignment_detail_close_time"),":"]})}),(0,Z.jsx)(n.ZP,{item:!0,children:(0,Z.jsx)(Rt.Z,{children:null===(M=ue()(null===(P=$.assignmentDetails)||void 0===P?void 0:P.timeClose))||void 0===M?void 0:M.format("DD/MM/YYYY hh:mm:ss A")})})]}),(0,Z.jsx)(S.Z,{style:{marginTop:"10px",marginBottom:"10px"}}),(0,Z.jsxs)(a.Z,{className:Ot.assignmentDescription,children:[(0,Z.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===(B=$.assignmentDetails)||void 0===B?void 0:B.intro)||""}}),(0,Z.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:(null===(E=$.assignmentDetails)||void 0===E?void 0:E.activity)||""}}),(0,Z.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:(null===(G=$.assignmentDetails)||void 0===G?void 0:G.activity)||""}}),(0,Z.jsx)(qt.Z,{files:null===(U=$.assignmentDetails)||void 0===U||null===(W=U.introAttachments)||void 0===W?void 0:W.map((e=>{let t=new File([""],e.fileName,{lastModified:new Date(e.timemodified).getTime()});return{id:e.id,name:e.fileName,downloadUrl:e.fileUrl,size:e.fileSize,type:e.mimetype,file:t}}))})]})]}),(null===(L=K.submissionAssignmentDetails)||void 0===L?void 0:L.submitTime)&&(0,Z.jsxs)(a.Z,{children:[(0,Z.jsx)(ce.Z,{className:Ot.cancelBtn,onClick:()=>{H(_._.student.assignment.edit_submit.replace(":assignmentId",null!==Y&&void 0!==Y?Y:"").replace(":courseId",null!==V&&void 0!==V?V:""))},width:"fit-content",style:{marginRight:"10px"},children:(0,Z.jsx)(Rt.Z,{fontSize:"13.5px",fontWeight:520,"translation-key":"course_assignment_detail_edit_submit",children:z("course_assignment_detail_edit_submit")})}),(0,Z.jsx)(ce.Z,{className:Ot.cancelBtn,onClick:()=>{},width:"fit-content",children:(0,Z.jsx)(Rt.Z,{fontSize:"13.5px",fontWeight:520,"translation-key":"course_assignment_detail_remove_submit",children:z("course_assignment_detail_remove_submit")})})]}),(0,Z.jsx)(Jt.Z,{"translation-key":["course_student_assignment_submission_status"],children:z("course_student_assignment_submission_status")}),(0,Z.jsx)(Kt,{rows:oe,"translation-key":["course_student_assignment_submission_status","course_student_assignment_grading_status","course_student_assignment_time_remaining","course_student_assignment_last_modified","course_student_assignment_file_submission","assignment_submitted","assignment_overdue","assignment_submitted_late","late","early"]}),(null===(R=K.submissionAssignmentDetails)||void 0===R?void 0:R.isGraded)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Jt.Z,{"translation-key":["course_student_assignment_grade"],children:z("course_student_assignment_grade")}),(0,Z.jsx)(Kt,{rows:me,"translation-key":["course_student_assignment_grade","course_student_assignment_feedback"]})]}),(!(null!==K&&void 0!==K&&null!==(F=K.submissionAssignmentDetails)&&void 0!==F&&F.submitTime)||(null===(O=$.assignmentDetails)||void 0===O?void 0:O.moodleId))&&(0,Z.jsx)(ce.Z,{className:Ot.saveBtn,btnType:ce.s.Primary,onClick:()=>{H(_._.student.assignment.submit.replace(":assignmentId",null!==Y&&void 0!==Y?Y:"").replace(":courseId",null!==V&&void 0!==V?V:""))},width:"fit-content",children:(0,Z.jsx)(Rt.Z,{"translation-key":"course_assignment_detail_submit",children:z("course_assignment_detail_submit")})})]})};var ss=s(42832),ns=s(71538),as=s(62755);function is(e){let{rows:t,headers:s,examId:n,courseId:a,examMark:i,examGrade:r}=e;const{t:o}=(0,Q.$G)(),l=[o("common_january"),o("common_february"),o("common_march"),o("common_april"),o("common_may"),o("common_june"),o("common_july"),o("common_august"),o("common_september"),o("common_october"),o("common_november"),o("common_december")],c=[o("common_sunday"),o("common_monday"),o("common_tuesday"),o("common_wednesday"),o("common_thursday"),o("common_friday"),o("common_saturday")];return(0,Z.jsxs)(Ht.Z,{variant:"soft",size:"lg",hoverRow:!0,sx:{backgroundColor:"white","& tbody tr:hover":{backgroundColor:"#f3f3f3"}},children:[(0,Z.jsx)("thead",{children:(0,Z.jsx)("tr",{children:s.map(((e,t)=>(0,Z.jsx)("th",{style:{backgroundColor:"white",borderBottom:"2px solid rgb(128,128,128)"},children:(0,Z.jsx)(Rt.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e})},t)))})}),(0,Z.jsxs)("tbody",{children:[0!==t.length&&t.map(((e,t)=>{const s=new Date(e.submitTime),d="SUBMITTED"===e.status?o("course_lecturer_assignment_submitted"):o("exam_detail_graded");return(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:t+1}),(0,Z.jsxs)("td",{children:[(0,Z.jsx)(Rt.Z,{"translation-key":["exam_detail_graded","course_lecturer_assignment_submitted"],fontSize:".875rem",color:"#212121",fontWeight:"600",children:d}),(0,Z.jsx)(Rt.Z,{fontSize:".75rem",color:"#212121",sx:{opacity:.7},"translation-key":"course_management_exam_submmit_on",children:"".concat(o("course_management_exam_submmit_on")," ").concat(o("common_show_time",{weekDay:c[s.getDay()],day:s.getDate(),month:l[s.getMonth()],year:s.getFullYear(),time:"".concat(s.getHours()<10?"0".concat(s.getHours()):s.getHours(),":").concat(s.getMinutes()<10?"0".concat(s.getMinutes()):s.getMinutes())}))})]}),(0,Z.jsx)("td",{children:e.markTotal}),(0,Z.jsx)("td",{children:e.markTotal/i*r}),(0,Z.jsx)("td",{children:(0,Z.jsx)(M.rU,{to:"".concat(_._.student.exam.review.replace(":courseId",a).replace(":examId",n).replace(":submissionId",e.examSubmissionId)),children:(0,Z.jsx)(as.Z,{"translation-key":"exam_detail_summary_open_review",href:"",underline:"hover",variant:"plain",level:"body-sm",children:o("exam_detail_summary_open_review")})})})]},t)})),0===t.length&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("tr",{children:(0,Z.jsx)("td",{colSpan:s.length,style:{textAlign:"center",verticalAlign:"middle"},children:(0,Z.jsx)(Rt.Z,{"translation-key":"exam_detail_summary_no_attempt",fontSize:".875rem",color:"#212121",fontWeight:"600",children:o("exam_detail_summary_no_attempt")})})})})]})]})}const rs={assignmentBody:"styles_assignmentBody__FRJVU",assignmentsWrapper:"styles_assignmentsWrapper__DNq5X",topic:"styles_topic__9jj0t"};var os=s(4271),ls=s(65898),cs=s(22514),ds=s(10850),ms=s(72695),us=s(21426),_s=s(44113),xs=s(84134),gs=s(94460),hs=s(90182),ps=s(29946),ys=s(23885),js=s(85627);const vs=()=>{var e;const{t:t}=(0,Q.$G)(),{examId:s}=(0,w.UO)(),{courseId:r}=(0,w.UO)(),o=(0,j.I0)(),l=(0,j.v9)((e=>e.exam)),c=(0,j.v9)((e=>e.takeExam.startAt)),[d,m]=(0,i.useState)([]),[u,x]=(0,i.useState)(!0),[g,h]=(0,i.useState)(new Date),[p,y]=(0,i.useState)(new Date),[v,f]=(0,i.useState)(!1),[b,I]=(0,i.useState)(""),[D,C]=(0,i.useState)(0),[T,k]=(0,i.useState)({id:"",courseId:"",name:"",scores:0,maxScores:0,timeOpen:new Date,timeClose:new Date,timeLimit:0,intro:"",overdueHanding:"",canRedoQuestions:!1,maxAttempts:0,shuffleAnswers:!1,gradeMethod:"",createdAt:new Date,updatedAt:new Date});(0,i.useEffect)((()=>{(()=>{let e=0;"QUIZ_GRADEHIGHEST"===T.gradeMethod?e=Math.max(...d.map((e=>e.markTotal)))/(T.scores||1)*(T.maxScores||0):"QUIZ_GRADEAVERAGE"===T.gradeMethod?e=d.reduce(((e,t)=>e+t.markTotal),0)/d.length:"QUIZ_ATTEMPTFIRST"===T.gradeMethod&&(e=d[0].markTotal);"QUIZ_ATTEMPTLAST"===T.gradeMethod&&(e=d[d.length-1].markTotal),C(e)})()}),[d]),(0,i.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await Et.O.getExamById(e);k(t),o((0,Gt.gm)(t))}catch(s){s.code!==xs.z.notFound&&s.code!==xs.z.serverError||(f(!0),I(t("course_error_exam_not_found")))}})(null!==s&&void 0!==s?s:l.examDetail.id),await(async(e,t)=>{try{const s=await Et.O.getAllAttemptByExamIdAndUserId(e,t);m(s)}catch(s){console.error(s)}})(null!==s&&void 0!==s?s:l.examDetail.id,"2d7ed5a0-fb21-4927-9a25-647c17d29668"),x(!1)})();const e=new Date(T.timeOpen)?new Date(T.timeOpen):new Date,n=new Date(T.timeClose)?new Date(T.timeClose):new Date;h(e),y(n)}),[]);const S=(0,w.s0)(),N=[t("common_january"),t("common_february"),t("common_march"),t("common_april"),t("common_may"),t("common_june"),t("common_july"),t("common_august"),t("common_september"),t("common_october"),t("common_november"),t("common_december")],A=[t("common_sunday"),t("common_monday"),t("common_tuesday"),t("common_wednesday"),t("common_thursday"),t("common_friday"),t("common_saturday")];return v?(0,Z.jsx)(gs.Z,{errorTitle:b}):(0,Z.jsxs)(a.Z,{className:rs.assignmentBody,children:[(0,Z.jsx)(hs.q,{"translation-key":"course_detail_exam",children:(0,Z.jsxs)("title",{children:[t("course_detail_exam")," | ",T.name]})}),(0,Z.jsx)(X.Z,{children:T.name}),(0,Z.jsx)(ls.Z,{variant:"soft",color:"neutral",onClick:()=>{S(_._.student.course.assignment.replace(":courseId",l.examDetail.courseId))},startDecorator:(0,Z.jsx)(Lt.Z,{}),"translation-key":"common_back",sx:{width:"fit-content"},children:t("common_back")}),(0,Z.jsx)(ms.Z,{variant:"outlined",color:"neutral",sx:{padding:"10px"},children:(0,Z.jsx)(n.ZP,{container:!0,children:(0,Z.jsx)(n.ZP,{item:!0,xs:12,md:12,children:(0,Z.jsxs)(ss.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,Z.jsx)(cs.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,Z.jsxs)(ss.Z,{direction:"row",spacing:.5,children:[(0,Z.jsx)(Rt.Z,{fontWeight:"bolder","translation-key":"course_assignment_detail_open_time",color:"#434343",fontSize:"12px",children:"".concat(t("course_assignment_detail_open_time"),": ")}),(0,Z.jsxs)(Rt.Z,{color:"#434343",fontSize:"12px",children:[" ",t("common_show_time",{weekDay:A[g.getDay()],day:g.getDate(),month:N[g.getMonth()],year:g.getFullYear(),time:"".concat(g.getHours()<10?"0".concat(g.getHours()):g.getHours(),":").concat(g.getMinutes()<10?"0".concat(g.getMinutes()):g.getMinutes())})]})]}),(0,Z.jsx)(ds.Z,{sx:{color:"#707070",fontSize:"20px"}})," ",(0,Z.jsxs)(ss.Z,{direction:"row",spacing:.5,children:[(0,Z.jsx)(Rt.Z,{fontWeight:"bolder",color:"#434343",fontSize:"12px","translation-key":"course_assignment_detail_close_time",children:"".concat(t("course_assignment_detail_close_time"),": ")}),(0,Z.jsx)(Rt.Z,{color:"#434343",fontSize:"12px",children:t("common_show_time",{weekDay:A[p.getDay()],day:p.getDate(),month:N[p.getMonth()],year:p.getFullYear(),time:"".concat(p.getHours()<10?"0".concat(p.getHours()):p.getHours(),":").concat(p.getMinutes()<10?"0".concat(p.getMinutes()):p.getMinutes())})})]})]})})})}),(0,Z.jsx)(a.Z,{className:rs.assignmentDescription,children:(0,Z.jsx)("div",{dangerouslySetInnerHTML:{__html:T.intro}})}),(0,Z.jsxs)(ss.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,Z.jsx)(ls.Z,{disabled:d.length===T.maxAttempts&&0!==T.maxAttempts,onClick:()=>{const e=T.timeOpen?new Date(T.timeOpen):new Date,t=T.timeClose?new Date(T.timeClose):new Date,n=T.createdAt?new Date(T.createdAt):new Date,a=T.updatedAt?new Date(T.updatedAt):new Date,i={id:T.id,courseId:T.courseId,name:T.name,scores:T.scores,maxScores:T.maxScores,timeOpen:e.toISOString(),timeClose:t.toISOString(),timeLimit:T.timeLimit,intro:T.intro,overdueHanding:T.overdueHanding,canRedoQuestions:T.canRedoQuestions,maxAttempts:T.maxAttempts,shuffleAnswers:T.shuffleAnswers,gradeMethod:T.gradeMethod,createdAt:n.toISOString(),updatedAt:a.toISOString()};o((0,os.uA)(i)),S(_._.student.exam.take.replace(":courseId",r||l.examDetail.courseId).replace(":examId",s||l.examDetail.id))},sx:{width:"fit-content",height:"fit-content"},children:t(c?"exam_detail_continue":"exam_detail_start")}),(0,Z.jsx)(js.Z,{thickness:3,sx:{fontWeight:"bolder",textAlign:"center"},size:"lg",determinate:!0,value:0===T.maxAttempts?100:d.length/(T.maxAttempts||1)*100,"translation-key":["exam_detail_summary_attempt","exam_detail_attempt_unlimited"],children:0===T.maxAttempts?(0,Z.jsx)(Z.Fragment,{children:t("exam_detail_attempt_unlimited")}):(0,Z.jsxs)(Z.Fragment,{children:["".concat(d.length," / ").concat(T.maxAttempts),(0,Z.jsx)("br",{}),t("exam_detail_summary_attempt")]})})]}),(0,Z.jsx)(ms.Z,{variant:"soft",color:"neutral",sx:{padding:"10px"},children:(0,Z.jsxs)(ss.Z,{spacing:1.5,children:[(0,Z.jsxs)(ss.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,Z.jsx)(us.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,Z.jsxs)(ss.Z,{direction:"row",spacing:.5,children:[(0,Z.jsxs)(Rt.Z,{"translation-key":"exam_detail_time_limit",fontWeight:"bolder",color:"#434343",fontSize:"12px",children:[t("exam_detail_time_limit"),": "]}),(0,Z.jsx)(Rt.Z,{color:"#434343",fontSize:"12px",children:(0,ns.m)(1e3*(null!==(e=T.timeLimit)&&void 0!==e?e:0),ys.ZP.language)})]})]}),(0,Z.jsxs)(ss.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,Z.jsx)(_s.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,Z.jsxs)(ss.Z,{direction:"row",spacing:.5,children:[(0,Z.jsxs)(Rt.Z,{"translation-key":"exam_detail_grading_method",fontWeight:"bolder",color:"#434343",fontSize:"12px",children:[t("exam_detail_grading_method"),": "]}),(0,Z.jsx)(Rt.Z,{color:"#434343",fontSize:"12px",children:"QUIZ_GRADEHIGHEST"===T.gradeMethod?t("exam_detail_grading_method_high_score"):"QUIZ_GRADEAVERAGE"===T.gradeMethod?t("exam_detail_grading_method_average_score"):"QUIZ_ATTEMPTFIRST"===T.gradeMethod?t("exam_detail_grading_method_first_submit"):"QUIZ_ATTEMPTLAST"===T.gradeMethod?t("exam_detail_grading_method_last_submit"):""})]})]}),(0,Z.jsxs)(ss.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,Z.jsx)(ps.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,Z.jsxs)(ss.Z,{direction:"row",spacing:.5,children:[(0,Z.jsx)(Rt.Z,{fontWeight:"bolder",color:"#434343",fontSize:"12px","translation-key":"exam_detail_max_attempt",children:"".concat(0===T.maxAttempts?t("exam_detail_attempt_unlimited"):t("exam_detail_max_attempt"),": ")}),(0,Z.jsx)(Rt.Z,{color:"#434343",fontSize:"12px",children:T.maxAttempts})]})]})]})}),(0,Z.jsx)(Jt.Z,{"translation-key":"exam_detail_summary_previous_attempt",children:t("exam_detail_summary_previous_attempt")}),(0,Z.jsx)(is,{examId:s||l.examDetail.id,courseId:r||l.examDetail.courseId,headers:[t("exam_detail_summary_attempt"),t("exam_detail_summary_state"),"".concat(t("exam_detail_mark")," / ").concat(T.scores),"".concat(t("common_final_grade")," / ").concat(T.maxScores),t("exam_detail_summary_review")],rows:d,examMark:T.scores||0,examGrade:T.maxScores||0}),0!==d.length&&(0,Z.jsxs)(Jt.Z,{"translation-key":"exam_detail_grading_method_high_score",children:[t("exam_detail_grading_method_high_score"),": ",(0,Z.jsx)("span",{style:{color:"red"},children:D})," / ",T.maxScores]})]})};var Zs=s(89840);const fs=e=>{const{id:t,name:s,type:n,startDate:i,endDate:r,status:o}=e,{t:l}=(0,Q.$G)();let c="";const d=o===ze.u.submitted?"var(--gray-3)":"white",m=o===ze.u.submitted?"line-through":"none";if(n===ze.Q.assignment)c=l("common_type_assignment");return(0,Z.jsx)(P.ZP,{alignItems:"flex-start",sx:{backgroundColor:d},children:(0,Z.jsx)(Zs.Z,{children:(0,Z.jsx)(B.Z,{primary:(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(Oe.Z,{component:"span",variant:"body2",color:"text.primary",sx:{textDecorationLine:m},children:s})}),secondary:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Oe.Z,{"translation-key":"common_type_assignment",component:"span",variant:"body2",color:"text.primary",children:c}),(0,Z.jsxs)(a.Z,{children:[(0,Z.jsxs)(Oe.Z,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary","translation-key":"common_deadline",children:[l("common_deadline"),":"]})," ".concat(r," ")]})]})})})})},bs=(0,i.memo)((e=>{const{t:t}=(0,Q.$G)(),s=(0,w.s0)(),{courseId:r}=(0,w.UO)(),{pathname:o}=(0,w.TH)(),l=(0,m.ZP)(Ae.Z)({"& .MuiTabs-indicator":{backgroundColor:"transparent",display:"none",borderBottom:"none"},"& .MuiTabs-flexContainer":{width:"fit-content",padding:"4px 3px",borderRadius:8}}),c=(0,m.ZP)((e=>(0,Z.jsx)(Me.Z,{disableRipple:!0,...e})))((e=>{let{theme:t}=e;return{textTransform:"none",width:120,minHeight:29,borderRadius:10,padding:"10px 6px",fontSize:16,[t.breakpoints.up("sm")]:{minWidth:0},fontWeight:500,color:"rgba(0, 0, 0, 0.85)",fontFamily:["-apple-system","BlinkMacSystemFont",'"Roboto"'].join(","),"&:hover":{color:"#1976d2",backgroundColor:"#ECF4FD",transition:"all 0.2s ease-in-out",opacity:1},"&.Mui-selected":{color:"#1976d2",backgroundColor:"#ECF4FD",fontWeight:t.typography.fontWeightMedium},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}})),d=(0,i.useMemo)((()=>[_._.student.course.information,_._.student.course.assignment,_._.student.course.grade,_._.student.course.participant]),[_._]),u=(0,i.useMemo)((()=>{if(r){const e=d.findIndex((e=>{return t=e.replace(":courseId",r),!!o.startsWith(t);var t}));return-1===e?0:e}}),[o,d]),x=[{id:1,name:"Assignment 1",type:ze.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:ze.u.submitted},{id:2,name:"Assignment 2",type:ze.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:ze.u.notSubmitted},{id:3,name:"Assignment 3",type:ze.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:ze.u.notSubmitted},{id:4,name:"Assignment 4",type:ze.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:ze.u.submitted}],g=(0,w.TH)().pathname.includes("information");return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(a.Z,{className:Pe,"translation-key":["course_detail_classroom","course_detail_assignment","common_grade","course_detail_participant"],children:(0,Z.jsxs)(l,{value:u,onChange:(e,t)=>{r&&s(d[t].replace(":courseId",r))},"aria-label":"basic tabs example",className:Be,children:[(0,Z.jsx)(c,{sx:{textTransform:"none"},label:t("course_detail_classroom"),value:0}),(0,Z.jsx)(c,{sx:{textTransform:"none"},label:t("course_detail_assignment"),value:1}),(0,Z.jsx)(c,{sx:{textTransform:"none"},label:t("common_grade"),value:2}),(0,Z.jsx)(c,{sx:{textTransform:"none"},label:t("course_detail_participant"),value:3})]})}),(0,Z.jsx)(a.Z,{id:Ee,children:(0,Z.jsxs)(n.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(n.ZP,{item:!0,xs:g?7.2:12,children:(0,Z.jsxs)(w.Z5,{children:[(0,Z.jsx)(w.AW,{path:"information",element:(0,Z.jsx)(Xe,{})}),(0,Z.jsx)(w.AW,{path:"assignments",element:(0,Z.jsx)(Qt,{})}),(0,Z.jsx)(w.AW,{path:"assignments/:assignmentId",element:(0,Z.jsx)(ts,{})}),(0,Z.jsx)(w.AW,{path:"assignments/exams/:examId",element:(0,Z.jsx)(vs,{})}),(0,Z.jsx)(w.AW,{path:"grade",element:(0,Z.jsx)(ut,{})}),(0,Z.jsx)(w.AW,{path:"participant",element:(0,Z.jsx)(ft,{})})]})}),g&&(0,Z.jsxs)(n.ZP,{item:!0,xs:4.8,children:[(0,Z.jsx)(Ne,{}),(0,Z.jsxs)(nt.Z,{className:Ge,children:[(0,Z.jsx)(Oe.Z,{className:Ue,"translation-key":"course_detail_need_to_do_title",children:t("course_detail_need_to_do_title")}),(0,Z.jsx)(S.Z,{}),(0,Z.jsx)(N.Z,{sx:{width:"100%",bgcolor:"background.paper"},className:We,children:x.map(((e,t)=>(0,Z.jsx)(fs,{id:e.id,name:e.name,endDate:e.endDate,startDate:e.startDate,type:e.type,status:e.status},t)))})]})]})]})})]})})),Is=e=>(0,Z.jsx)(n.ZP,{className:r,children:(0,Z.jsx)(D,{children:(0,Z.jsx)(a.Z,{className:o,children:(0,Z.jsx)(a.Z,{className:l,children:(0,Z.jsxs)(w.Z5,{children:[(0,Z.jsx)(w.AW,{path:"courses",element:(0,Z.jsx)(ie,{})}),(0,Z.jsx)(w.AW,{path:"courses/:courseId/*",element:(0,Z.jsx)(bs,{})}),(0,Z.jsx)(w.AW,{path:"calendar",element:(0,Z.jsx)(Ne,{})})]})})})})})}}]);