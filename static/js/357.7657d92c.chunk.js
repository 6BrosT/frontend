"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[357],{47322:(e,t,n)=>{n.d(t,{Z:()=>o});n(47313);var a=n(44944),s=n(35765),i=n(46417);function o(e){let{dataset:t,xAxis:n,yAxis:o,series:r,width:l,height:c,gridHorizontal:d,gridVertical:m,borderRadius:u,padding:_,...h}=e;return(0,i.jsx)(a.v,{dataset:t,xAxis:n,yAxis:o,series:r,width:l,height:c,grid:{vertical:m,horizontal:d},borderRadius:u,sx:{[".".concat(s.x.left," .").concat(s.x.label)]:{transform:"translate(-25px, 0)"},padding:_||"25px"}})}},93588:(e,t,n)=>{n.d(t,{Z:()=>y});var a=n(81195),s=n(57983),i=n(9019),o=n(70501),r=n(41727),l=n(19536),c=n(48623),d=n(71263),m=n(47131),u=n(16783),_=n(47313),h=n(75590),x=n(65537);const g={gridContainer:"styles_gridContainer__wNPRW",formWrapper:"styles_formWrapper__QAxil",container:"styles_container__CQwR3",inputField:"styles_inputField__nA0Z2",searchDivider:"styles_searchDivider__xmfSA"};var p=n(46417);const y=e=>{let{value:t,setValue:n,options:y,onHandleChange:j,placeHolder:b,maxWidth:f,size:Z="small",renderOption:v}=e;const C=(0,x.v9)((e=>e.certifcateCourse)),{t:k}=(0,h.$G)(),T=_.useMemo((()=>C.isLoading),[C]),S=e=>{n(e.target.value)},w=()=>{n("")};return _.useEffect((()=>{const e=setTimeout((()=>{j(t)}),800);return()=>clearTimeout(e)}),[j,t]),(0,p.jsx)(i.ZP,{container:!0,className:g.gridContainer,children:(0,p.jsx)(i.ZP,{item:!0,xs:12,md:12,sm:12,lg:12,children:(0,p.jsx)(o.Z,{className:g.container,style:{width:"100%"},children:(0,p.jsx)(c.Z,{id:"free-solo-demo",freeSolo:!0,sx:{width:"100%"},value:t,size:Z,loading:T,options:y,getOptionLabel:e=>"string"===typeof e?e:e.name,renderInput:e=>(0,p.jsx)(u.Z,{...e,variant:"outlined",value:t,onChange:S,placeholder:b||k("common_search"),autoComplete:"off",InputProps:{...e.InputProps,startAdornment:(0,p.jsxs)(r.Z,{position:"start",children:[(0,p.jsx)(s.Z,{}),(0,p.jsx)(l.Z,{className:g.searchDivider,orientation:"vertical"})]}),endAdornment:(0,p.jsx)(r.Z,{position:"end",children:null===t||""===t?(0,p.jsx)(m.Z,{className:g.button,disabled:!0,edge:"end",children:(0,p.jsx)(d.Z,{})}):(0,p.jsx)(m.Z,{onClick:w,className:g.button,edge:"end",sx:{marginRight:"-30px"},children:(0,p.jsx)(a.Z,{})})})}}),renderOption:v})})})})}},42278:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(70501),s=n(79536),i=n(1550),o=n(15103),r=n(88797),l=n(51405);const c="style_container__boAL0",d="style_searchWrapper__nUsY7",m="style_colSearchContainer__qXGQ5";var u=n(41835),_=n(47313),h=n(5124),x=n(99140),g=n(46417);const p=()=>{const[e,t]=(0,_.useState)("name");return(0,g.jsxs)(a.Z,{className:c,children:[(0,g.jsxs)(s.Z,{className:d,children:[(0,g.jsx)(h.Z,{onSearchClick:e=>{console.log(e)}}),(0,g.jsxs)(i.Z,{className:m,children:[(0,g.jsx)(o.Z,{id:"colSearch",children:"T\xecm ki\u1ebfm theo c\u1ed9t"}),(0,g.jsxs)(r.Z,{labelId:"colSearch",id:"colSearchSelect",value:e,onChange:(e,n)=>{t(e.target.value)},label:"T\xecm ki\u1ebfm theo c\u1ed9t",children:[(0,g.jsx)(l.Z,{value:"name",children:"T\xean"}),(0,g.jsx)(l.Z,{value:"emai",children:"Email"}),(0,g.jsx)(l.Z,{value:"role",children:"Ch\u1ee9c v\u1ee5"})]})]})]}),(0,g.jsx)(x.Z,{btnType:x.s.Primary,startIcon:(0,g.jsx)(u.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},children:"Xu\u1ea5t d\u1eef li\u1ec7u"})]})}},49737:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(47322),s=n(46417);function i(e){let{dataset:t,xAxis:n,width:i,height:o,...r}=e;const l=[{dataKey:"student",label:"Sinh vi\xean",valueFormatter:e=>null===e?"No data":"".concat(e," sinh vi\xean")}];return(0,s.jsx)(a.Z,{dataset:t,xAxis:n,yAxis:[{label:"T\u1ed5ng s\u1ed1 sinh vi\xean \u0111\u1ea1t kho\u1ea3ng \u0111i\u1ec3m"}],series:l,width:i,height:o,...r})}},29961:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ei});var a=n(9019),s=n(79536);const i="styles_root__enCMQ",o="styles_container__-8DXJ",r="styles_body__NhpWp";var l=n(58467),c=n(5211),d=n(19536),m=n(80240),u=n(18708),_=n(99140),h=n(37735),x=n(31845),g=n(10658),p=n.n(g),y=n(47313),j=n(65033),b=n(97707),f=n(83929),Z=n(74268),v=n(15535),C=n(89990),k=n(16977),T=n(92556),S=n(99221);const w="styles_formBody__9kmtj",N="styles_textEditor__PPy+C";var I=n(38556),P=n(75590),D=n(70816),A=n.n(D),E=n(46417);const q=e=>{let{data:t,handleChangData:n,open:i,title:o,handleClose:r,children:l,cancelText:c,confirmText:d,onHandleCancel:m,onHanldeConfirm:u,...x}=e;const{t:g}=(0,P.$G)(),D=(0,y.useCallback)((()=>{n({isExpanded:!t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,eventDescription:t.eventDescription,start:t.start,end:t.end,allDay:t.allDay,eventType:t.eventType})}),[t,n]),{height:q}=(0,I.Z)();return(0,E.jsx)(C.Z,{open:i,handleClose:r,title:o,cancelText:c,confirmText:d,onHandleCancel:m,onHanldeConfirm:u,minWidth:"800px",maxHeight:"".concat(.6*q,"px"),...x,children:(0,E.jsxs)(s.Z,{component:"form",className:w,autoComplete:"off",children:[(0,E.jsx)(k.Z,{type:"text",title:g("calendar_event_name"),"translation-key":"calendar_event_name",value:t.eventTitle,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:e.target.value,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription,eventType:t.eventType})}}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"calendar_event_date",children:g("calendar_event_date")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,children:(0,E.jsx)(v.Z,{value:A()(t.start),onHandleValueChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:(null===e||void 0===e?void 0:e.toString())||"",end:t.end,allDay:t.allDay,eventDescription:t.eventDescription,eventType:t.eventType})}})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"calendar_event_type",children:g("calendar_event_type")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,children:(0,E.jsx)(h.Z,{labelId:"select-assignment-section-label",value:t.eventType,onHandleChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription,eventType:e})},sx:{maxWidth:"200px"},items:[{value:"0",label:g("calendar_event_type_user")},{value:"1",label:g("calendar_event_type_course")}],"translation-key":["calendar_event_type_course","calendar_event_type_user"]})})]}),(0,E.jsx)(_.Z,{btnType:_.s.Text,onClick:D,width:"fit-content",padding:"0px","translation-key":["calendar_event_collapse","calendar_event_expand"],children:t.isExpanded?"".concat(g("calendar_event_collapse"),"..."):"".concat(g("calendar_event_expand"),"...")}),(0,E.jsxs)(j.Z,{in:t.isExpanded,children:[(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"detail_problem_description",children:g("detail_problem_description")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:N,children:(0,E.jsx)(T.Z,{value:t.eventDescription,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:e,eventType:t.eventType})}})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,sx:{marginTop:"30px"},children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,sx:{marginTop:"10px"},children:(0,E.jsx)(S.Z,{"translation-key":"calendar_event_time_range",children:g("calendar_event_time_range")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,children:(0,E.jsxs)(b.Z,{"aria-label":"duration",name:"duration",value:t.durationRadioIndex,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:e.target.value,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription,eventType:t.eventType})},children:[(0,E.jsx)(f.Z,{value:"0",control:(0,E.jsx)(Z.Z,{}),label:g("calendar_event_name_time_no_range"),"translation-key":"calendar_event_name_time_no_range"},0),(0,E.jsx)(f.Z,{value:"1",control:(0,E.jsx)(Z.Z,{}),label:g("calendar_event_name_time_till"),"translation-key":"calendar_event_name_time_till"},1),(0,E.jsx)(v.Z,{value:A()(t.end),onHandleValueChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:(null===e||void 0===e?void 0:e.toString())||"",allDay:t.allDay,eventDescription:t.eventDescription,eventType:t.eventType})},disabled:"1"!==t.durationRadioIndex}),(0,E.jsx)(f.Z,{value:"2",control:(0,E.jsx)(Z.Z,{}),label:g("calendar_event_name_time_minute"),"translation-key":"calendar_event_name_time_minute"},2),(0,E.jsx)(k.Z,{type:"number",value:t.durationInMinute,onChange:e=>{const a=p()(t.start).add(Number(e.target.value),"minute").toString();n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:Number(e.target.value),eventTitle:t.eventTitle,start:t.start,end:a,allDay:t.allDay,eventDescription:t.eventDescription,eventType:t.eventType})},disabled:"2"!==t.durationRadioIndex,maxWith:"200px"})]})})]})]})]})})},B="styles_calendarBody__WGVGd",M=()=>{const{t:e}=(0,P.$G)(),[t,n]=(0,y.useState)({isExpanded:!1,durationRadioIndex:"0",durationInMinute:0,eventTitle:"",eventDescription:"",start:"",end:"",allDay:!1,eventType:"0",isAddEventDialogOpen:!1,selectDateInfo:null,filterCourse:"0",currentEvents:[{id:(0,u.J)(),title:"S\u1ef1 ki\u1ec7n n\u1ed9p b\xe0i nh\u1eadp m\xf4n l\u1eadp tr\xecnh",start:"2024-02-28",end:"2024-03-02",allDay:!0,description:"N\u1ed9p b\xe0i t\u1eadp l\u1edbn"},{id:(0,u.J)(),title:"S\u1ef1 ki\u1ec7n thi cu\u1ed1i k\xec nh\u1eadp m\xf4n l\u1eadp tr\xecnh",start:"2024-02-20",end:"2024-02-22",allDay:!0,description:"Thi cu\u1ed1i k\xec"}]}),a=(0,y.useCallback)((e=>{n((t=>({...t,start:e.startStr,selectDateInfo:e,isAddEventDialogOpen:!0})))}),[]),i=(0,y.useCallback)((()=>{n((e=>({...e,isAddEventDialogOpen:!0,selectDateInfo:null,eventTitle:"",start:p()().toString(),end:p()().toString()})))}),[]),o=(0,y.useCallback)((()=>{n((e=>({...e,isAddEventDialogOpen:!1})))}),[]),r=(0,y.useCallback)((()=>{n((e=>{var n,a,s;return{...e,currentEvents:[...e.currentEvents,{id:(0,u.J)(),title:e.eventTitle,start:(null===(n=t.selectDateInfo)||void 0===n?void 0:n.startStr)||"",end:(null===(a=t.selectDateInfo)||void 0===a?void 0:a.endStr)||"",allDay:(null===(s=t.selectDateInfo)||void 0===s?void 0:s.allDay)||!1,description:e.eventDescription}]}})),o()}),[o,t.selectDateInfo]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(q,{open:t.isAddEventDialogOpen,handleClose:()=>{o(),n((e=>({...e,isExpanded:!1})))},data:t,handleChangData:e=>{n((t=>({...t,isExpanded:e.isExpanded,durationRadioIndex:e.durationRadioIndex,durationInMinute:e.durationInMinute,eventTitle:e.eventTitle,start:e.start,end:e.end,allDay:e.allDay,eventType:e.eventType})))},title:e("calendar_add_event"),cancelText:e("common_cancel"),confirmText:e("common_create"),onHandleCancel:()=>{o(),n((e=>({...e,isExpanded:!1})))},"translation-key":["common_cancel","common_create","calendar_add_event"],onHanldeConfirm:()=>{r()}}),(0,E.jsxs)(s.Z,{id:B,children:[(0,E.jsx)(x.Z,{"translation-key":"calendar_title",children:e("calendar_title")}),(0,E.jsx)(d.Z,{}),(0,E.jsxs)(s.Z,{sx:{display:"flex",direction:"row",alignItems:"center",justifyContent:"space-between",gap:"10px"},children:[(0,E.jsx)(h.Z,{labelId:"select-assignment-section-label",value:t.filterCourse,onHandleChange:e=>{n((t=>({...t,filterCourse:e})))},sx:{maxWidth:"200px"},items:[{value:"0",label:e("calendar_all_course")},{value:"1",label:"Nh\u1eadp m\xf4n l\u1eadp tr\xecnh"},{value:"2",label:"L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng"}],"translation-key":"calendar_all_course"}),(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:()=>{i()},startIcon:(0,E.jsx)(c.Z,{}),"translation-key":"calendar_add_event",children:e("calendar_add_event")})]}),(0,E.jsx)(m.Z,{events:t.currentEvents,handleDateSelect:a,editable:!0})]})]})};var R=n(5124);const W={cardContainer:"styles_cardContainer__pq8+p",topGroup:"styles_topGroup__bLoxm",detailGroup:"styles_detailGroup__-PkRd",cardDivider:"styles_cardDivider__rPOZa",moreButton:"styles_moreButton__keN3a",listWrapper:"styles_listWrapper__n0jkc",listItem:"styles_listItem__ktsgd"};var L=n(48119),H=n(48310),O=n(90891),G=n(67216),U=n(83213),F=n(32600),z=n(33223),V=n(49709),Q=n(78041),Y=n(17592),J=n(90469),$=n(2135),X=n(38037),K=n(68464);const ee=(0,Y.ZP)((e=>{let{className:t,...n}=e;return(0,E.jsx)(V.Z,{...n,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{["& .".concat(Q.Z.tooltip)]:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #dadde9"}}})),te=e=>{const{t:t}=(0,P.$G)();return(0,E.jsxs)(a.ZP,{className:W.cardContainer,children:[(0,E.jsx)(s.Z,{className:W.topGroup,children:(0,E.jsx)(s.Z,{className:W.detailGroup,children:(0,E.jsx)(X.Z,{children:e.courseCategory})})}),(0,E.jsx)(d.Z,{className:W.cardDivider}),(0,E.jsxs)(H.Z,{className:W.listWrapper,children:[(0,E.jsx)(K.Z,{className:W.courseNameText,colorname:"--blue-3",children:(0,E.jsx)(O.Z,{component:$.rU,to:J._.lecturer.course.information.replace(":courseId",e.courseId),underline:"hover",color:"inherit",children:e.courseName})}),e.teacherList.slice(0,2).map((e=>(0,E.jsxs)(G.ZP,{className:W.listItem,children:[(0,E.jsx)(F.Z,{children:(0,E.jsx)(L.Z,{alt:e.firstName,src:""})}),(0,E.jsx)(U.Z,{primary:(0,E.jsxs)(O.Z,{component:$.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))]}),e.teacherList.length>2?(0,E.jsx)(ee,{placement:"right-end",title:(0,E.jsx)(H.Z,{children:e.teacherList.map((e=>(0,E.jsxs)(G.ZP,{className:W.tooltipTeacherList,children:[(0,E.jsx)(F.Z,{children:(0,E.jsx)(L.Z,{alt:e.firstName,src:""})}),(0,E.jsx)(U.Z,{primary:(0,E.jsxs)(O.Z,{component:$.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))}),slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-14]}}]}},children:(0,E.jsx)(z.Z,{className:W.moreButton,"translation-key":"course_see_all_teacher",children:t("course_see_all_teacher")})}):null]})},ne={pageTitle:"styles_pageTitle__utjOa",featureGroup:"styles_featureGroup__nAbOe",changeViewButtonGroup:"styles_changeViewButtonGroup__Vsx+e",filterContainer:"styles_filterContainer__7zfSy",coursesBody:"styles_coursesBody__NfFJ1"};var ae=n(55719),se=n(43960),ie=n(30961),oe=n(48571);const re={container:"styles_container__aji35",courseInfo:"styles_courseInfo__sCSBE",teacherItemText:"styles_teacherItemText__dNV7h",teacherListGridContainer:"styles_teacherListGridContainer__iGRhU",teacherAvatarContainer:"styles_teacherAvatarContainer__vhtIt",teacherAvatar:"styles_teacherAvatar__4yQkt",primaryTeacherText:"styles_primaryTeacherText__zmC9L",secondaryTeacherText:"styles_secondaryTeacherText__3svyV"},le=e=>(0,E.jsx)(a.ZP,{className:re.container,children:(0,E.jsx)(a.ZP,{container:!0,spacing:1,children:(0,E.jsxs)(a.ZP,{item:!0,xs:12,container:!0,direction:"column",children:[(0,E.jsx)(a.ZP,{item:!0,xs:!0,className:re.courseInfo,children:(0,E.jsx)(s.Z,{className:re.courseInfoWrapper,children:(0,E.jsx)(X.Z,{gutterBottom:!0,variant:"subtitle1",colorname:"--blue-3",children:(0,E.jsxs)(O.Z,{component:$.rU,to:J._.lecturer.course.information.replace(":courseId",e.courseId),underline:"hover",color:"inherit",children:[e.courseName," - ",e.courseCategory]})})})}),(0,E.jsx)(a.ZP,{item:!0,xs:!0,className:re.teacherListGridContainer,children:e.teacherList.map((e=>(0,E.jsxs)(G.ZP,{children:[(0,E.jsx)(F.Z,{className:re.teacherAvatarContainer,children:(0,E.jsx)(L.Z,{className:re.teacherAvatar,alt:e.firstName,src:""})}),(0,E.jsx)(U.Z,{classes:{primary:re.primaryTeacherText,secondary:re.secondaryTeacherText},primary:(0,E.jsxs)(O.Z,{component:$.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))})]})})});var ce=n(96743),de=n(85281),me=n(4094),ue=n(6968),_e=n(1229),he=n(65537),xe=n(43175),ge=function(e){return e[e.cardView=1]="cardView",e[e.listView=2]="listView",e}(ge||{});const pe=()=>{const[e,t]=(0,y.useState)(""),[n,i]=(0,y.useState)([]),[o,r]=(0,y.useState)(!1),[l,c]=(0,y.useState)([]),[d,m]=(0,y.useState)(ge.listView),u=(0,he.v9)((e=>e.course)),_=(0,he.I0)(),{loggedUser:h}=(0,_e.Z)(),g=(0,y.useCallback)((async()=>{r(!0);try{const e=await ue._.getCourseTypes();i(e.courseTypes)}catch(e){console.error("Failed to fetch course types",e)}finally{r(!1)}}),[]),p=(0,y.useCallback)((async t=>{let{search:n=e,courseType:a=l,pageNo:s=0,pageSize:i=10}=t;if(null!==h&&void 0!==h&&h.userId){r(!0);try{const e=await me.E.getAllCourseByUserId(h.userId,{search:n,courseType:a,pageNo:s,pageSize:i});_((0,xe.sL)(e))}catch(o){console.error("Failed to fetch courses",o)}finally{r(!1)}}}),[e,l,null===h||void 0===h?void 0:h.userId]);(0,y.useEffect)((()=>{g()}),[]),(0,y.useEffect)((()=>{null!==h&&void 0!==h&&h.userId&&p({search:e,courseType:l})}),[e,l,null===h||void 0===h?void 0:h.userId,p]);const j=(0,y.useCallback)(((e,t)=>{m(t)}),[]),b=(0,y.useCallback)((t=>{c(t),p({search:e,courseType:t})}),[p,e]),{t:f}=(0,P.$G)(),Z=(0,y.useMemo)((()=>l.length?u.courses.filter((e=>l.includes(e.courseType.name))):u.courses),[u.courses,l]);return(0,E.jsxs)(s.Z,{id:ne.coursesBody,children:[(0,E.jsx)(x.Z,{className:ne.pageTitle,"translation-key":"course_list_title",children:f("course_list_title")}),(0,E.jsx)(R.Z,{onSearchClick:t}),o?(0,E.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,E.jsx)(de.Z,{})}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(s.Z,{className:ne.featureGroup,children:[(0,E.jsx)(s.Z,{className:ne.filterContainer,children:(0,E.jsx)(ce.Z,{label:f("course_filter"),defaultChipList:n.map((e=>e.name)),filterList:l,onFilterListChangeHandler:b,"translation-key":"course_filter"})}),(0,E.jsxs)(ae.Z,{className:ne.changeViewButtonGroup,value:d,exclusive:!0,onChange:j,children:[(0,E.jsx)(se.Z,{value:ge.listView,"aria-label":"list",children:(0,E.jsx)(ie.Z,{})}),(0,E.jsx)(se.Z,{value:ge.cardView,"aria-label":"module",children:(0,E.jsx)(oe.Z,{})})]})]}),d===ge.cardView?(0,E.jsx)(s.Z,{sx:{flexGrow:1},className:ne.gridContainer,children:(0,E.jsx)(a.ZP,{container:!0,spacing:2,children:Z.map(((e,t)=>(0,E.jsx)(a.ZP,{className:ne.gridItem,item:!0,xs:12,sm:6,md:4,lg:3,children:(0,E.jsx)(te,{index:t,courseId:e.id,courseAvatarUrl:"https://picsum.photos/200",courseCategory:e.courseType.name,courseName:e.name,teacherList:e.teachers})},e.id)))})}):(0,E.jsx)(s.Z,{sx:{flexGrow:1,marginTop:"20px"},className:ne.gridContainer,children:(0,E.jsx)(a.ZP,{container:!0,spacing:4,children:Z.map((e=>(0,E.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:12,lg:12,children:(0,E.jsx)(le,{courseId:e.id,courseAvatarUrl:"https://picsum.photos/200",courseCategory:e.courseType.name,courseName:e.name,teacherList:e.teachers})},e.id)))})})]})]})};var ye=n(95861),je=n(65280),be=n(80142),fe=n(33099),Ze=n(83789);const ve="styles_assignmentBody__ELRoy",Ce="styles_assignmentsWrapper__I2RmH",ke="styles_topic__wbqiu";var Te=n(11053),Se=n(70501),we=n(1550),Ne=n(15103),Ie=n(88797),Pe=n(51405);const De="style_container__dTxlz",Ae="style_searchWrapper__Q0yXp",Ee="style_colSearchContainer__GifFq",qe=e=>{let{colSearchLabel:t,shuffleQuestionsLabel:n,colItems:i}=e;const[o,r]=(0,y.useState)("name");return(0,E.jsx)(Se.Z,{className:De,children:(0,E.jsx)(s.Z,{className:Ae,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(a.ZP,{item:!0,xs:6,children:(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)},maxWidth:"100%"})}),(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsxs)(we.Z,{className:Ee,children:[(0,E.jsx)(Ne.Z,{id:"colSearch",children:t}),(0,E.jsx)(Ie.Z,{labelId:"colSearch",id:"colSearchSelect",value:o,onChange:(e,t)=>{r(e.target.value)},children:null===i||void 0===i?void 0:i.map((e=>(0,E.jsx)(Pe.Z,{value:e.value,children:e.label},e.value)))})]})})]})})})};function Be(e){let{open:t,title:n,handleClose:s,onOpenReuseResourceDialog:i,...o}=e;const{t:r}=(0,P.$G)(),l=y.useMemo((()=>[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:r("course_lecturer_reuse_course_resource_dialog_grid_class"),minWidth:400},{field:"program",headerName:r("course_lecturer_reuse_course_resource_dialog_grid_program"),minWidth:200},{field:"teacher",headerName:r("course_lecturer_reuse_course_resource_dialog_grid_teacher"),minWidth:400}]),[]);return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(C.Z,{open:t,handleClose:s,title:n,minWidth:"1000px",actionsDisabled:!0,...o,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(qe,{colSearchLabel:r("common_find_by_col"),colItems:[{label:r("course_lecturer_reuse_course_resource_dialog_grid_class"),value:"name"},{label:r("course_lecturer_reuse_course_resource_dialog_grid_program"),value:"program"}],"translation-key":["course_lecturer_reuse_course_resource_dialog_grid_class","course_lecturer_reuse_course_resource_dialog_grid_program","common_find_by_col"]})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:[{id:1,name:"Nh\u1eadp m\xf4n l\u1eadp tr\xecnh - 20CLC",program:"Ch\u1ea5t l\u01b0\u1ee3ng cao",teacher:"Nguy\u1ec5n V\u0103n A v\xe0 Nguy\u1ec5n V\u0103n B"},{id:2,name:"K\u1ef9 thu\u1eadt l\u1eadp tr\xecnh - 20CLC",program:"Ch\u1ea5t l\u01b0\u1ee3ng cao",teacher:"Nguy\u1ec5n V\u0103n A v\xe0 Nguy\u1ec5n V\u0103n B"},{id:3,name:"C\u1ea5u tr\xfac d\u1eef li\u1ec7u v\xe0 gi\u1ea3i thu\u1eadt - 20CLC",program:"Ch\u1ea5t l\u01b0\u1ee3ng cao",teacher:"Nguy\u1ec5n V\u0103n A v\xe0 Nguy\u1ec5n V\u0103n B"},{id:4,name:"L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng - 20APCS",program:"Ch\u01b0\u01a1ng tr\xecnh ti\xean ti\u1ebfn",teacher:"Nguy\u1ec5n V\u0103n A v\xe0 Nguy\u1ec5n V\u0103n B"}],tableHeader:l,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!1,onClickRow:e=>{i()}})})]})})})}function Me(e){let{open:t,title:n,handleClose:s,children:i,cancelText:o,confirmText:r,onHandleCancel:l,onHanldeConfirm:c,...d}=e;const{t:m}=(0,P.$G)(),u=y.useMemo((()=>[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:m("common_title"),minWidth:400},{field:"type",headerName:m("common_classify_category"),minWidth:300},{field:"topic",headerName:m("common_filter_topic"),minWidth:150}]),[]);return(0,E.jsx)(C.Z,{open:t,handleClose:s,title:n,cancelText:o,confirmText:r,onHandleCancel:l,onHanldeConfirm:c,minWidth:"1000px",...d,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(qe,{colSearchLabel:m("common_find_by_col"),colItems:[{label:m("common_title"),value:"name"},{label:m("common_classify_category"),value:"type"},{label:m("common_filter_topic"),value:"topic"}],"translation-key":["common_find_by_col","common_title","common_filter_topic","common_classify_category"]})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:[{id:1,name:"Th\xf4ng b\xe1o b\xe0i t\u1eadp 1",topic:"Ch\u01b0\u01a1ng 1",type:"Th\xf4ng b\xe1o"},{id:2,name:"Th\xf4ng b\xe1o b\xe0i t\u1eadp 2",topic:"Ch\u01b0\u01a1ng 1",type:"Th\xf4ng b\xe1o"},{id:3,name:"B\xe0i t\u1eadp OOP ch\u01b0\u01a1ng 1",topic:"Ch\u01b0\u01a1ng 1",type:"B\xe0i t\u1eadp"},{id:4,name:"B\xe0i ki\u1ec3m tra gi\u1eefa k\u1ef3",topic:"Ki\u1ec3m tra",type:"B\xe0i ki\u1ec3m tra"}],tableHeader:u,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)},checkboxSelection:!0})})]})})}var Re=n(23885),We=n(74512),Le=n(79720),He=n(16705),Oe=n(44597);const Ge=()=>{const e=(0,he.I0)(),t=(0,he.v9)((e=>e.exam)),n=(0,he.v9)((e=>e.assignment)),{courseId:i}=(0,l.UO)();(0,y.useEffect)((()=>{console.log("CCC"),(async t=>{try{const n=await We.O.getExamsByCourseId(t);e((0,Le.u6)(n))}catch(n){console.log(n)}})(null!==i&&void 0!==i?i:""),(async t=>{try{const n=await He.Y.getAssignmentsByCourseId(t);e((0,Oe.Uv)(n))}catch(n){console.log(n)}})(null!==i&&void 0!==i?i:"")}),[i]);const o=(0,y.useCallback)((async t=>{try{console.log("HEHE");if(await He.Y.deleteAssignment(t)){const a=n.assignments.filter((e=>e.id!==t));e((0,Oe.Uv)({assignments:a}))}}catch(a){console.log(a)}}),[n.assignments,e]),r=(0,y.useCallback)((async e=>{}),[t.exams.exams,e]),{t:c}=(0,P.$G)(),d=(0,l.s0)(),[m,u]=(0,y.useState)(!1),[h,g]=(0,y.useState)(!1);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(s.Z,{className:ve,children:[(0,E.jsx)(x.Z,{"translation-key":"course_detail_assignment_list",children:c("course_detail_assignment_list")}),(0,E.jsxs)(a.ZP,{container:!0,children:[(0,E.jsx)(a.ZP,{item:!0,xs:7,children:(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}})}),(0,E.jsx)(a.ZP,{item:!0,xs:5,children:(0,E.jsx)(be.Z,{popupId:"add-question-popup",triggerButtonText:Re.ZP.format(c("common_add_new"),"firstUppercase"),triggerButtonProps:{width:"150px"},btnType:_.s.Primary,menuItems:[{label:c("course_lecturer_assignment_create_new_assignment"),onClick:e=>{var t;d(J._.lecturer.assignment.create.replace(":courseId",null!==(t=null===i||void 0===i?void 0:i.toString())&&void 0!==t?t:"")),e.close()}},{label:c("course_lecturer_assignment_create_exam"),onClick:e=>{var t;d(J._.lecturer.exam.create.replace(":courseId",null!==(t=null===i||void 0===i?void 0:i.toString())&&void 0!==t?t:"")),e.close()}},{label:c("course_lecturer_assignment_reuse_resource"),onClick:e=>{u(!0),e.close()}}],"translation-key":["common_add_new","course_lecturer_assignment_create_new_assignment","course_lecturer_assignment_create_exam","course_lecturer_assignment_reuse_resource"]})})]}),(0,E.jsxs)(s.Z,{className:Ce,children:[(0,E.jsxs)(s.Z,{className:ke,children:[(0,E.jsx)(fe.Z,{"translation-key":"course_detail_assignment",children:c("course_detail_assignment")}),n.assignments&&n.assignments.map((e=>(0,E.jsx)(Ze.Z,{courseId:i,examId:e.id,resourceTitle:e.title,resourceOpenDate:e.timeOpen,resourceEndedDate:e.timeClose,intro:e.intro,type:Ze._.assignment,onDelete:o},e.id)))]}),(0,E.jsxs)(s.Z,{className:ke,children:[(0,E.jsx)(fe.Z,{"translation-key":"course_detail_exam",children:c("course_detail_exam")}),t.exams.exams.map((e=>(0,E.jsx)(Ze.Z,{courseId:null!==i&&void 0!==i?i:"",examId:e.id,resourceTitle:e.name,resourceOpenDate:e.timeOpen,resourceEndedDate:e.timeClose,intro:e.intro,type:Ze._.exam,onDelete:r},e.id)))]})]})]}),(0,E.jsx)(Be,{title:c("course_list_title"),onOpenReuseResourceDialog:()=>{u(!1),g(!0)},open:m,handleClose:()=>{u(!1)},"translation-key":"course_list_title"}),(0,E.jsx)(Me,{title:c("course_lecturer_resource_list"),open:h,cancelText:c("common_back"),onHandleCancel:()=>{u(!0),g(!1)},handleClose:()=>{u(!1),g(!1)},"translation-key":["course_lecturer_resource_list","common_back"]})]})};var Ue=n(89790),Fe=n(73428),ze=n(33060),Ve=n(80007),Qe=n(63408),Ye=n(45148),Je=n(83703);const $e="styles_robotoFont__C+qGw";function Xe(e){let{rows:t}=e;return(0,E.jsx)(Ye.Z,{variant:"outlined",children:(0,E.jsx)(Je.Z,{variant:"soft",borderAxis:"bothBetween",hoverRow:!0,className:$e,children:(0,E.jsx)("tbody",{children:t.map((e=>(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{scope:"row",style:{width:"30%"},children:e.header}),(0,E.jsx)("td",{children:e.data})]},e.header)))})})})}const Ke={assignmentBody:"styles_assignmentBody__3IT+a",assignmentsWrapper:"styles_assignmentsWrapper__KglWw",topic:"styles_topic__fiK-1"};var et=n(32952),tt=n(33256),nt=n(75948),at=n(66123);const st=()=>{var e,t,n,i,o,r,c,m,u,h,g,j,b,f;const{t:Z}=(0,P.$G)(),v=(0,l.s0)(),{assignmentId:C}=(0,l.UO)(),{courseId:k}=(0,l.UO)(),T=(0,he.v9)((e=>e.assignment)),S=(0,he.v9)((e=>e.courseUser)),w=(0,he.v9)((e=>e.submissionAssignment)),N=(0,he.I0)();function I(e,t){const n=e.getTime()-t.getTime(),a=864e5,s=36e5,i=Math.floor(n/a),o=Math.floor(n%a/s),r=Math.floor(n%s/6e4),l=Math.floor(n%6e4/1e3);return{days:Math.abs(i),hours:Math.abs(o),minutes:Math.abs(r),seconds:Math.abs(l)}}(0,y.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await He.Y.getAssignmentById(e);N((0,Oe.QI)(t))}catch(t){console.log(t)}})(null!==C&&void 0!==C?C:"")})(),(async e=>{try{const t=await me.E.countStudentByCourseId(e);console.log(t),N((0,at.wR)({amountStudent:t}))}catch(t){console.log(t)}})(null!==k&&void 0!==k?k:""),(async e=>{try{const t=await tt.J.countSubmissionToGrade(e);N((0,nt.Cl)({amountSubmissionToGrade:t}))}catch(t){console.log(t)}})(null!==C&&void 0!==C?C:""),(async e=>{try{const t=await tt.J.countAllSubmission(e);N((0,nt.V7)({amountSubmission:t}))}catch(t){console.log(t)}})(null!==C&&void 0!==C?C:""),(async e=>{try{const t=await tt.J.getSubmissionAssignmentByAssignmentId(e);N((0,nt.q5)(t))}catch(t){console.error("Failed to fetch submission assignment",t)}})(null!==C&&void 0!==C?C:"")}),[]);const D=new Date(null!==(e=null===(t=T.assignmentDetails)||void 0===t?void 0:t.timeClose)&&void 0!==e?e:new Date),A=I(D,new Date(null!==(n=null===(i=w.submissionAssignmentDetails)||void 0===i?void 0:i.submitTime)&&void 0!==n?n:new Date));I(new Date,D);return(0,E.jsxs)(s.Z,{className:Ke.assignmentBody,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{v(J._.lecturer.course.assignment.replace(":courseId",null!==k&&void 0!==k?k:""))},startIcon:(0,E.jsx)(Ue.Z,{sx:{color:"white"}}),width:"fit-content",children:(0,E.jsx)(Ve.Z,{"translation-key":"common_backk",children:Z("common_back")})}),(0,E.jsx)(x.Z,{children:null===(o=T.assignmentDetails)||void 0===o?void 0:o.title}),(0,E.jsxs)(Fe.Z,{className:Ke.pageActivityHeader,sx:{padding:"10px",backgroundColor:"#F8F9FA"},children:[(0,E.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsxs)(Qe.Z,{fontWeight:"600","translation-key":"course_assignment_detail_open_time",children:[Z("course_assignment_detail_open_time"),":"]})}),(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)(Ve.Z,{children:null===(r=p()(null===(c=T.assignmentDetails)||void 0===c?void 0:c.timeOpen))||void 0===r?void 0:r.format("DD/MM/YYYY hh:mm:ss A")})})]}),(0,E.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsxs)(Qe.Z,{fontWeight:"600","translation-key":"course_assignment_detail_close_time",children:[Z("course_assignment_detail_close_time"),":"]})}),(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)(Ve.Z,{children:null===(m=p()(null===(u=T.assignmentDetails)||void 0===u?void 0:u.timeClose))||void 0===m?void 0:m.format("DD/MM/YYYY hh:mm:ss A")})})]}),(0,E.jsx)(d.Z,{style:{marginTop:"10px",marginBottom:"10px"}}),(0,E.jsxs)(s.Z,{className:Ke.assignmentDescription,children:[(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===(h=T.assignmentDetails)||void 0===h?void 0:h.intro)||""}}),(0,E.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:(null===(g=T.assignmentDetails)||void 0===g?void 0:g.activity)||""}}),(0,E.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:(null===(j=T.assignmentDetails)||void 0===j?void 0:j.activity)||""}}),(0,E.jsx)(et.Z,{files:null===(b=T.assignmentDetails)||void 0===b||null===(f=b.introAttachments)||void 0===f?void 0:f.map((e=>({id:e.id,name:e.fileName,downloadUrl:e.fileUrl,size:e.fileSize,type:e.mimetype,lastModified:new Date(e.timemodified).toLocaleString("en-US",{timeZone:"Asia/Ho_Chi_Minh"})})))})]})]}),(0,E.jsxs)(s.Z,{sx:{display:"flex",gap:"20px"},children:[(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:()=>{v(J._.lecturer.assignment.submissions.replace(":assignmentId",null!==C&&void 0!==C?C:"").replace(":courseId",null!==k&&void 0!==k?k:""))},children:(0,E.jsx)(Ve.Z,{"translation-key":"course_lecturer_assignment_see_submit",children:Z("course_lecturer_assignment_see_submit")})}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{var e;v(J._.lecturer.assignment.grading.replace(":assignmentId",null!==C&&void 0!==C?C:"").replace(":courseId",null!==k&&void 0!==k?k:"").replace(":submissionId",null!==(e=w.submissionAssignments[0].id)&&void 0!==e?e:""))},children:(0,E.jsx)(Ve.Z,{"translation-key":"course_lecturer_assignment_grading",children:Z("course_lecturer_assignment_grading")})})]}),(0,E.jsx)(ze.Z,{"translation-key":["course_lecturer_assignment_grading","common_over"],children:Z("course_lecturer_assignment_grading")}),(0,E.jsx)(Xe,{rows:[{header:Z("course_lecturer_assignment_student_num"),data:S.amountStudent.toString()},{header:Z("course_lecturer_assignment_submitted"),data:w.amountSubmission.toString()},{header:Z("course_lecturer_assignment_need_grading"),data:w.amountSubmissionToGrade.toString()},{header:Z("common_time_left"),data:1===(()=>{var e,t,n,a;return new Date(null!==(e=null===(t=w.submissionAssignmentDetails)||void 0===t?void 0:t.submitTime)&&void 0!==e?e:new Date)<new Date(null!==(n=null===(a=T.assignmentDetails)||void 0===a?void 0:a.timeClose)&&void 0!==n?n:new Date)?1:2})()?(e=>e.days>0?e.days+" "+Z("days")+" "+e.hours+" "+Z("hours"):e.hours>0?e.hours+" "+Z("hours")+" "+e.minutes+" "+Z("minutes"):e.minutes+" "+Z("minutes")+" "+e.seconds+" "+Z("seconds"))(A):"Assignment is due"}],"translation-key":["course_lecturer_assignment_hide","common_time_left","course_lecturer_assignment_student_num","course_lecturer_assignment_need_grading","common_over"]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{v(J._.lecturer.assignment.preview_submit)},width:"fit-content",children:(0,E.jsx)(Ve.Z,{"translation-key":"course_lecturer_assignment_preview_submit",children:Z("course_lecturer_assignment_preview_submit")})})]})};var it=n(65954),ot=n(43997),rt=n(74748),lt=n(47131),ct=n(98011);const dt="style_container__zz7DE",mt="style_searchWrapper__7vDWu",ut="style_colSearchContainer__Ns-7G";var _t=n(41835);const ht=()=>{const{t:e}=(0,P.$G)(),[t,n]=(0,y.useState)("name");return(0,E.jsxs)(Se.Z,{className:dt,children:[(0,E.jsxs)(s.Z,{className:mt,children:[(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}}),(0,E.jsxs)(we.Z,{className:ut,children:[(0,E.jsx)(Ne.Z,{id:"colSearch","translation-key":"common_find_by_col",children:e("common_find_by_col")}),(0,E.jsxs)(Ie.Z,{labelId:"colSearch",id:"colSearchSelect",value:t,onChange:(e,t)=>{n(e.target.value)},label:e("common_find_by_col"),"translation-key":"common_find_by_col",children:[(0,E.jsx)(Pe.Z,{value:"name","translation-key":"common_name",children:e("common_name")}),(0,E.jsx)(Pe.Z,{value:"emai",children:"Email"})]})]})]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,startIcon:(0,E.jsx)(_t.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},"translation-key":"common_data_export",children:e("common_data_export")})]})},xt="styles_gradeBody__1Fbde";function gt(e){const{customEditHandler:t,customEditValue:n}=e;return(0,E.jsxs)(Pe.Z,{onClick:t,children:[(0,E.jsx)(rt.Z,{children:(0,E.jsx)(it.Z,{fontSize:"small"})}),(0,E.jsx)(U.Z,{children:n})]})}function pt(e){const{t:t}=(0,P.$G)(),n=e.colDef.field;return"name"!==n&&"id"!==n&&"email"!==n?(0,E.jsx)(ct.hh,{...e,slots:{columnMenuUserItem:gt},slotProps:{columnMenuUserItem:{displayOrder:0,customEditValue:t("common_edit"),customEditHandler:()=>alert("Custom handler fired")}},"translation-key":"common_edit"}):(0,E.jsx)(ct.hh,{...e,slots:{columnMenuUserItem:null},slotProps:{columnMenuSortItem:{value:t("data_grid_row_ascending")}},"translation-key":"data_grid_row_ascending"})}const yt=()=>{const{t:e}=(0,P.$G)(),t=[{id:1,name:"B\xe0i t\u1eadp 1",range:100},{id:2,name:"B\xe0i t\u1eadp 2",range:10},{id:3,name:"B\xe0i t\u1eadp 3",range:10},{id:4,name:"B\xe0i ki\u1ec3m tra 1",range:10},{id:5,name:"B\xe0i ki\u1ec3m tra 2",range:10}],n=t.map((e=>({field:"".concat(e.id,"-").concat(e.name)}))),i=[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:e("common_fullname"),width:100,flex:.2,disableColumnMenu:!0},{field:"email",headerName:"Email",minWidth:100,disableColumnMenu:!0,flex:.2}];t.map((e=>i.push({field:"".concat(e.id,"-").concat(e.name),headerName:e.name,renderCell:t=>(0,E.jsxs)(s.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[t.value," /",e.range,(0,E.jsx)(lt.Z,{sx:{marginLeft:"auto"},children:(0,E.jsx)(ot.Z,{})})]}),flex:.2})));e("common_grade"),e("course_lecturer_grade_description");return(0,E.jsxs)(s.Z,{className:xt,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(x.Z,{"translation-key":"course_grade_title",children:e("course_grade_title")})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(ht,{})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:[{id:4,name:"Tr\u01b0\u01a1ng Gia Ti\u1ebfn",email:"truongtien577@gmail.com",roles:"JD"},{id:2,name:"\u0110\u1eb7ng Ng\u1ecdc Ti\u1ebfn",email:"dnt@gmail.com",roles:2},{id:3,name:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n",email:"nqt@gmail.com",roles:3},{id:1,name:"D\u01b0\u01a1ng Ch\xed Th\xf4ng",email:"nqt@gmail.com",roles:3},{id:5,name:"Nguy\u1ec5n V\u0103n A",email:"nqt@gmail.com",roles:3},{id:6,name:"Nguy\u1ec5n V\u0103n B",email:"nqt@gmail.com",roles:3},{id:7,name:"Nguy\u1ec5n V\u0103n C",email:"nqt@gmail.com",roles:3}],tableHeader:i,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!0,customColumnMenu:pt,onClickRow:e=>{console.log(e)}})})]})},jt={gridContainer:"styles_gridContainer__zBQ5m",courseImgCardContainer:"styles_courseImgCardContainer__S6Gps",courseImage:"styles_courseImage__tjQmX",classNameOverlay:"styles_classNameOverlay__E5NdR",gridBodyContainer:"styles_gridBodyContainer__CRanr",resourceContainer:"styles_resourceContainer__pPdqU",resourceAccordionContainer:"styles_resourceAccordionContainer__JYYCH",resourceSummaryContainer:"styles_resourceSummaryContainer__LE-Cg",resourceSummaryText:"styles_resourceSummaryText__iR04d",editTopicTitleImageContainer:"styles_editTopicTitleImageContainer__p3JjV",accordDetail:"styles_accordDetail__ns2+g",eventContainer:"styles_eventContainer__rC647",eventTitle:"styles_eventTitle__p4aXq",eventList:"styles_eventList__YpsY9",topicWrapper:"styles_topicWrapper__HPxTK",informationBody:"styles_informationBody__Dl1yC",iconButton:"styles_iconButton__VDHJU",iconButtonActive:"styles_iconButtonActive__dZ7V4"};var bt=n(16957),ft=n(61113),Zt=n(83121),vt=n(16783),Ct=n(19425);const kt={container:"styles_container__g3m1H",linkContainer:"styles_linkContainer__vtpkq"};var Tt=n(2535);const St=e=>{let t;switch(e.type){case Ct.Q.assignment:t=Tt.Z.course.courseAssignment;break;case Ct.Q.file:t=Tt.Z.course.courseFile;break;default:return null}return(0,E.jsx)(s.Z,{className:kt.container,children:(0,E.jsx)(a.ZP,{container:!0,children:(0,E.jsxs)(O.Z,{component:$.rU,to:J._.lecturer.assignment.detail.replace(":assignmentId",e.assignmentId).replace(":courseId",e.courseId),underline:"hover",className:kt.linkContainer,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)("img",{src:t,alt:"Resource"})}),(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)(ft.Z,{className:kt.resourceName,children:e.name})})]})})})};var wt=n(15067),Nt=n(52545),It=n(12741),Pt=n(54406);const Dt=()=>{const{t:e}=(0,P.$G)(),t=(0,he.I0)(),n=(0,he.v9)((e=>e.section)),{courseId:i}=(0,l.UO)(),[o,r]=(0,y.useState)([]),[c,d]=(0,y.useState)([]),m=(0,he.v9)((e=>e.course));(0,y.useEffect)((()=>{const e=m.courses.find((e=>e.id===i));console.log(e),e&&t((0,xe.HE)({courseDetail:e}))}),[i,m.courses,t]);const u=e=>{void 0===o[e]?r((t=>({...t,[e]:!1}))):r((t=>({...t,[e]:!Boolean(t[e])})))};(0,y.useEffect)((()=>{(async()=>{t((0,Nt.K4)(!0));try{if(i){const e=await wt.N.getSectionsByCourseId(i);t((0,Nt.by)(e))}else console.error("courseId is undefined")}catch(e){console.error("Failed to fetch sections",e)}t((0,Nt.K4)(!1))})()}),[i]);const _=e=>{switch(e){case"Files":default:return Ct.Q.file;case"Assignments":return Ct.Q.assignment;case"URLs":return Ct.Q.url;case"Quizzes":return Ct.Q.exam}};return(0,E.jsxs)(a.ZP,{container:!0,spacing:1,className:jt.gridContainer,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsxs)(Fe.Z,{className:jt.courseImgCardContainer,children:[(0,E.jsx)(bt.Z,{component:"img",className:jt.courseImage,src:"https://picsum.photos/1800/300"}),(0,E.jsx)(ft.Z,{variant:"h1",className:jt.classNameOverlay,children:"T\xean kh\xf3a h\u1ecdc d\xe0i"})]})}),n.isLoading?(0,E.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,E.jsx)(de.Z,{})}):(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(s.Z,{margin:1,padding:0,children:(0,E.jsx)(a.ZP,{container:!0,className:jt.gridBodyContainer,children:(0,E.jsx)(a.ZP,{item:!0,className:jt.topicWrapper,xs:12,children:n.sections.map(((e,t)=>{const n=void 0===o[t]||Boolean(o[t]);return(0,E.jsxs)(s.Z,{className:jt.generalInfo,children:[(0,E.jsxs)(s.Z,{display:"flex",alignItems:"center",margin:1,children:[n?(0,E.jsx)(lt.Z,{className:jt.iconButtonActive,sx:{padding:"5px"},onClick:()=>u(t),children:(0,E.jsx)(Pt.Z,{style:{fontSize:20}})}):(0,E.jsx)(lt.Z,{className:jt.iconButton,sx:{padding:"5px"},onClick:()=>u(t),children:(0,E.jsx)(It.Z,{style:{fontSize:20}})}),void 0===c[t]||c[t]?(0,E.jsx)(ft.Z,{className:jt.resourceSummaryText,align:"center",children:e.name}):(0,E.jsx)(vt.Z,{variant:"standard",defaultValue:e.name}),(0,E.jsx)(s.Z,{children:c[t]||void 0===c[t]?(0,E.jsx)(lt.Z,{onClick:()=>(e=>{d((t=>({...t,[e]:!Boolean(t[e])})))})(t),className:jt.editTopicTitleImageContainer,children:(0,E.jsx)(it.Z,{})}):(0,E.jsx)(lt.Z,{onClick:()=>(e=>{d((t=>({...t,[e]:!Boolean(t[e])})))})(t),className:jt.editTopicTitleImageContainer,children:(0,E.jsx)(Zt.Z,{})})})]}),(0,E.jsx)(j.Z,{in:n,timeout:"auto",unmountOnExit:!0,children:e.modules.map(((e,t)=>(0,E.jsx)(St,{courseId:i||"",assignmentId:e.assignmentId,name:e.name,type:_(e.typeModule)},t)))})]},t)}))})})})})]})},At="styles_participantBody__x4fn6";var Et=n(81127),qt=n(51997);const Bt="style_container__pPtgM",Mt="style_searchWrapper__w+HmP",Rt="style_colSearchContainer__gkGYR",Wt=()=>{const{t:e}=(0,P.$G)(),[t,n]=(0,y.useState)("name");return(0,E.jsxs)(Se.Z,{className:Bt,children:[(0,E.jsxs)(s.Z,{className:Mt,children:[(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}}),(0,E.jsxs)(we.Z,{className:Rt,children:[(0,E.jsx)(Ne.Z,{id:"colSearch","translation-key":"common_find_by_col",children:e("common_find_by_col")}),(0,E.jsxs)(Ie.Z,{labelId:"colSearch",id:"colSearchSelect",value:t,onChange:(e,t)=>{n(e.target.value)},label:e("common_find_by_col"),"translation-key":"common_find_by_col",children:[(0,E.jsx)(Pe.Z,{value:"name","translation-key":"common_name",children:e("common_name")}),(0,E.jsx)(Pe.Z,{value:"emai",children:"Email"}),(0,E.jsx)(Pe.Z,{value:"role","translation-key":"common_role",children:e("common_role")})]})]})]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,startIcon:(0,E.jsx)(_t.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},"translation-key":"common_data_export",children:e("common_data_export")})]})},Lt=()=>{const[e,t]=(0,y.useState)(""),n=(0,he.I0)(),i=(0,he.v9)((e=>e.courseUser)),[o,r]=(0,y.useState)(0),[c,d]=(0,y.useState)(10),{courseId:m}=(0,l.UO)(),u=async t=>{let{search:a=e,pageNo:s=o,pageSize:i=c}=t;try{const e=await me.E.getUserByCourseId(null!==m&&void 0!==m?m:"",{search:a,pageNo:s,pageSize:i});console.log(e),n((0,at.Z$)(e))}catch(r){console.error("Failed to fetch course user",r)}};(0,y.useEffect)((()=>{u({search:e})}),[e]);const{t:_}=(0,P.$G)(),h=[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:_("common_fullname"),width:200,flex:.8,renderCell:e=>(0,E.jsx)(O.Z,{component:$.rU,to:"".concat(e.row.id),children:e.value})},{field:"email",headerName:"Email",width:200,flex:.8},{field:"roles",headerName:_("common_role"),width:50,flex:.4},{field:"action",headerName:_("common_action"),type:"actions",width:200,flex:.5,getActions:()=>[(0,E.jsx)(Et.u,{icon:(0,E.jsx)(it.Z,{}),label:"Edit"}),(0,E.jsx)(Et.u,{icon:(0,E.jsx)(qt.Z,{}),label:"Delete"})]}];return(0,E.jsxs)(s.Z,{className:At,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(x.Z,{children:"Danh s\xe1ch th\xe0nh vi\xean"})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Wt,{})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:i.users.map(((e,t)=>({id:e.userId,name:e.firstName+" "+e.lastName,email:e.email,roles:e.role}))),tableHeader:h,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!1},dataGridToolBar:{enableToolbar:!0},page:o,pageSize:c,totalElement:i.totalItems,onPaginationModelChange:(t,n)=>{r(t.page),d(t.pageSize),u({search:e,pageNo:t.page,pageSize:t.pageSize})},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})})]})},Ht="style_container__a7o85",Ot="style_searchWrapper__70e0T",Gt="style_colSearchContainer__51A96",Ut=()=>{const[e,t]=(0,y.useState)("name");return(0,E.jsxs)(Se.Z,{className:Ht,children:[(0,E.jsxs)(s.Z,{className:Ot,children:[(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}}),(0,E.jsxs)(we.Z,{className:Gt,children:[(0,E.jsx)(Ne.Z,{id:"colSearch",children:"T\xecm ki\u1ebfm theo c\u1ed9t"}),(0,E.jsxs)(Ie.Z,{labelId:"colSearch",id:"colSearchSelect",value:e,onChange:(e,n)=>{t(e.target.value)},label:"T\xecm ki\u1ebfm theo c\u1ed9t",children:[(0,E.jsx)(Pe.Z,{value:"name",children:"T\xean"}),(0,E.jsx)(Pe.Z,{value:"emai",children:"Email"}),(0,E.jsx)(Pe.Z,{value:"role",children:"Ch\u1ee9c v\u1ee5"})]})]})]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,startIcon:(0,E.jsx)(_t.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},children:"Xu\u1ea5t d\u1eef li\u1ec7u"})]})},Ft="styles_assignmentBody__me7my";var zt=n(47322);function Vt(e){let{dataset:t,xAxis:n,width:a,height:s,...i}=e;const o=[{dataKey:"student",label:"Sinh vi\xean",valueFormatter:e=>null===e?"No data":"".concat(e," sinh vi\xean")}];return(0,E.jsx)(zt.Z,{dataset:t,xAxis:n,yAxis:[{label:"T\u1ed5ng s\u1ed1 sinh vi\xean \u0111\u1ea1t kho\u1ea3ng \u0111i\u1ec3m"}],series:o,width:a,height:s,...i})}let Qt=function(e){return e.SUBMITTED="\u0110\xe3 n\u1ed9p",e.NOT_SUBMITTED="Ch\u01b0a n\u1ed9p",e}({}),Yt=function(e){return e.GRADED="\u0110\xe3 ch\u1ea5m",e.NOT_GRADED="Ch\u01b0a ch\u1ea5m",e}({});const Jt=()=>{var e,t,n,i;const{t:o}=(0,P.$G)(),r=(0,l.s0)(),c=(0,he.I0)(),{courseId:d,assignmentId:m}=(0,l.UO)(),u=(0,he.v9)((e=>e.submissionAssignment)),h=(0,he.v9)((e=>e.assignment)),g=()=>{var e,t,n,a,s;if(null===(e=u.submissionAssignmentDetails)||void 0===e||!e.submitTime)return 0;return new Date(null!==(t=null===(n=u.submissionAssignmentDetails)||void 0===n?void 0:n.submitTime)&&void 0!==t?t:new Date)<new Date(null!==(a=null===(s=h.assignmentDetails)||void 0===s?void 0:s.timeClose)&&void 0!==a?a:new Date)?1:2};function j(e,t){const n=e.getTime()-t.getTime(),a=864e5,s=36e5,i=Math.floor(n/a),o=Math.floor(n%a/s),r=Math.floor(n%s/6e4),l=Math.floor(n%6e4/1e3);return{days:Math.abs(i),hours:Math.abs(o),minutes:Math.abs(r),seconds:Math.abs(l)}}j(new Date(null!==(e=null===(t=h.assignmentDetails)||void 0===t?void 0:t.timeClose)&&void 0!==e?e:new Date),new Date(null!==(n=null===(i=u.submissionAssignmentDetails)||void 0===i?void 0:i.submitTime)&&void 0!==n?n:new Date));const b=e=>e.days>0?e.days+" "+o("days")+" "+e.hours+" "+o("hours"):e.hours>0?e.hours+" "+o("hours")+" "+e.minutes+" "+o("minutes"):e.minutes+" "+o("minutes")+" "+e.seconds+" "+o("seconds");(0,y.useEffect)((()=>{(async e=>{c((0,nt.K4)({isLoading:!0}));try{const t=await tt.J.getSubmissionAssignmentByAssignmentId(e);c((0,nt.q5)(t)),c((0,nt.K4)({isLoading:!1}))}catch(t){console.error("Failed to fetch submission assignment",t),c((0,nt.K4)({isLoading:!1}))}})(null!==m&&void 0!==m?m:"")}),[m]);const f=u.submissionAssignments.map((e=>{var t,n,a,s;return{id:e.id,student_name:e.user.fullName,student_email:e.user.email,status:{submission_status_submitted:e.submissionAssignmentFile||e.submissionAssignmentOnlineText?Qt.SUBMITTED:Qt.NOT_SUBMITTED,grade_status:e.isGraded?Yt.GRADED:Yt.NOT_GRADED,late_submission:{is_late:1!==g(),late_duration:b(j(new Date(null!==(t=null===(n=h.assignmentDetails)||void 0===n?void 0:n.timeClose)&&void 0!==t?t:new Date),null!==(a=new Date(e.submitTime))&&void 0!==a?a:new Date))}},last_submission_time:e.submissionAssignmentFile||e.submissionAssignmentOnlineText?p()(e.timemodefied).format("dddd, D MMMM YYYY, h:mm A"):"-",last_grade_time:e.submissionGrade?p()(e.submissionGrade.timeModified).format("dddd, D MMMM YYYY, h:mm A"):"-",submission_file:e.submissionAssignmentFile?e.submissionAssignmentFile:null,submission_online_text:e.submissionAssignmentOnlineText?e.submissionAssignmentOnlineText.content:null,grade:{grade_status:e.isGraded?Yt.GRADED:Yt.NOT_GRADED,current_grade:e.submissionGrade?e.submissionGrade.grade:-1,max_grade:100},feedback:null!==(s=e.content)&&void 0!==s?s:""}}));console.log(f);const Z=[{field:"student_name",headerName:o("common_fullname"),width:200},{field:"student_email",headerName:"Email",width:200},{field:"status",headerName:o("common_status"),width:250,renderCell:e=>(0,E.jsxs)(s.Z,{padding:"5px",width:"100%",children:[(0,E.jsx)(s.Z,{sx:{padding:"5px",backgroundColor:e.value.submission_status_submitted===Qt.SUBMITTED?"var(--green-300)":"#f5f5f5",fontSize:"17px"},children:e.value.submission_status_submitted===Qt.SUBMITTED?"\u0110\xe3 n\u1ed9p":"Ch\u01b0a n\u1ed9p"}),(0,E.jsxs)(s.Z,{sx:{padding:"5px",backgroundColor:"#EFCFCF",fontSize:"17px",display:e.value.late_submission.is_late?"block":"none"},children:["Qu\xe1 h\u1ea1n ",e.value.late_submission.late_duration]}),(0,E.jsx)(s.Z,{sx:{padding:"5px",backgroundColor:e.value.submission_status_submitted===Qt.SUBMITTED?"var(--green-300)":"#f5f5f5",fontSize:"17px",display:e.value.grade_status===Yt.GRADED?"block":"none"},children:e.value.grade_status===Yt.GRADED?"\u0110\xe3 ch\u1ea5m":"Ch\u01b0a ch\u1ea5m"})]})},{field:"grade",headerName:o("common_grade"),width:200,renderCell:e=>(0,E.jsxs)(s.Z,{children:[(0,E.jsx)($.rU,{to:J._.lecturer.assignment.grading.replace(":submissionId",e.row.id).replace(":courseId",null!==d&&void 0!==d?d:"").replace(":assignmentId",null!==m&&void 0!==m?m:""),children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,children:"Ch\u1ea5m \u0111i\u1ec3m"})}),(0,E.jsxs)(s.Z,{sx:{padding:"5px",fontSize:"17px",display:e.value.grade_status===Yt.GRADED?"block":"none"},children:[e.value.current_grade," / ",e.value.max_grade]})]})},{field:"last_submission_time",headerName:o("course_lecturer_sub_last_submission_time"),width:200},{field:"submission_online_text",headerName:"Online text",width:200,renderCell:e=>(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})},{field:"submission_file",headerName:"File submissions",width:200,renderCell:e=>{var t;return e.value?(0,E.jsx)(s.Z,{sx:{wordWrap:"break-word",whiteSpace:"pre-wrap"},children:(0,E.jsx)(et.Z,{files:null!==(t=e.value.files.map((e=>({id:e.id,name:e.fileName,downloadUrl:e.fileUrl,size:e.fileSize,type:e.mimetype,lastModified:new Date(e.timemodified).toLocaleString("en-US",{timeZone:"Asia/Ho_Chi_Minh"})}))))&&void 0!==t?t:[],treeView:!1})}):(0,E.jsx)(s.Z,{children:"-"})}},{field:"last_grade_time",headerName:o("course_lecturer_sub_last_grading_time"),width:200},{field:"feedback",headerName:"Feedback comment",width:200,renderCell:e=>(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:e.value}})}];return(0,E.jsxs)(s.Z,{className:Ft,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{r(J._.lecturer.assignment.detail.replace(":courseId",null!==d&&void 0!==d?d:"").replace(":assignmentId",null!==m&&void 0!==m?m:""))},startIcon:(0,E.jsx)(Ue.Z,{sx:{color:"white"}}),width:"fit-content",children:(0,E.jsx)(Ve.Z,{"translation-key":"common_back",children:o("common_back")})}),(0,E.jsx)(x.Z,{children:"B\xe0i t\u1eadp tr\u1eafc nghi\u1ec7m 1"}),(0,E.jsxs)(Ve.Z,{"translation-key":"course_lecturer_sub_num_of_student",children:[o("course_lecturer_sub_num_of_student"),": ",20,"/",30]}),(0,E.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,E.jsx)(Vt,{dataset:[{student:59,range:"0.00 - 5.00"},{student:50,range:"5.00 - 6.00"},{student:47,range:"6.00 - 7.00"},{student:54,range:"7.00 - 8.00"},{student:57,range:"8.00 - 9.00"},{student:60,range:"9.00 - 10.00"},{student:59,range:"10.00 - 11.00"},{student:65,range:"11.00 - 12.00"},{student:51,range:"12.00 - 13.00"},{student:60,range:"13.00 - 14.00"},{student:67,range:"14.00 - 15.00"},{student:61,range:"15.00 - 16.00"}],xAxis:[{scaleType:"band",dataKey:"range"}],width:1e3,height:500})}),(0,E.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(x.Z,{"translation-key":"course_lecturer_submission_list",children:o("course_lecturer_submission_list")})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Ut,{})}),u.isLoading?(0,E.jsx)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,E.jsx)(de.Z,{})}):(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:f,tableHeader:Z,onSelectData:(e,t)=>{console.log(e)},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)}})})]})]})};var $t=n(64516),Xt=n(25551),Kt=n(10237),en=n(22611),tn=n(66212),nn=n(42832),an=n(94469),sn=n(96467),on=n(41727),rn=n(24653),ln=n(4117),cn=n(33604),dn=n(23837),mn=n(89994),un=n(35662),_n=n(7547),hn=n(43750);function xn(e){let{open:t,title:n,handleClose:s,children:i,cancelText:o,confirmText:r,onHandleCancel:l,onHanldeConfirm:c,isConfirmLoading:d=!1,isReportExisted:m,...u}=e;const[_,h]=y.useState(""),x=[{id:"f47ac10b-58cc-4372-a567-0e02b2c3d504",title:"T\xednh t\u1ed5ng t\u1eeb 1 \u0111\u1ebfn n",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_name:"CS101 - L\u1eadp tr\xecnh c\u0103n b\u1ea3n",created_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d505",title:"T\u1ec9nh t\u1ed5ng c\xe1c s\u1ed1 ch\u1eb5n t\u1eeb 1 \u0111\u1ebfn n",exam_name:"B\xe0i ki\u1ec3m tra gi\u1eefa k\u1ef3",course_name:"CS102 - L\u1eadp tr\xecnh n\xe2ng cao",created_at:"2024-03-24T07:19:47.000Z"}],g=[{field:"exam_name",headerName:"B\xe0i ki\u1ec3m tra",flex:2},{field:"course_name",headerName:"M\xf4n h\u1ecdc",flex:2},{field:"created_at",headerName:"Ng\xe0y t\u1ea1o",minWidth:200,valueFormatter:e=>new Date(e.value||"").toLocaleString()}],p=x.length;return(0,E.jsx)(C.Z,{open:t,handleClose:s,title:n,cancelText:o,confirmText:r,isConfirmLoading:d,onHandleCancel:l,onHanldeConfirm:c,minWidth:m?"1000px":"550px",...u,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(k.Z,{type:"text",title:"T\xean b\xe1o c\xe1o gian l\u1eadn",value:_,onChange:e=>h(e.target.value),placeholder:"Nh\u1eadp t\xean b\xe1o c\xe1o gian l\u1eadn b\u1ea1n mu\u1ed1n t\u1ea1o",fullWidth:!0})}),m&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(fe.Z,{children:"Danh s\xe1ch b\xe0i ki\u1ec3m tra s\u1eed d\u1ee5ng trong b\xe1o c\xe1o"})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:x,tableHeader:g,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:p,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})})]})]})})}var gn=n(42278),pn=n(94760),yn=n(74615),jn=n(36240),bn=n(3855);const fn="style_container__a61rZ",Zn="style_searchWrapper__FkLUt",vn="style_colSearchContainer__dZHdP",Cn=()=>{const[e,t]=(0,y.useState)("name");return(0,E.jsxs)(Se.Z,{className:fn,children:[(0,E.jsxs)(s.Z,{className:Zn,children:[(0,E.jsx)(R.Z,{onSearchClick:e=>{console.log(e)}}),(0,E.jsxs)(we.Z,{className:vn,children:[(0,E.jsx)(Ne.Z,{id:"colSearch",children:"T\xecm ki\u1ebfm theo c\u1ed9t"}),(0,E.jsxs)(Ie.Z,{labelId:"colSearch",id:"colSearchSelect",value:e,onChange:(e,n)=>{t(e.target.value)},label:"T\xecm ki\u1ebfm theo c\u1ed9t",children:[(0,E.jsx)(Pe.Z,{value:"name",children:"T\xean"}),(0,E.jsx)(Pe.Z,{value:"emai",children:"Email"}),(0,E.jsx)(Pe.Z,{value:"role",children:"Ch\u1ee9c v\u1ee5"})]})]})]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,startIcon:(0,E.jsx)(_t.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},children:"Xu\u1ea5t d\u1eef li\u1ec7u"})]})},kn="styles_icon__SUsjv";function Tn(e){let{open:t,title:n,handleClose:s,children:i,cancelText:o,confirmText:r,onHandleCancel:l,onHanldeConfirm:c,isConfirmLoading:d=!1,defaultTabIndex:m=0,...u}=e;const{t:_}=(0,P.$G)(),[h,x]=y.useState(Number(m)),g=[{id:"f47ac10b-58cc-4372-a567-0e02b2c3d504",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d488",course_name:"CS101 - L\u1eadp tr\xecnh c\u0103n b\u1ea3n",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d505",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d488",course_name:"CS101 - L\u1eadp tr\xecnh c\u0103n b\u1ea3n",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d506",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",exam_name:"B\xe0i ki\u1ec3m tra gi\u1eefa k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d488",course_name:"CS101 - L\u1eadp tr\xecnh c\u0103n b\u1ea3n",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d507",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",exam_name:"B\xe0i ki\u1ec3m tra h\xe0ng tu\u1ea7n 1",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",course_name:"CS102 - L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d508",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",exam_name:"B\xe0i ki\u1ec3m tra h\xe0ng tu\u1ea7n 2",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",course_name:"CS102 - L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d509",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",exam_name:"B\xe0i ki\u1ec3m tra 1 ti\u1ebft",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d489",course_name:"CS102 - L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d480",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d510",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d491",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",course_name:"CS103 - C\u1ea5u tr\xfac d\u1eef li\u1ec7u v\xe0 gi\u1ea3i thu\u1eadt",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d481",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d511",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d491",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",course_name:"CS103 - C\u1ea5u tr\xfac d\u1eef li\u1ec7u v\xe0 gi\u1ea3i thu\u1eadt",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d481",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d512",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_id:"f47ac10b-58cc-4372-a567-0e02b2c3d491",exam_name:"B\xe0i ki\u1ec3m tra cu\u1ed1i k\u1ef3",course_id:"f47ac10b-58cc-4372-a567-0e02b2c3d490",course_name:"CS103 - C\u1ea5u tr\xfac d\u1eef li\u1ec7u v\xe0 gi\u1ea3i thu\u1eadt",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d481",created_at:"2024-03-24T07:19:47.000Z",updated_at:"2024-03-24T07:19:47.000Z"}],p=y.useMemo((()=>[{field:"exam_name",headerName:"B\xe0i ki\u1ec3m tra",flex:1},{field:"course_name",headerName:"Kh\xf3a h\u1ecdc",flex:1},{field:"created_at",headerName:"Ng\xe0y t\u1ea1o",flex:1,renderCell:e=>(0,E.jsx)("span",{children:new Date(e.value).toLocaleString()})}]),[]),j=[{id:"43a17420-868f-49e5-bdb3-4f0766d5fb4b",sourceQuestionTitle:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",comparedCodeQuestions:[{id:"f47ac10b-58cc-4372-a567-0e02b2c3d495",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_name:"B\xe0i thi cu\u1ed1i k\u1ef3",course_name:"CSC101 - L\u1eadp tr\xecnh c\u0103n b\u1ea3n"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d496",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_name:"B\xe0i thi gi\u1eefa k\u1ef3",course_name:"CSC102 - L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng"},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d497",title:"T\xecm s\u1ed1 l\u1edbn nh\u1ea5t trong m\u1ea3ng",exam_name:"B\xe0i thi gi\u1eefa k\u1ef3",course_name:"CSC103 - C\u1ea5u tr\xfac d\u1eef li\u1ec7u v\xe0 gi\u1ea3i thu\u1eadt"}],language:{name:"python",extensions:[".py",".py3"]},createdAt:"2024-03-24T07:53:10.000Z",name:"B\xe1o c\xe1o gian l\u1eadn t\u1ea1o b\u1edfi Nguy\u1ec5n \u0110inh Quang Kh\xe1nh"}],b=y.useMemo((()=>[{field:"name",headerName:"T\xean b\xe1o c\xe1o",minWidth:100},{field:"sourceQuestionTitle",headerName:"C\xe2u h\u1ecfi ngu\u1ed3n",minWidth:150,valueFormatter:e=>"".concat(e.value)},{field:"comparedCodeQuestions",headerName:"Danh s\xe1ch so s\xe1nh b\xe0i ki\u1ec3m tra",minWidth:350,renderCell:e=>(0,E.jsx)(bn.Z,{title:"Xem c\xe1c b\xe0i ki\u1ec3m tra",children:(0,E.jsx)(a.ZP,{container:!0,spacing:2,children:e.value.map((e=>(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsxs)(Fe.Z,{sx:{padding:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.exam_name," - ",e.course_name]})})))})})},{field:"createdBy",headerName:"Ng\u01b0\u1eddi t\u1ea1o",flex:1,renderCell:e=>(0,E.jsx)("span",{children:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n"})},{field:"createdAt",headerName:"Ng\xe0y t\u1ea1o",flex:1,renderCell:e=>(0,E.jsx)("span",{children:new Date(e.value).toLocaleString()})},{field:"action",headerName:"H\xe0nh \u0111\u1ed9ng",flex:1,type:"actions",getActions:()=>[(0,E.jsx)(Et.u,{icon:(0,E.jsx)(Kt.Z,{className:kn}),label:"View",className:"textPrimary",onClick:()=>{},color:"inherit"}),(0,E.jsx)(Et.u,{icon:(0,E.jsx)(yn.Z,{className:kn}),label:"Delete",onClick:()=>{},color:"inherit"})]}]),[]),f={enableToolbar:!0},Z=(e,t)=>{console.log(e)},v=(e,t)=>{console.log(e)},k=g.length,T=j.length,S=e=>{console.log(e)},{height:w}=(0,I.Z)();return(0,E.jsx)(C.Z,{open:t,handleClose:s,title:n,cancelText:o,confirmText:r,isConfirmLoading:d,onHandleCancel:l,onHanldeConfirm:c,minWidth:"1000px",maxHeight:"".concat(.8*w,"px"),...u,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsxs)(ye.Z,{value:h,onChange:(e,t)=>{x(t)},"aria-label":"tabIndex",variant:"fullWidth",sx:{border:"1px solid #e0e0e0"},children:[(0,E.jsx)(je.Z,{icon:(0,E.jsx)(pn.Z,{}),iconPosition:"start",label:"Danh s\xe1ch so s\xe1nh c\xe2u h\u1ecfi l\u1eadp tr\xecnh"}),(0,E.jsx)(je.Z,{icon:(0,E.jsx)(jn.Z,{}),iconPosition:"start",label:"L\u1ecbch s\u1eed b\xe1o c\xe1o gian l\u1eadn"})]})}),0===h?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Cn,{})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(K.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"code_management_detail_info_description",children:"\u0110\xe1nh d\u1ea5u c\xe1c b\xe0i ki\u1ec3m tra b\u1ea1n mu\u1ed1n t\u1ea1o b\xe1o c\xe1o gian l\u1eadn cho danh s\xe1ch b\xe0i n\u1ed9p c\u1ee7a sinh vi\xean"})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:g,tableHeader:p,onSelectData:Z,dataGridToolBar:f,page:0,pageSize:5,totalElement:k,onPaginationModelChange:v,showVerticalCellBorder:!1,checkboxSelection:!0,getRowHeight:()=>"auto",onClickRow:S})})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(fe.Z,{children:"L\u1ecbch s\u1eed b\xe1o c\xe1o gian l\u1eadn"})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Cn,{})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:j,tableHeader:b,onSelectData:Z,dataGridToolBar:f,page:0,pageSize:5,totalElement:T,onPaginationModelChange:v,showVerticalCellBorder:!1,getRowHeight:()=>"auto",onClickRow:S})})]})]})})}var Sn=n(49737);const wn="styles_examBody__tXUWC";let Nn=function(e){return e.SUBMITTED="\u0110\xe3 n\u1ed9p",e.NOT_SUBMITTED="Ch\u01b0a n\u1ed9p",e}({}),In=function(e){return e.GRADED="\u0110\xe3 ch\u1ea5m",e.NOT_GRADED="Ch\u01b0a ch\u1ea5m",e}({});const Pn=()=>{const e=(0,he.v9)((e=>e.exam)),{t:t}=(0,P.$G)(),[n,i]=(0,y.useState)((()=>Re.ZP.language)),[o,r]=(0,y.useState)({value:!1,defaultTabIndex:0}),[c,d]=(0,y.useState)({value:!1,isExisted:!1}),m=(0,l.s0)(),u={enableToolbar:!0},h=(e,t)=>{console.log(e)},g=(e,t)=>{console.log(e)},[p,j]=(0,y.useState)(!1),[b,f]=(0,y.useState)(!1),Z={id:1,org_id:"f47ac10b-58cc-4372-a567-0e02b2c3d477",max_grade:30,questions:[{id:"f47ac10b-58cc-4372-a567-0e02b2c3d495",title:"C\xe0i \u0111\u1eb7t thu\u1eadt to\xe1n s\u1eafp x\u1ebfp ch\u1ecdn",checkCheating:!1,max_grade:10,type:hn.Z.source_code,number:1},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d496",title:"Thu\u1eadt to\xe1n l\xe0 g\xec",max_grade:10,type:hn.Z.essay,number:2},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d497",title:"HTML stands for Hyper Text Markup Language",max_grade:10,type:hn.Z.multiple_choice,number:3},{id:"f47ac10b-58cc-4372-a567-0e02b2c3d49",title:"T\xednh t\u1ed5ng c\xe1c s\u1ed1 l\u1ebb t\u1eeb 1 \u0111\u1ebfn n",checkCheating:!1,max_grade:10,type:hn.Z.source_code,number:4},{id:"f47ac10b-58cc-4372-a567-002b2c3d495",title:"T\xednh t\u1ed5ng b\xecnh ph\u01b0\u01a1ng c\xe1c s\u1ed1 t\u1eeb 1 \u0111\u1ebfn n",checkCheating:!0,max_grade:10,type:hn.Z.source_code,number:5}]};Z.questions.map((e=>({question:e.title,questionId:e.id}))).unshift({question:"C\xe2u h\u1ecfi 11 \u0111\u1ebfn 20",questionId:"-1"});const v=[{id:1,student_name:"Nguy\u1ec5n \u0110inh Quang Kh\xe1nh",student_email:"khanhndq2002@gmail.com",status:{submission_status_submitted:Nn.SUBMITTED,grade_status:In.GRADED,late_submission:{is_late:!0,late_duration:"1 ng\xe0y 2 gi\u1edd"}},last_submission_time:"Saturday, 3 February 2024, 9:46 AM",last_grade_time:"Saturday, 3 February 2024, 9:46 AM",current_final_grade:0,grades:[{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d495",grade_status:In.GRADED,current_grade:10},{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d496",grade_status:In.GRADED,current_grade:8},{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d497",grade_status:In.GRADED,current_grade:5}]},{id:2,student_name:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n",student_email:"tuannguyen@gmail.com",status:{submission_status_submitted:Nn.NOT_SUBMITTED,grade_status:In.NOT_GRADED,late_submission:{is_late:!1,late_duration:"1 ng\xe0y 2 gi\u1edd"}},last_submission_time:"Saturday, 3 February 2024, 9:46 AM",last_grade_time:"Saturday, 3 February 2024, 9:46 AM",current_final_grade:10,grades:[{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d495",grade_status:In.GRADED,current_grade:8},{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d496",grade_status:In.GRADED,current_grade:10},{question_id:"f47ac10b-58cc-4372-a567-0e02b2c3d497",grade_status:In.GRADED,current_grade:9}]}],C=[{field:"student_name",headerName:"".concat(t("common_fullname")," ").concat(Re.ZP.format(t("common_student"),"lowercase")),width:200},{field:"student_email",headerName:"Email",width:200},{field:"status",headerName:t("common_status"),width:250,renderCell:e=>(0,E.jsxs)(s.Z,{padding:"5px",width:"100%",children:[(0,E.jsx)(s.Z,{sx:{padding:"5px",backgroundColor:e.value.submission_status_submitted===Nn.SUBMITTED?"var(--green-300)":"#f5f5f5",fontSize:"17px"},children:e.value.submission_status_submitted===Nn.SUBMITTED?"\u0110\xe3 n\u1ed9p":"Ch\u01b0a n\u1ed9p"}),(0,E.jsxs)(s.Z,{sx:{padding:"5px",backgroundColor:"#EFCFCF",fontSize:"17px",display:e.value.late_submission.is_late?"block":"none"},children:["Qu\xe1 h\u1ea1n ",e.value.late_submission.late_duration]}),(0,E.jsx)(s.Z,{sx:{padding:"5px",backgroundColor:e.value.submission_status_submitted===Nn.SUBMITTED?"var(--green-300)":"#f5f5f5",fontSize:"17px",display:e.value.grade_status===In.GRADED?"block":"none"},children:e.value.grade_status===In.GRADED?"\u0110\xe3 ch\u1ea5m":"Ch\u01b0a ch\u1ea5m"})]})},{field:"last_submission_time",headerName:t("course_lecturer_sub_last_submission_time"),width:200},{field:"last_grade_time",headerName:t("course_lecturer_sub_last_grading_time"),width:200},{field:"current_final_grade",headerName:t("common_final_grade"),width:200,renderCell:e=>(0,E.jsxs)(s.Z,{sx:{padding:"10px 0"},children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{m(J._.lecturer.exam.grading)},margin:"0 0 10px 0","translation-key":"course_lecturer_assignment_grading",children:t("course_lecturer_assignment_grading")}),(0,E.jsxs)(S.Z,{children:[e.value," / ",Z.max_grade]})]})}],k=async(e,t)=>{try{const n=await(async(e,t)=>{j(!0),f(!0);const n={report_name:e,language:"Python",user_id:"f47ac10b-58cc-4372-a567-0e02b2c3d482",code_question_ids:t};try{const e=await un.Z.post("".concat("http://localhost:4000/api/v1","/reports"),n);return j(!1),f(!1),e.data}catch(a){throw j(!1),f(!1),a}})(e,t);"success"===n.status?m("".concat(J._.lecturer.exam.code_plagiarism_detection.replace("reportId",n.data.id)),{state:{report:n.data}}):console.error(n.message)}catch(n){console.error(n)}},T=async(e,t)=>{try{if(!t.length)return;const e=await(async e=>{f(!0);try{const t=await un.Z.post("".concat("http://localhost:4000/api/v1","/reports/check-code-question-ids-exist"),{code_question_ids:e});return f(!1),t.data}catch(t){throw f(!1),t}})(t);"success"===e.status?e.data?O({value:!0,isExisted:!0}):O({value:!0,isExisted:!1}):console.error(e.message)}catch(n){console.error(n)}},[w,N]=(0,y.useState)(!1),I=()=>N(!1),[D,A]=(0,y.useState)([1,Z.questions.length]),[q,B]=(0,y.useState)([[1,1]]),[M,R]=(0,y.useState)([]),W=[{field:"number",headerName:"STT",flex:.5},{field:"title",headerName:"C\xe2u h\u1ecfi",flex:4},{field:"checkCheating",headerName:"Tr\u1ea1ng th\xe1i",flex:1,renderCell:e=>(0,E.jsx)(s.Z,{children:e.value?(0,E.jsx)(tn.Z,{label:"\u0110\xe3 ki\u1ec3m tra",sx:{backgroundColor:dn.Z[100]}}):(0,E.jsx)(tn.Z,{label:"Ch\u01b0a ki\u1ec3m tra",sx:{backgroundColor:mn.Z[100]}})})},{field:"action",headerName:"H\xe0nh \u0111\u1ed9ng",flex:1,type:"actions",getActions:e=>e.row.checkCheating?[(0,E.jsx)(lt.Z,{onClick:()=>{L(1)},children:(0,E.jsx)(Kt.Z,{})}),(0,E.jsx)(lt.Z,{onClick:()=>{L(0)},children:(0,E.jsx)(Xt.Z,{})})]:[(0,E.jsx)(lt.Z,{disabled:!0,children:(0,E.jsx)(en.Z,{})}),(0,E.jsx)(lt.Z,{onClick:()=>{L(0)},children:(0,E.jsx)(Xt.Z,{})})]}],L=e=>{r({value:!0,defaultTabIndex:e})},H=(0,y.useCallback)((()=>{r((e=>({...e,value:!1})))}),[]),O=(0,y.useCallback)((e=>{d(e)}),[]),G=(0,y.useCallback)((()=>{d({value:!1,isExisted:!1})}),[]),[U,F]=(0,y.useState)(!1);return(0,y.useEffect)((()=>{const e=new Set,t=[];q.forEach((n=>{const a=n[0],s=n[1];for(let i=a;i<=s;i++)if(!e.has(i)){e.add(i);const n=Z.questions[i-1];t.push({field:"question-".concat(n.id),headerName:n.title,width:180,renderCell:()=>{for(let e=0;e<v.length;e++)for(let t=0;t<v[e].grades.length;t++)if(v[e].grades[t].question_id===n.id)return(0,E.jsxs)(S.Z,{children:[v[e].grades[t].current_grade," / ",n.max_grade]})}})}})),R(t)}),[q]),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Tn,{open:o.value,handleClose:H,title:"T\u1ea1o b\xe1o c\xe1o gian l\u1eadn cho c\xe2u h\u1ecfi",cancelText:"H\u1ee7y",confirmText:"X\xe1c nh\u1eadn",isConfirmLoading:b,onHanldeConfirm:()=>{T(0,["f47ac10b-58cc-4372-a567-0e02b2c3d495","f47ac10b-58cc-4372-a567-0e02b2c3d496","f47ac10b-58cc-4372-a567-0e02b2c3d497"])},onHandleCancel:H,defaultTabIndex:o.defaultTabIndex}),(0,E.jsx)(xn,{open:c.value,isReportExisted:c.isExisted,handleClose:G,title:c.isExisted?"X\xe1c nh\u1eadn ghi \u0111\xe8 b\xe1o c\xe1o c\u0169 cho c\xe2u h\u1ecfi":"X\xe1c nh\u1eadn t\u1ea1o b\xe1o c\xe1o gian l\u1eadn cho c\xe2u h\u1ecfi",cancelText:b?"Xem l\u1ea1i":"H\u1ee7y",confirmText:"X\xe1c nh\u1eadn",isConfirmLoading:p,onHanldeConfirm:()=>{k("B\xe1o c\xe1o gian l\u1eadn m\u1edbi",["f47ac10b-58cc-4372-a567-0e02b2c3d495","f47ac10b-58cc-4372-a567-0e02b2c3d496","f47ac10b-58cc-4372-a567-0e02b2c3d497","f47ac10b-58cc-4372-a567-0e02b2c3d498","f47ac10b-58cc-4372-a567-0e02b2c3d499","f47ac10b-58cc-4372-a567-0e02b2c3d500","f47ac10b-58cc-4372-a567-0e02b2c3d501","f47ac10b-58cc-4372-a567-0e02b2c3d502","f47ac10b-58cc-4372-a567-0e02b2c3d503"])},onHandleCancel:()=>{c.isExisted?k("B\xe1o c\xe1o gian l\u1eadn m\u1edbi",["f47ac10b-58cc-4372-a567-0e02b2c3d495","f47ac10b-58cc-4372-a567-0e02b2c3d496","f47ac10b-58cc-4372-a567-0e02b2c3d497","f47ac10b-58cc-4372-a567-0e02b2c3d498","f47ac10b-58cc-4372-a567-0e02b2c3d499","f47ac10b-58cc-4372-a567-0e02b2c3d500","f47ac10b-58cc-4372-a567-0e02b2c3d501","f47ac10b-58cc-4372-a567-0e02b2c3d502","f47ac10b-58cc-4372-a567-0e02b2c3d503"]):G()}}),(0,E.jsxs)(s.Z,{className:wn,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{m(J._.lecturer.exam.detail.replace(":courseId",e.examDetail.courseId))},startIcon:(0,E.jsx)(Ue.Z,{sx:{color:"white"}}),width:"fit-content",children:(0,E.jsx)(Ve.Z,{"translation-key":"common_back",children:t("common_back")})}),(0,E.jsx)(x.Z,{children:e.examDetail.name}),(0,E.jsxs)(Ve.Z,{"translation-key":"course_lecturer_sub_num_of_student",children:[t("course_lecturer_sub_num_of_student"),": ",e.examOverview.submitted,"/",e.examOverview.numberOfStudents]}),(0,E.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,E.jsx)(Sn.Z,{dataset:[{student:59,range:"0.00 - 5.00"},{student:50,range:"5.00 - 6.00"},{student:47,range:"6.00 - 7.00"},{student:54,range:"7.00 - 8.00"},{student:57,range:"8.00 - 9.00"},{student:60,range:"9.00 - 10.00"},{student:59,range:"10.00 - 11.00"},{student:65,range:"11.00 - 12.00"},{student:51,range:"12.00 - 13.00"},{student:60,range:"13.00 - 14.00"},{student:67,range:"14.00 - 15.00"},{student:61,range:"15.00 - 16.00"}],xAxis:[{scaleType:"band",dataKey:"range"}],width:1e3,height:500})}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(x.Z,{"translation-key":"course_lecturer_submission_list",children:t("course_lecturer_submission_list")})}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(gn.Z,{})}),(0,E.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,E.jsxs)(nn.Z,{direction:"row",alignItems:"center",children:[(0,E.jsx)(X.Z,{children:"L\u1ecdc c\xe2u h\u1ecfi"}),(0,E.jsx)(lt.Z,{onClick:()=>N(!0),children:(0,E.jsx)($t.Z,{})})]}),(0,E.jsxs)(an.Z,{open:w,onClose:I,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,children:[(0,E.jsx)(sn.Z,{children:(0,E.jsx)(s.Z,{marginTop:"16px",children:(0,E.jsxs)(a.ZP,{container:!0,children:[(0,E.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",xs:12,alignItems:"center",children:[(0,E.jsx)(vt.Z,{placeholder:"T\u1eeb",value:D[0],InputProps:{startAdornment:(0,E.jsx)(on.Z,{position:"start",children:"C\xe2u"}),inputProps:{min:1,max:Z.questions.length}},onChange:e=>{let t=parseInt(e.target.value),n=D[1],a=0;t>n&&(a=t,t=n,n=a),A([t,n])},type:"number"}),(0,E.jsx)(Ve.Z,{children:"\u0111\u1ebfn"}),(0,E.jsx)(vt.Z,{placeholder:"\u0110\u1ebfn",value:D[1],InputProps:{startAdornment:(0,E.jsx)(on.Z,{position:"start",children:"C\xe2u"}),inputProps:{min:1,max:Z.questions.length}},onChange:e=>{let t=parseInt(e.target.value),n=D[0],a=0;n>t&&(a=n,n=t,t=a),A([n,t])},type:"number"})]}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(rn.ZP,{value:D,onChange:(e,t)=>{console.log(t),A(t)},min:1,max:Z.questions.length,defaultValue:[1,Z.questions.length],valueLabelDisplay:"auto"})})]})})}),(0,E.jsxs)(ln.Z,{children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:I,children:"\u0110\xf3ng"}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{I(),B([...q,D])},children:"L\u01b0u"})]})]}),(0,E.jsx)(nn.Z,{spacing:1,flexWrap:"wrap",direction:"row",children:q.map(((e,t)=>(0,E.jsx)(tn.Z,{label:"C\xe2u ".concat(e[0]===e[1]?e[0]:"".concat(e[0]," - ").concat(e[1])),onDelete:()=>{const e=[...q];e.splice(t,1),B(e)}},t)))})]}),(0,E.jsxs)(a.ZP,{item:!0,xs:12,marginTop:3,children:[(0,E.jsxs)(nn.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,E.jsx)(_n.Z,{btnType:_.s.Outlined,onClick:()=>F(!0),"translation-key":"common_check_cheating",children:t("common_check_cheating")}),(0,E.jsxs)(_n.Z,{btnType:_.s.Outlined,"translation-key":"common_AI_grading",onClick:()=>{m("".concat(J._.lecturer.exam.ai_grading_config))},children:[t("common_AI_grading")," "]})]}),(0,E.jsxs)(an.Z,{open:U,onClose:()=>F(!1),fullWidth:!0,maxWidth:"md",children:[(0,E.jsx)(cn.Z,{children:"Ki\u1ec3m tra gian l\u1eadn"}),(0,E.jsx)(sn.Z,{children:(0,E.jsx)(Te.Z,{dataList:Z.questions.filter((e=>e.type.code===hn.Z.source_code.code)),sx:{"& .MuiDataGrid-cell:nth-last-child(n+2)":{padding:"16px"}},tableHeader:W,onSelectData:h,dataGridToolBar:u,page:0,pageSize:5,totalElement:100,onPaginationModelChange:g,showVerticalCellBorder:!0,getRowHeight:()=>"auto"})}),(0,E.jsx)(ln.Z,{children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>F(!1),children:"\u0110\xf3ng"})})]})]}),(0,E.jsx)(a.ZP,{item:!0,xs:12,children:(0,E.jsx)(Te.Z,{dataList:v,tableHeader:[...C,...M],onSelectData:h,visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:u,page:0,pageSize:5,totalElement:100,onPaginationModelChange:g,showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)}})})]})]})]})},Dn="styles_tabWrapper__b7Q6Y",An="styles_tabs__O3eWb",En="styles_courseDetailBody__Paz+p";var qn=n(71538);function Bn(e){let{rows:t,headers:n}=e;const{t:a}=(0,P.$G)(),s=(0,l.s0)();return(0,E.jsx)(Ye.Z,{variant:"outlined",children:(0,E.jsxs)(Je.Z,{variant:"soft",borderAxis:"bothBetween",hoverRow:!0,children:[(0,E.jsx)("thead",{children:(0,E.jsx)("tr",{children:n.map(((e,t)=>(0,E.jsx)("th",{children:e},t)))})}),(0,E.jsx)("tbody",{children:t.map(((e,t)=>(0,E.jsxs)("tr",{children:[(0,E.jsx)("td",{children:e.no}),(0,E.jsxs)("td",{children:[(0,E.jsx)(Ve.Z,{children:e.state}),(0,E.jsx)(Qe.Z,{"translation-key":"course_management_exam_submmit_on",children:"".concat(a("course_management_exam_submmit_on")," ").concat(e.submitted_at)})]}),(0,E.jsx)("td",{children:e.grade}),(0,E.jsx)("td",{children:(0,E.jsx)(_.Z,{btnType:_.s.Text,onClick:()=>{s(J._.lecturer.exam.review)},"translation-key":"common_see_evaluating",children:a("common_see_evaluating")})})]},t)))})]})})}function Mn(e){let{rows:t}=e;return(0,E.jsx)(Ye.Z,{variant:"outlined",children:(0,E.jsx)(Je.Z,{variant:"soft",borderAxis:"bothBetween",hoverRow:!0,children:(0,E.jsx)("tbody",{children:t.map((e=>(0,E.jsxs)("tr",{children:[(0,E.jsx)("th",{scope:"row",style:{width:"30%"},children:e.header}),(0,E.jsx)("td",{children:e.data})]},e.header)))})})})}const Rn={assignmentBody:"styles_assignmentBody__Awygn",assignmentsWrapper:"styles_assignmentsWrapper__IqdDI",topic:"styles_topic__k+Pwb"},Wn=()=>{var e;const{examId:t}=(0,l.UO)(),n=(0,he.I0)(),i=(0,he.v9)((e=>e.exam)),[o,r]=(0,y.useState)({id:"",courseId:"",name:"",scores:0,maxScores:0,timeOpen:new Date,timeClose:new Date,timeLimit:0,intro:"",overdueHanding:"",canRedoQuestions:!1,maxAttempts:0,shuffleAnswers:!1,gradeMethod:"",createdAt:new Date,updatedAt:new Date}),[c,m]=(0,y.useState)({numberOfStudents:0,submitted:0});(0,y.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await We.O.getExamById(e);r(t),n((0,Le.gm)(t))}catch(t){console.log(t)}})(null!==t&&void 0!==t?t:i.examDetail.id),await(async e=>{try{const t=await We.O.getOverviewsByExamId(e);m(t),n((0,Le.Db)(t))}catch(t){console.error(t)}})(null!==t&&void 0!==t?t:i.examDetail.id)})()}),[]);const{t:u}=(0,P.$G)(),h=(0,l.s0)();return(0,E.jsxs)(s.Z,{className:Rn.assignmentBody,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{h(J._.lecturer.course.assignment.replace(":courseId",i.examDetail.courseId))},startIcon:(0,E.jsx)(Ue.Z,{sx:{color:"white"}}),width:"fit-content",children:(0,E.jsx)(Ve.Z,{"translation-key":"common_back",children:u("common_back")})}),(0,E.jsx)(x.Z,{children:o.name}),(0,E.jsxs)(Fe.Z,{className:Rn.pageActivityHeader,sx:{padding:"10px",backgroundColor:"#F8F9FA"},children:[(0,E.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsxs)(Qe.Z,{fontWeight:"600","translation-key":"course_assignment_detail_open_time",children:[u("course_assignment_detail_open_time"),":"]})}),(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsxs)(Ve.Z,{children:[" ",p()(o.timeOpen).format("DD/MM/YYYY HH:mm")," "]})})]}),(0,E.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsxs)(Qe.Z,{fontWeight:"600","translation-key":"course_assignment_detail_close_time",children:[u("course_assignment_detail_close_time"),":"]})}),(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)(Ve.Z,{children:p()(o.timeClose).format("DD/MM/YYYY HH:mm")})})]}),(0,E.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsxs)(Qe.Z,{fontWeight:"600","translation-key":"common_do_time",children:[u("common_do_time"),":"]})}),(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)(Ve.Z,{children:(0,qn.m)(null!==(e=o.timeLimit)&&void 0!==e?e:0)})})]}),(0,E.jsx)(d.Z,{style:{marginTop:"10px",marginBottom:"10px"}}),(0,E.jsxs)(s.Z,{className:Rn.assignmentDescription,children:[(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:o.intro}}),(0,E.jsxs)(Ve.Z,{children:["C\xe1ch th\u1ee9c t\xednh \u0111i\u1ec3m:"," ",(0,E.jsxs)("b",{children:[" ","QUIZ_GRADEHIGHEST"===o.gradeMethod?"\u0110i\u1ec3m cao nh\u1ea5t":"QUIZ_GRADEAVERAGE"===o.gradeMethod?"Trung b\xecnh c\u1ed9ng":"QUIZ_ATTEMPTFIRST"===o.gradeMethod?"L\u1ea7n n\u1ed9p \u0111\u1ea7u ti\xean":"QUIZ_ATTEMPTLAST"===o.gradeMethod?"L\u1ea7n n\u1ed9p cu\u1ed1i c\xf9ng":""]})]})]})]}),(0,E.jsxs)(s.Z,{sx:{display:"flex",gap:"20px"},children:[(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:()=>{h(J._.lecturer.exam.submissions.replace(":courseId",o.courseId).replace(":examId",o.id))},children:(0,E.jsx)(Ve.Z,{"translation-key":"course_lecturer_assignment_see_submit",children:u("course_lecturer_assignment_see_submit")})}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{h(J._.lecturer.exam.grading)},children:(0,E.jsx)(Ve.Z,{"translation-key":"course_lecturer_assignment_grading",children:u("course_lecturer_assignment_grading")})})]}),(0,E.jsx)(ze.Z,{children:"".concat(u("common_overview")," ").concat(Re.ZP.format(u("course_lecturer_assignment_grading"),"lowercase"))}),(0,E.jsx)(Mn,{rows:[{header:u("course_lecturer_assignment_student_num"),data:c.numberOfStudents.toString()},{header:u("course_lecturer_assignment_submitted"),data:c.submitted.toString()},{header:u("course_lecturer_assignment_need_grading"),data:(c.numberOfStudents-c.submitted).toString()}],"translation-key":["course_lecturer_assignment_hide","course_lecturer_assignment_student_num","course_lecturer_assignment_submitted","course_lecturer_assignment_need_grading","common_time_left"]}),(0,E.jsx)(ze.Z,{"translation-key":"course_management_exam_previous",children:u("course_management_exam_previous")}),(0,E.jsx)(Bn,{headers:[u("course_management_exam_try_time"),u("common_status"),"".concat(u("common_score")," / ").concat(o.maxScores),u("common_see_evaluating")],rows:[{no:"Xem tr\u01b0\u1edbc",state:"\u0110\xe3 n\u1ed9p",grade:"10.0",submitted_at:p()().toString()},{no:"Xem tr\u01b0\u1edbc",state:"Ch\u01b0a n\u1ed9p",grade:"Ch\u01b0a c\xf3 \u0111i\u1ec3m",submitted_at:p()().toString()},{no:"Xem tr\u01b0\u1edbc",state:"Ch\u01b0a n\u1ed9p",grade:"Ch\u01b0a c\xf3 \u0111i\u1ec3m",submitted_at:p()().toString()}],"translation-key":["common_score","course_management_exam_try_time","common_status","common_see_evaluating"]}),(0,E.jsxs)(ze.Z,{"translation-key":"course_management_exam_max_score",children:[u("course_management_exam_max_score"),":"," ",(0,E.jsx)("span",{style:{color:"red"},children:o.maxScores})]}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>{h(J._.lecturer.exam.preview)},width:"fit-content",children:(0,E.jsx)(Ve.Z,{"translation-key":"course_management_exam_preview",children:u("course_management_exam_preview")})})]})},Ln=(0,y.memo)((e=>{const{t:t}=(0,P.$G)(),n=(0,l.s0)(),{courseId:a}=(0,l.UO)(),{pathname:i}=(0,l.TH)(),o=(0,Y.ZP)(ye.Z)({"& .MuiTabs-indicator":{backgroundColor:"transparent",display:"none"},"& .MuiTabs-flexContainer":{width:"fit-content",padding:"4px 3px",borderRadius:8}}),r=(0,Y.ZP)((e=>(0,E.jsx)(je.Z,{disableRipple:!0,...e})))((e=>{let{theme:t}=e;return{textTransform:"none",width:100,minHeight:29,borderRadius:10,padding:"10px 6px",fontSize:16,[t.breakpoints.up("sm")]:{minWidth:0},fontWeight:500,color:"rgba(0, 0, 0, 0.85)",fontFamily:["-apple-system","BlinkMacSystemFont",'"Roboto"'].join(","),"&:hover":{color:"#1976d2",backgroundColor:"#ECF4FD",transition:"all 0.2s ease-in-out",opacity:1},"&.Mui-selected":{color:"#1976d2",backgroundColor:"#ECF4FD",fontWeight:t.typography.fontWeightMedium},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}})),c=(0,y.useMemo)((()=>[J._.lecturer.course.information,J._.lecturer.course.assignment,J._.lecturer.course.grade,J._.lecturer.course.participant]),[J._]),d=(0,y.useMemo)((()=>{if(a){const e=c.findIndex((e=>{return t=e.replace(":courseId",a),!!i.startsWith(t);var t}));return-1===e?0:e}}),[i,c]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(s.Z,{className:Dn,"translation-key":["course_detail_classroom","course_detail_assignment","common_grade","course_detail_participant"],children:(0,E.jsxs)(o,{value:d,onChange:(e,t)=>{a&&n(c[t].replace(":courseId",a))},"aria-label":"basic tabs example",className:An,children:[(0,E.jsx)(r,{sx:{textTransform:"none"},label:t("course_detail_classroom"),value:0}),(0,E.jsx)(r,{sx:{textTransform:"none"},label:t("course_detail_assignment"),value:1}),(0,E.jsx)(r,{sx:{textTransform:"none"},label:t("common_grade"),value:2}),(0,E.jsx)(r,{sx:{textTransform:"none"},label:t("course_detail_participant"),value:3})]})}),(0,E.jsx)(s.Z,{id:En,children:(0,E.jsx)(s.Z,{mt:2,children:(0,E.jsxs)(l.Z5,{children:[(0,E.jsx)(l.AW,{path:"information",element:(0,E.jsx)(Dt,{})}),(0,E.jsx)(l.AW,{path:"assignments",element:(0,E.jsx)(Ge,{})}),(0,E.jsx)(l.AW,{path:"assignments/:assignmentId",element:(0,E.jsx)(st,{})}),(0,E.jsx)(l.AW,{path:"assignments/:assignmentId/submissions",element:(0,E.jsx)(Jt,{})}),(0,E.jsx)(l.AW,{path:"assignments/exams/:examId",element:(0,E.jsx)(Wn,{})}),(0,E.jsx)(l.AW,{path:"assignments/exams/:examId/submissions",element:(0,E.jsx)(Pn,{})}),(0,E.jsx)(l.AW,{path:"grade",element:(0,E.jsx)(yt,{})}),(0,E.jsx)(l.AW,{path:"participant",element:(0,E.jsx)(Lt,{})})]})})})]})}));var Hn=n(51765),On=n(46923),Gn=n(90200),Un=n(86659);const Fn={drawer:"styles_drawer__7bnFf"};var zn=n(87258),Vn=n(34180),Qn=n(47477);const Yn=300,Jn=(0,Y.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{flexGrow:1,width:"calc(100% - ".concat(Yn,"px)"),overflow:"auto",padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(Yn,"px"),...n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}}));function $n(e){let{children:t}=e;const{t:n}=(0,P.$G)(),a=[{name:n("side_bar_dashboard"),"translation-key":"side_bar_dashboard",icon:(0,E.jsx)(Hn.Z,{className:Fn.itemIcon}),link:J._.lecturer.course.management},{name:n("calendar_title"),"translation-key":"calendar_title",icon:(0,E.jsx)(zn.Qu,{className:Fn.itemIcon}),link:J._.lecturer.calendar},{name:Re.ZP.format(n("common_question_bank"),"firstUppercase"),"translation-key":"common_question_bank",icon:(0,E.jsx)(Vn.Z,{className:Fn.itemIcon}),link:J._.lecturer.question_bank.path}],[i,o]=y.useState(!0),r=(0,y.useRef)(null),{height:l}=(0,Qn.Z)({ref:r});return(0,E.jsxs)(s.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,E.jsx)(Gn.Z,{toggleDrawer:()=>{o((e=>!e))},ref:r}),(0,E.jsx)(On.ZP,{className:Fn.drawer,sx:{width:Yn,flexShrink:0,"& .MuiDrawer-paper":{width:Yn,marginTop:"".concat(l+2,"px")}},variant:"persistent",anchor:"left",open:i,children:(0,E.jsx)(Un.Z,{sideBarItem:a})}),(0,E.jsx)(Jn,{open:i,sx:{marginTop:"".concat(l,"px"),height:"calc(100% - ".concat(l,"px)")},children:t})]})}var Xn=n(41493);const Kn="styles_codequestionsBody__egOgq",ea="styles_btnWrapper__v9QLl";var ta=n(51629),na=n(66835),aa=n(23477),sa=n(24076),ia=n(70941),oa=n(57861),ra=n(1309),la=n(10259);const ca="styles_table-head__JCpmi",da="styles_table-cell__72U38",ma="styles_small-heading__nhIMM",ua="styles_col-table-body__kjwN2",_a="styles_cell-actions__KYlKS",ha="styles_noList__VefrK";const xa=function(e){let{data:t,customHeading:n,customColumns:a,isActionColumn:s,onViewDetailsClick:i,onEditClick:o,onDeleteClick:r}=e;const l=e=>{i&&i(e)},c=(0,y.useMemo)((()=>{const e={};return t&&t.length>0&&a.forEach((n=>{const a=Math.max(...t.map((e=>String(e[n]).length)));e[n]=Math.max(10,8*a)})),e}),[t,a]);return(0,E.jsx)(ta.Z,{component:Se.Z,children:(0,E.jsxs)(na.Z,{sx:{minWidth:650},"aria-label":"custom table",children:[(0,E.jsx)(aa.Z,{className:ca,children:(0,E.jsxs)(sa.Z,{children:[n.map(((e,t)=>(0,E.jsx)(ia.Z,{align:"left",className:"".concat(da," ").concat("STT"===e?ma:""),children:(0,E.jsx)(Ve.Z,{fontWeight:700,children:e})},t))),s&&(0,E.jsx)(ia.Z,{align:"left",className:da,children:(0,E.jsx)(Ve.Z,{fontWeight:700,children:"H\xe0nh \u0111\u1ed9ng"})})]})}),(0,E.jsxs)(oa.Z,{children:[t&&t.length>0&&t.map(((e,t)=>(0,E.jsxs)(sa.Z,{onClick:()=>l(e.id),children:[a.map(((t,n)=>(0,E.jsx)(ia.Z,{align:"left",style:{minWidth:c[t],maxWidth:c[t]},className:"".concat(ua,"                           \n\t\t\t\t\t\t\t\t\t\t"),children:(0,E.jsx)(Ve.Z,{children:e[t]})},n))),s&&(0,E.jsxs)(ia.Z,{align:"left",className:_a,children:[i&&(0,E.jsx)(V.Z,{title:"Chi ti\u1ebft",children:(0,E.jsx)(lt.Z,{"aria-label":"view-detail",size:"medium",onClick:()=>l(e.id),children:(0,E.jsx)(la.G,{icon:ra.Mdf})})}),o&&(0,E.jsx)(V.Z,{title:"Ch\u1ec9nh s\u1eeda",children:(0,E.jsx)(lt.Z,{"aria-label":"edit",size:"medium",onClick:()=>{var t;t=e.id,o&&o(t)},children:(0,E.jsx)(it.Z,{})})}),r&&(0,E.jsx)(V.Z,{title:"X\xf3a",children:(0,E.jsx)(lt.Z,{size:"medium",onClick:()=>{return t=e.id,void(r&&r(t));var t},children:(0,E.jsx)(yn.Z,{})})})]})]},t))),(!t||0===t.length)&&(0,E.jsx)(sa.Z,{children:(0,E.jsx)(ia.Z,{colSpan:s?n.length+1:n.length,children:(0,E.jsx)(Ve.Z,{className:ha,children:"Kh\xf4ng t\xecm th\u1ea5y th\xf4ng tin"})})})]})]})})};var ga=n(66010);const pa="https://api.codedynamite.click";class ya{static async getQuestions(e){let{search:t="",pageNo:n=0,pageSize:a=10}=e;try{const e=await un.Z.get("".concat(pa).concat(ga.b.COURSE.QUESTION.DEFAULT),{params:{search:t,pageNo:n,pageSize:a}});if(200===e.status)return Promise.resolve(e.data)}catch(d){var s,i,o,r,l,c;return console.error("Failed to fetch questions",d),Promise.reject({code:(null===(s=d.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.code)||503,status:(null===(o=d.response)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.status)||"Service Unavailable",message:(null===(l=d.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||d.message})}}static async getQuestionById(e){try{const t=await un.Z.get("".concat(pa).concat(ga.b.COURSE.QUESTION.GET_BY_ID.replace(":id",e)));if(200===t.status)return Promise.resolve(t.data)}catch(r){var t,n,a,s,i,o;return console.error("Failed to fetch question",r),Promise.reject({code:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)||503,status:(null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.status)||"Service Unavailable",message:(null===(i=r.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||r.message})}}static async deleteQuestion(e){try{if(204===(await un.Z.delete("".concat(pa).concat(ga.b.COURSE.QUESTION.DELETE_BY_ID.replace(":id",e)))).status)return Promise.resolve()}catch(r){var t,n,a,s,i,o;return console.error("Failed to delete question",r),Promise.reject({code:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.code)||503,status:(null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.status)||"Service Unavailable",message:(null===(i=r.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.message)||r.message})}}}var ja=n(70978);const ba=()=>{const[e,t]=(0,y.useState)(""),n=(0,he.I0)(),a=(0,he.v9)((e=>e.question)),i=async t=>{let{search:a=e,pageNo:s=d,pageSize:i=r}=t;try{const e=await ya.getQuestions({search:a,pageNo:s,pageSize:i});n((0,ja.d9)(e))}catch(o){console.log(o)}};(0,y.useEffect)((()=>{(async()=>{await i({search:e})})()}),[e]);const{t:o}=(0,P.$G)(),[r,c]=(0,y.useState)(10),[d,m]=(0,y.useState)(0),u=[o("common_num_order"),o("exam_management_create_question_name"),o("common_difficult_level"),o("common_edit_date")],h=(0,l.s0)();return(0,E.jsxs)(s.Z,{id:Kn,children:[(0,E.jsx)(x.Z,{fontWeight:"500","translation-key":"code_management_title",children:o("code_management_title")}),(0,E.jsxs)(s.Z,{className:ea,children:[(0,E.jsx)(R.Z,{onSearchClick:async e=>{t(e)}}),(0,E.jsx)(_.Z,{children:o("common_add_question"),btnType:_.s.Primary,width:"150px",onClick:()=>{h(J._.lecturer.code_question.create)},"translation-key":"common_add_question"})]}),(0,E.jsx)(xa,{data:a.questions.map(((e,t)=>({stt:t+1,difficultyText:"EASY"===e.difficulty?"D\u1ec5":"MEDIUM"===e.difficulty?"Trung b\xecnh":"Kh\xf3",updatedAtText:p()(e.updatedAt).format("hh:mm DD/MM/YYYY"),...e}))),customColumns:["stt","name","difficultyText","updatedAtText"],customHeading:u,isActionColumn:!0,onEditClick:e=>{h(J._.lecturer.code_question.information.replace(":questionId",e.toString()))},onDeleteClick:t=>{(async t=>{try{await ya.deleteQuestion(t),i({search:e})}catch(n){console.log(n)}})(t.toString())}}),(0,E.jsx)(Xn.Z,{component:"div",rowsPerPageOptions:[5,10,25,100],count:a.totalItems,page:a.currentPage,onPageChange:(t,n)=>{m(n),i({search:e,pageNo:n,pageSize:r})},rowsPerPage:r,labelRowsPerPage:o("common_table_row_per_page"),onRowsPerPageChange:t=>{c(+t.target.value),m(0),i({search:e,pageNo:0,pageSize:+t.target.value})},labelDisplayedRows:e=>{let{from:t,to:n,count:a,page:s}=e;return o("common_table_from_to",{from:t,to:n,countText:a})},"translation-key":["common_table_row_per_page"]})]})},fa="styles_codeQuestionDetailBody__rmyqk",Za="styles_tabWrapper__kbFk7",va="styles_body__bFLmV",Ca="styles_breadCump__Wx9zS",ka="styles_stickyFooterItem__0Gk6-",Ta="styles_phantom__sup-N",Sa="styles_stickyFooterContainer__87gdv",wa="styles_tabs__4LAHg";var Na=n(294);const Ia="styles_formBody__EzOpE",Pa="styles_textEditor__g0Ls8";var Da=function(e){return e.EASY="EASY",e.MEDIUM="MEDIUM",e.HARD="HARD",e}(Da||{});const Aa=(0,y.memo)((e=>{let{question:t}=e;const{t:n}=(0,P.$G)(),[i,o]=(0,y.useState)("M\xf4 t\u1ea3 b\xe0i to\xe1n"),[r,l]=(0,y.useState)("T\xednh t\u1ed5ng 2 s\u1ed1"),[c,d]=(0,y.useState)("G\u1ed3m 2 s\u1ed1 nguy\xean a v\xe0 b c\xe1ch nhau b\u1edfi d\u1ea5u c\xe1ch, \u0111\u01b0\u1ee3c nh\u1eadp t\u1eeb b\xe0n ph\xedm"),[m,u]=(0,y.useState)("L\xe0 m\u1ed9t s\u1ed1 nguy\xean cho bi\u1ebft t\u1ed5ng c\u1ee7a a v\xe0 b"),[_,h]=(0,y.useState)("a v\xe0 b l\xe0 s\u1ed1 nguy\xean"),[x]=(0,y.useState)("T\u1ed5ng 2 s\u1ed1"),[g,p]=(0,y.useState)(Da.EASY);return(0,E.jsxs)(s.Z,{component:"form",autoComplete:"off",className:Ia,children:[(0,E.jsxs)(K.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"code_management_detail_info_description",children:[n("code_management_detail_info_description")," "]}),(0,E.jsx)(k.Z,{title:n("exam_management_create_question_name"),type:"text",value:t.name,"translation-key":"exam_management_create_question_name"}),(0,E.jsx)(we.Z,{children:(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"common_difficult_level",children:n("common_difficult_level")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,children:(0,E.jsxs)(Ie.Z,{value:t.difficulty,onChange:e=>{p(e.target.value)},sx:{width:"200px"},children:[(0,E.jsx)(Pe.Z,{value:Da.EASY,"translation-key":"common_easy",children:n("common_easy")}),(0,E.jsx)(Pe.Z,{value:Da.MEDIUM,"translation-key":"common_medium",children:n("common_medium")}),(0,E.jsx)(Pe.Z,{value:Da.HARD,"translation-key":"common_hard",children:n("common_hard")})]})})]})}),(0,E.jsx)(we.Z,{children:(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_description",children:n("code_management_create_description")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:Pa,children:(0,E.jsx)(T.Z,{value:t.questionText,onChange:o})})]})}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_statement",children:n("code_management_create_statement")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:Pa,children:(0,E.jsx)(T.Z,{value:r,onChange:l})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,"translation-key":"code_management_create_input_format",children:(0,E.jsx)(S.Z,{children:n("code_management_create_input_format")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:Pa,children:(0,E.jsx)(T.Z,{value:c,onChange:d})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_constraint",children:n("code_management_create_constraint")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:Pa,children:(0,E.jsx)(T.Z,{value:_,onChange:h})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_output_format",children:n("code_management_create_output_format")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:Pa,children:(0,E.jsx)(T.Z,{value:m,onChange:u})})]})]})})),Ea=Aa,qa="styles_head-wrapper__lqa8G",Ba="styles_btn-wrapper__agnTf",Ma="styles_body__o0dN6",Ra="styles_dataGrid__bL2pR",Wa="styles_icon__BfP3g";var La=n(44758),Ha=n(11198);const Oa={dialogTitle:"styles_dialogTitle__VqDlP",formBody:"styles_formBody__hajG0",inputContainer:"styles_inputContainer__i4GRp",btnWrapper:"styles_btnWrapper__dAKjL"};var Ga=n(15305);const Ua=(0,Y.ZP)(an.Z)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),Fa=e=>{let{setOpen:t,open:n,itemEdit:i,setItemEdit:o}=e;const[r,l]=(0,y.useState)(0),[c,d]=(0,y.useState)(!1);(0,y.useEffect)((()=>{i&&(l(i.score),d(i.isSample))}),[i]);const m=()=>{t(!1),o(null)},{t:u}=(0,P.$G)();return(0,E.jsxs)(Ua,{onClose:m,"aria-labelledby":"customized-dialog-title",open:n,fullWidth:!0,maxWidth:"md",children:[(0,E.jsxs)(cn.Z,{className:Oa.dialogTitle,children:[i?(0,E.jsx)(X.Z,{"translation-key":"code_management_detail_update_test_case",children:u("code_management_detail_update_test_case")}):(0,E.jsx)(X.Z,{"translation-key":"code_management_detail_add_test_case",children:u("code_management_detail_add_test_case")}),(0,E.jsx)(lt.Z,{"aria-label":"close",onClick:m,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,E.jsx)(Ha.Z,{})})]}),(0,E.jsx)(sn.Z,{dividers:!0,className:Oa.dialogContent,children:(0,E.jsxs)(s.Z,{component:"form",className:Oa.formBody,autoComplete:"off",children:[(0,E.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center"},children:(0,E.jsx)(we.Z,{children:(0,E.jsxs)(a.ZP,{container:!0,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center"},children:(0,E.jsx)(S.Z,{"translation-key":"common_score",children:u("common_score")})}),(0,E.jsx)(a.ZP,{item:!0,xs:6,children:(0,E.jsx)(vt.Z,{value:r,type:"number",size:"small",onChange:e=>{l(e.target.value)}})})]})})}),(0,E.jsx)(a.ZP,{item:!0,xs:3,sx:{display:"flex",alignItems:"center"},children:(0,E.jsx)(we.Z,{children:(0,E.jsxs)(a.ZP,{container:!0,children:[(0,E.jsx)(a.ZP,{item:!0,xs:6,sx:{display:"flex",alignItems:"center"},children:(0,E.jsx)(S.Z,{"translation-key":"common_template",children:u("common_template")})}),(0,E.jsx)(a.ZP,{item:!0,xs:6,children:(0,E.jsx)(La.Z,{color:"primary",sx:{"& .MuiSvgIcon-root":{fontSize:35}},checked:c,onChange:()=>{d(!c)}})})]})})})]}),(0,E.jsxs)(we.Z,{fullWidth:!0,className:Oa.inputContainer,children:[(0,E.jsx)(S.Z,{children:u("detail_problem_input")}),(0,E.jsx)(Ga.Z,{defaultValue:i?i.inputValue:"",sx:{backgroundColor:"white"},minRows:5,maxRows:5})]}),(0,E.jsxs)(we.Z,{fullWidth:!0,className:Oa.inputContainer,children:[(0,E.jsx)(S.Z,{"translation-key":"detail_problem_output",children:u("detail_problem_output")}),(0,E.jsx)(Ga.Z,{defaultValue:i?i.outputValue:"",sx:{backgroundColor:"white"},minRows:5,maxRows:5})]}),(0,E.jsxs)(s.Z,{className:Oa.btnWrapper,children:[(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:m,"translation-key":"common_cancel",children:u("common_cancel")}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,"translation-key":"common_add_new",children:Re.ZP.format(u("common_add_new"),"firstUppercase")})]})]})})]})};var za=n(71205),Va=n(21199),Qa=n(81876),Ya=n(97762);function Ja(e){const{t:t}=(0,P.$G)(),{title:n,content:a,open:s,setOpen:i,handleDelete:o}=e,r=()=>{i(!1)};return(0,E.jsxs)(an.Z,{open:s,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,E.jsx)(cn.Z,{id:"alert-dialog-title",children:n}),(0,E.jsx)(sn.Z,{children:(0,E.jsx)(Ya.Z,{id:"alert-dialog-description",children:a})}),(0,E.jsxs)(ln.Z,{children:[(0,E.jsx)(z.Z,{onClick:r,"translation-key":"common_cancel",children:t("common_cancel")}),(0,E.jsx)(z.Z,{onClick:()=>{o(),i(!1)},autoFocus:!0,"translation-key":"common_confirm",children:t("common_confirm")})]})]})}const $a=(0,y.memo)((e=>{const{t:t}=(0,P.$G)(),[n,a]=(0,y.useState)(!1),[i,o]=(0,y.useState)(!1),[r,l]=(0,y.useState)(null),[c,d]=y.useState([{id:1,input:"input01",output:"output01",inputValue:"1\n2",outputValue:"3",isSample:!0,score:0},{id:2,input:"input02",output:"output02",inputValue:"3\n2",outputValue:"5",isSample:!0,score:10},{id:3,input:"input03",output:"output03",inputValue:"2\n2",outputValue:"4",isSample:!0,score:100},{id:4,input:"input04",output:"output04",inputValue:"3\n3",outputValue:"6",isSample:!1,score:5},{id:5,input:"input05",output:"output05",inputValue:"5\n2",outputValue:"7",isSample:!1,score:10},{id:6,input:"input06",output:"output06",inputValue:"2\n12",outputValue:"14",isSample:!1,score:10}]),[m,u]=y.useState({}),h=e=>()=>{l(c.find((t=>t.id===e))),a(!0)},x=e=>()=>{u({...m,[e]:{mode:Va.se.View}})},g=e=>()=>{u({...m,[e]:{mode:Va.se.View,ignoreModifications:!0}});c.find((t=>t.id===e)).isNew&&d(c.filter((t=>t.id!==e)))},p=[{field:"id",headerName:t("common_num_order"),width:100,editable:!1},{field:"input",headerName:t("detail_problem_input"),type:"text",width:200,align:"left",headerAlign:"left",editable:!1},{field:"output",headerName:t("detail_problem_output"),width:200,type:"text",align:"left",headerAlign:"left",editable:!1},{field:"isSample",width:150,headerName:t("common_template"),editable:!0,type:"boolean"},{field:"score",headerName:t("common_score"),width:150,editable:!0,type:"number"},{field:"actions",type:"actions",headerName:t("common_action"),width:300,cellClassName:"actions",getActions:e=>{var t;let{id:n}=e;return(null===(t=m[n])||void 0===t?void 0:t.mode)===Va.se.Edit?[(0,E.jsx)(Et.u,{icon:(0,E.jsx)(Zt.Z,{className:Wa}),label:"Save",sx:{color:"primary.main"},onClick:x(n)}),(0,E.jsx)(Et.u,{icon:(0,E.jsx)(Ha.Z,{className:Wa}),label:"Cancel",className:"textPrimary",onClick:g(n),color:"inherit"})]:[(0,E.jsx)(Et.u,{icon:(0,E.jsx)(it.Z,{className:Wa}),label:"Edit",className:"textPrimary",onClick:h(n),color:"inherit"}),(0,E.jsx)(Et.u,{icon:(0,E.jsx)(yn.Z,{className:Wa}),label:"Delete",onClick:()=>{o(!0)},color:"inherit"})]}}];return(0,E.jsxs)(s.Z,{className:Ma,children:[(0,E.jsxs)(s.Z,{className:qa,children:[(0,E.jsxs)(K.Z,{"translation-key":"code_management_detail_test_case_description",fontStyle:"italic",fontWeight:"400",colorname:"--gray-50",children:[t("code_management_detail_test_case_description")," "]}),(0,E.jsxs)(s.Z,{className:Ba,children:[(0,E.jsx)(_.Z,{btnType:_.s.Outlined,"translation-key":"code_management_detail_upload_zip",children:t("code_management_detail_upload_zip")}),(0,E.jsx)(_.Z,{"translation-key":"code_management_detail_add_test_case",btnType:_.s.Primary,onClick:()=>a(!0),children:t("code_management_detail_add_test_case")})]})]}),(0,E.jsx)(Qa._$,{rows:c,columns:p,editMode:"row",className:Ra,rowModesModel:m,onRowModesModelChange:e=>{u(e)},onRowEditStop:(e,t)=>{e.reason===za.U.rowFocusOut&&(t.defaultMuiPrevented=!0)},processRowUpdate:e=>{const t={...e,isNew:!1};return d(c.map((n=>n.id===e.id?t:n))),t},slotProps:{toolbar:{setRows:d,setRowModesModel:u}}}),(0,E.jsx)(Fa,{itemEdit:r,open:n,setOpen:a,setItemEdit:l}),(0,E.jsx)(Ja,{open:i,setOpen:o,title:t("code_management_detail_delete_confirm"),content:t("code_management_detail_delete_confirm_question"),handleDelete:()=>{o(!1)},"translation-key":["code_management_detail_delete_confirm_question","code_management_detail_delete_confirm"]})]})})),Xa={formBody:"styles_formBody__E86PY",btnWrapper:"styles_btnWrapper__l7tlh",codeStubsContainer:"styles_codeStubsContainer__Th+c1",codeStubsWrapper:"styles_codeStubsWrapper__9FNd0",codeStubHead:"styles_codeStubHead__g9eLW"};var Ka=n(5479),es=function(e){return e.JAVA="java",e.CPP="cpp",e.JAVASCRIPT="javascript",e}(es||{});const ts=(0,y.memo)((e=>{const{t:t}=(0,P.$G)(),n=[{language:es.JAVA,codeStubHead:"\timport java.io.*;\n\timport java.math.*;\n\timport java.security.*;\n\timport java.text.*;\n\timport java.util.*;\n\timport java.util.concurrent.*;\n\timport java.util.function.*;\n\timport java.util.regex.*;\n\timport java.util.stream.*;\n\timport static java.util.stream.Collectors.joining;\n\timport static java.util.stream.Collectors.toList;\n\t\t\t",codeStubBody:"class Result {\n\t/*\n\t\t* Complete the 'sumOfTwoIntegers' function below.\n\t\t*\n\t\t* The function is expected to return an INTEGER.\n\t\t* The function accepts following parameters:\n\t\t*  1. INTEGER a\n\t\t*  2. INTEGER b\n\t\t*/\n\n\tpublic static int sumOfTwoIntegers(int a, int b) {\n\t// Write your code here\n\n\t}\n\t\t\n\t\t}\n\t\t\t",codeStubTail:'public class Solution {\n\tpublic static void main(String[] args) throws IOException {\n\t\t\tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(System.in));\n\t\t\tBufferedWriter bufferedWriter = new BufferedWriter(new FileWriter(System.getenv("OUTPUT_PATH")));\n\n\t\t\tint a = Integer.parseInt(bufferedReader.readLine().trim());\n\n\t\t\tint b = Integer.parseInt(bufferedReader.readLine().trim());\n\n\t\t\tint result = Result.sumOfTwoIntegers(a, b);\n\n\t\t\tbufferedWriter.write(String.valueOf(result));\n\t\t\tbufferedWriter.newLine();\n\n\t\t\tbufferedReader.close();\n\t\t\tbufferedWriter.close();\n\t}\n\t\t}'},{language:es.JAVASCRIPT,codeStubHead:"\t'use strict';\n\n\t\tconst fs = require('fs');\n\t\t\n\t\tprocess.stdin.resume();\n\t\tprocess.stdin.setEncoding('utf-8');\n\t\t\n\t\tlet inputString = '';\n\t\tlet currentLine = 0;\n\t\t\n\t\tprocess.stdin.on('data', function(inputStdin) {\n\t\t\t\tinputString += inputStdin;\n\t\t});\n\t\t\n\t\tprocess.stdin.on('end', function() {\n\t\t\t\tinputString = inputString.split('\n');\n\t\t\n\t\t\t\tmain();\n\t\t});\n\t\t\n\t\tfunction readLine() {\n\t\t\t\treturn inputString[currentLine++];\n\t\t}\t\t\t\n\t\t\t",codeStubBody:"\n/*\n * Complete the 'sumOfTwoIntegers' function below.\n *\n * The function is expected to return an INTEGER.\n * The function accepts following parameters:\n *  1. INTEGER a\n *  2. INTEGER b\n */\n\nfunction sumOfTwoIntegers(a, b) {\n    // Write your code here\n\n}\n\t\t\t",codeStubTail:"\nfunction main() {\n\tconst ws = fs.createWriteStream(process.env.OUTPUT_PATH);\n\n\tconst a = parseInt(readLine().trim(), 10);\n\n\tconst b = parseInt(readLine().trim(), 10);\n\n\tconst result = sumOfTwoIntegers(a, b);\n\n\tws.write(result + '\n');\n\n\tws.end();\n}\n\t\t"},{language:es.CPP,codeStubHead:"#include <bits/stdc++.h>\n\n\tusing namespace std;\n\t\n\tstring ltrim(const string &);\n\tstring rtrim(const string &);\n\t\t\t\t\t\n\t\t\t",codeStubBody:"\n\t\t\t/*\n * Complete the 'sumOfTwoIntegers' function below.\n *\n * The function is expected to return an INTEGER.\n * The function accepts following parameters:\n *  1. INTEGER a\n *  2. INTEGER b\n */\n\nint sumOfTwoIntegers(int a, int b) {\n\n}\n\t\t\t",codeStubTail:'int main()\n\t{\n\t\t\tofstream fout(getenv("OUTPUT_PATH"));\n\t\n\t\t\tstring a_temp;\n\t\t\tgetline(cin, a_temp);\n\t\n\t\t\tint a = stoi(ltrim(rtrim(a_temp)));\n\t\n\t\t\tstring b_temp;\n\t\t\tgetline(cin, b_temp);\n\t\n\t\t\tint b = stoi(ltrim(rtrim(b_temp)));\n\t\n\t\t\tint result = sumOfTwoIntegers(a, b);\n\t\n\t\t\tfout << result << "\n";\n\t\n\t\t\tfout.close();\n\t\n\t\t\treturn 0;\n\t}\n\t\n\tstring ltrim(const string &str) {\n\t\t\tstring s(str);\n\t\n\t\t\ts.erase(\n\t\t\t\t\ts.begin(),\n\t\t\t\t\tfind_if(s.begin(), s.end(), not1(ptr_fun<int, int>(isspace)))\n\t\t\t);\n\t\n\t\t\treturn s;\n\t}\n\t\n\tstring rtrim(const string &str) {\n\t\t\tstring s(str);\n\t\n\t\t\ts.erase(\n\t\t\t\t\tfind_if(s.rbegin(), s.rend(), not1(ptr_fun<int, int>(isspace))).base(),\n\t\t\t\t\ts.end()\n\t\t\t);\n\t\n\t\t\treturn s;\n\t}\t\t\t\n\t\t'}],[i,o]=(0,y.useState)(es.JAVA),[r,l]=(0,y.useState)(n[0]),c=(0,y.useRef)(null),{height:d}=(0,Qn.Z)({ref:c}),m=(0,y.useRef)(null),{height:u}=(0,Qn.Z)({ref:m});return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(s.Z,{component:"form",autoComplete:"off",className:Xa.formBody,children:[(0,E.jsx)(K.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"code_management_detail_template_description",children:t("code_management_detail_template_description")}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_detail_template_dsl",children:t("code_management_detail_template_dsl")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,children:(0,E.jsx)(Ga.Z,{defaultValue:"function(integer, sumOfTwoIntegers, integer a, integer b)\n\ninteger(a)\n\ninteger(b)\n\ninvoke(integer, result, sumOfTwoIntegers, a, b)\n\nprint(integer,result)",sx:{backgroundColor:"white"},minRows:5,maxRows:5})})]}),(0,E.jsx)(s.Z,{className:Xa.btnWrapper,children:(0,E.jsxs)(_.Z,{btnType:_.s.Primary,width:"150px","translation-key":"code_management_detail_template_create",children:[t("code_management_detail_template_create")," "]})})]}),(0,E.jsxs)(K.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"code_management_detail_template_dsl_description",children:[t("code_management_detail_template_dsl_description")," "]}),(0,E.jsxs)(s.Z,{mt:2,id:Xa.codeStubsContainer,children:[(0,E.jsxs)(s.Z,{className:Xa.codeStubsWrapper,children:[(0,E.jsxs)(s.Z,{className:Xa.codeStubHead,ref:c,children:[(0,E.jsx)(Ve.Z,{fontWeight:700,children:"Head"}),(0,E.jsx)(we.Z,{children:(0,E.jsxs)(Ie.Z,{value:i,onChange:e=>{const t=e.target.value;o(t);const a=n.find((e=>e.language===t));a&&l(a)},sx:{bgcolor:"white",width:"150px"},children:[(0,E.jsx)(Pe.Z,{value:es.JAVA,children:"Java"}),(0,E.jsx)(Pe.Z,{value:es.JAVASCRIPT,children:"Javascript"}),(0,E.jsx)(Pe.Z,{value:es.CPP,children:"C++"})]})})]}),(0,E.jsx)(s.Z,{className:Xa.codeStubBody,style:{height:"calc(100% - ".concat(d,"px)")},children:(0,E.jsx)(Ka.Z,{value:r.codeStubHead,readOnly:!0})})]}),(0,E.jsxs)(s.Z,{className:Xa.codeStubsWrapper,children:[(0,E.jsx)(s.Z,{className:Xa.codeStubHead,ref:m,children:(0,E.jsx)(Ve.Z,{fontWeight:700,children:"Body"})}),(0,E.jsx)(s.Z,{className:Xa.codeStubBody,style:{height:"calc(100% - ".concat(u,"px)")},children:(0,E.jsx)(Ka.Z,{value:r.codeStubBody,readOnly:!0})})]}),(0,E.jsxs)(s.Z,{className:Xa.codeStubsWrapper,children:[(0,E.jsx)(s.Z,{className:Xa.codeStubHead,children:(0,E.jsx)(Ve.Z,{fontWeight:700,children:"Tail"})}),(0,E.jsx)(s.Z,{className:Xa.codeStubBody,style:{height:"calc(100% - ".concat(u,"px)")},children:(0,E.jsx)(Ka.Z,{value:r.codeStubTail,readOnly:!0})})]})]})]})})),ns="styles_body__CDijL",as="styles_dataGrid__ybts6",ss="styles_icon__JV9Ix",is=(0,y.memo)((e=>{const{t:t}=(0,P.$G)(),[n,a]=y.useState([{id:1,name:"ADA",timeLimit:3,memoryLimit:512,isSelected:!0},{id:2,name:"C++",timeLimit:2,memoryLimit:512,isSelected:!0},{id:3,name:"Java 15",timeLimit:4,memoryLimit:2048,isSelected:!0}]),[i,o]=y.useState({}),r=e=>()=>{o({...i,[e]:{mode:Va.se.Edit}})},l=e=>()=>{o({...i,[e]:{mode:Va.se.View}})},c=e=>()=>{o({...i,[e]:{mode:Va.se.View,ignoreModifications:!0}});n.find((t=>t.id===e)).isNew&&a(n.filter((t=>t.id!==e)))},d=[{field:"name",headerName:t("common_language"),type:"text",width:150,align:"left",headerAlign:"left",editable:!1},{field:"timeLimit",headerName:t("code_management_detail_lang_time_limit"),width:300,type:"number",align:"center",headerAlign:"center",editable:!0},{field:"memoryLimit",width:300,headerName:t("code_management_detail_lang_storage_limit"),editable:!0,align:"center",headerAlign:"center",type:"number"},{field:"isSelected",width:150,headerName:t("common_use"),editable:!0,type:"boolean"},{field:"actions",type:"actions",headerName:t("common_action"),width:200,align:"center",headerAlign:"center",cellClassName:"actions",getActions:e=>{var t;let{id:n}=e;return(null===(t=i[n])||void 0===t?void 0:t.mode)===Va.se.Edit?[(0,E.jsx)(Et.u,{icon:(0,E.jsx)(Zt.Z,{className:ss}),label:"Save",sx:{color:"primary.main"},onClick:l(n)}),(0,E.jsx)(Et.u,{icon:(0,E.jsx)(Ha.Z,{className:ss}),label:"Cancel",className:"textPrimary",onClick:c(n),color:"inherit"})]:[(0,E.jsx)(Et.u,{icon:(0,E.jsx)(it.Z,{className:ss}),label:"Edit",className:"textPrimary",onClick:r(n),color:"inherit"})]}}];return(0,E.jsxs)(s.Z,{className:ns,children:[(0,E.jsx)(K.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50",children:t("code_management_detail_lang_description")}),(0,E.jsx)(Qa._$,{rows:n,columns:d,editMode:"row",className:as,rowModesModel:i,onRowModesModelChange:e=>{o(e)},onRowEditStop:(e,t)=>{e.reason===za.U.rowFocusOut&&(t.defaultMuiPrevented=!0)},processRowUpdate:e=>{const t={...e,isNew:!1};return a(n.map((n=>n.id===e.id?t:n))),t},slotProps:{toolbar:{setRows:a,setRowModesModel:o}}})]})})),os=(0,y.memo)((e=>{const{questionId:t}=(0,l.UO)(),[n,a]=(0,y.useState)({id:"",organizationId:"",difficulty:"",name:"",questionText:"",generalFeedback:"",defaultMark:0,createdAt:"",updatedAt:"",message:"",qtype:""});(0,y.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await ya.getQuestionById(e);a(t)}catch(t){console.log(t)}})(null!==t&&void 0!==t?t:"")})()}),[]);const{t:i}=(0,P.$G)(),o=(0,l.s0)(),{pathname:r}=(0,l.TH)(),c=(0,y.useMemo)((()=>[J._.lecturer.code_question.information,J._.lecturer.code_question.test_cases,J._.lecturer.code_question.code_stubs,J._.lecturer.code_question.languages]),[J._]),d=(0,y.useMemo)((()=>{if(t){const e=c.findIndex((e=>{return n=e.replace(":questionId",t),!!(0,Na.LX)(r,n);var n}));return-1===e?0:e}}),[r,c]);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(s.Z,{children:[(0,E.jsx)(s.Z,{className:Za,children:(0,E.jsxs)(Ve.Z,{className:Ca,colorname:"--gray-50",fontWeight:"600",children:[(0,E.jsx)("span",{"translation-key":"code_management_title",onClick:()=>o(J._.lecturer.code_question.management),children:i("code_management_title")}),">",(0,E.jsx)("span",{onClick:()=>{t&&o(r)},children:n.name})]})}),(0,E.jsxs)(s.Z,{className:va,children:[(0,E.jsx)(x.Z,{fontWeight:"500",children:n.name}),(0,E.jsx)(s.Z,{sx:{border:1,borderColor:"divider"},children:(0,E.jsxs)(ye.Z,{value:d,onChange:(e,n)=>{t&&o(c[n].replace(":questionId",t))},"aria-label":"basic tabs example",className:wa,children:[(0,E.jsx)(je.Z,{sx:{textTransform:"none"},label:(0,E.jsx)(Ve.Z,{"translation-key":"common_info",children:i("common_info")}),value:0}),(0,E.jsx)(je.Z,{sx:{textTransform:"none"},label:(0,E.jsx)(Ve.Z,{children:"Test cases"}),value:1}),(0,E.jsx)(je.Z,{sx:{textTransform:"none"},label:(0,E.jsx)(Ve.Z,{"translation-key":"code_management_detail_stub",children:i("code_management_detail_stub")}),value:2}),(0,E.jsx)(je.Z,{sx:{textTransform:"none"},label:(0,E.jsx)(Ve.Z,{"translation-key":"common_language",children:i("common_language")}),value:3})]})}),(0,E.jsx)(s.Z,{id:fa,children:(0,E.jsxs)(l.Z5,{children:[(0,E.jsx)(l.AW,{path:"information",element:(0,E.jsx)(Ea,{question:n})}),(0,E.jsx)(l.AW,{path:"test-cases",element:(0,E.jsx)($a,{})}),(0,E.jsx)(l.AW,{path:"code-stubs",element:(0,E.jsx)(ts,{})}),(0,E.jsx)(l.AW,{path:"languages",element:(0,E.jsx)(is,{})})]})})]})]}),(0,E.jsxs)(s.Z,{className:Sa,children:[(0,E.jsx)(s.Z,{className:Ta}),(0,E.jsx)(s.Z,{className:ka,children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,"translation-key":"common_save_changes",children:i("common_save_changes")})})]})]})})),rs=os,ls="styles_codequestionCreationBody__UUyn7",cs="styles_tabWrapper__kTfRy",ds="styles_breadCump__-RcVH",ms="styles_formBody__ASuxf",us="styles_stickyFooterItem__Vrg0i",_s="styles_phantom__KDPmU",hs="styles_stickyFooterContainer__DcJ4Q",xs="styles_textEditor__wJohv",gs=(0,y.memo)((e=>{const{questionId:t}=(0,l.UO)(),[n,i]=(0,y.useState)({id:"",organizationId:"",difficulty:"",name:"",questionText:"",generalFeedback:"",defaultMark:0,createdAt:"",updatedAt:"",message:"",qtype:""});(0,y.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await ya.getQuestionById(e);i(t)}catch(t){console.log(t)}})(null!==t&&void 0!==t?t:"")})()}),[]);const{t:o}=(0,P.$G)(),[r,c]=(0,y.useState)("M\xf4 t\u1ea3 b\xe0i to\xe1n"),[d,m]=(0,y.useState)("T\xednh t\u1ed5ng 2 s\u1ed1"),[u,h]=(0,y.useState)(""),[g,p]=(0,y.useState)("L\xe0 m\u1ed9t s\u1ed1 nguy\xean cho bi\u1ebft t\u1ed5ng c\u1ee7a a v\xe0 b"),[j,b]=(0,y.useState)("a v\xe0 b l\xe0 s\u1ed1 nguy\xean"),[f]=(0,y.useState)("T\u1ed5ng 2 s\u1ed1"),Z=(0,l.s0)();return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(s.Z,{id:ls,children:[(0,E.jsx)(s.Z,{className:cs,children:(0,E.jsxs)(Ve.Z,{className:ds,colorname:"--gray-50",fontWeight:"600",children:[(0,E.jsx)("span",{onClick:()=>Z(J._.lecturer.code_question.management),"translation-key":"code_management_title",children:o("code_management_title")})," ",">"," ",(0,E.jsx)("span",{onClick:()=>Z(J._.lecturer.code_question.create),"translation-key":"code_management_create_new_title",children:o("code_management_create_new_title")})]})}),(0,E.jsxs)(s.Z,{component:"form",className:ms,autoComplete:"off",children:[(0,E.jsx)(x.Z,{fontWeight:"500",children:o("code_management_create_new_title")}),(0,E.jsx)(k.Z,{"translation-key":"code_management_create_new_title",title:o("code_management_create_new_title"),type:"text",value:f}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_description",children:o("code_management_create_description")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:xs,children:(0,E.jsx)(T.Z,{value:r,onChange:c})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,"translation-key":"code_management_create_statement",children:(0,E.jsx)(S.Z,{children:o("code_management_create_statement")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:xs,children:(0,E.jsx)(T.Z,{value:d,onChange:m})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_input_format",children:o("code_management_create_input_format")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:xs,children:(0,E.jsx)(T.Z,{value:n.name,onChange:h})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_constraint",children:o("code_management_create_constraint")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:xs,children:(0,E.jsx)(T.Z,{value:j,onChange:b})})]}),(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,E.jsx)(a.ZP,{item:!0,xs:3,children:(0,E.jsx)(S.Z,{"translation-key":"code_management_create_output_format",children:o("code_management_create_output_format")})}),(0,E.jsx)(a.ZP,{item:!0,xs:9,className:xs,children:(0,E.jsx)(T.Z,{value:g,onChange:p})})]})]})]}),(0,E.jsxs)(s.Z,{className:hs,children:[(0,E.jsx)(s.Z,{className:_s}),(0,E.jsx)(s.Z,{className:us,children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,"translation-key":"exam_management_create_new_question",children:o("exam_management_create_new_question")})})]})]})})),ps=gs;var ys=n(94638),js=n(50373);const bs="styles_questionBanksManagementBody__RV7H+";var fs=n(25231);const Zs=(0,Y.ZP)((e=>(0,E.jsx)(je.Z,{...e})))((e=>{let{theme:t}=e;return{textTransform:"none",fontWeight:t.typography.fontWeightRegular,fontSize:t.typography.pxToRem(20),marginRight:t.spacing(1)}})),vs=()=>{const{t:e}=(0,P.$G)(),t=(0,l.s0)(),[n,a]=(0,y.useState)("1"),i=(0,he.I0)();return(0,E.jsx)(s.Z,{id:bs,children:(0,E.jsxs)(ys.ZP,{value:n,children:[(0,E.jsx)(s.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,E.jsxs)(js.Z,{onChange:(e,n)=>{a(n),i((0,fs.IE)(n)),t("/lecturer/question-bank-management")},"aria-label":"lab API tabs",children:[(0,E.jsx)(Zs,{label:Re.ZP.format(e("common_general"),"firstUppercase"),"translation-key":"common_general",value:"1"}),(0,E.jsx)(Zs,{label:Re.ZP.format(e("common_personal"),"firstUppercase"),"translation-key":"common_personal",value:"2"})]})}),(0,E.jsx)(l.j3,{context:{value:n,setValue:a}})]})})};var Cs=n(47825),ks=n(71673),Ts=n(51293);const Ss="styles_table-head__I-wXa",ws="styles_tab-panel__8Dwqr";var Ns=n(571),Is=n(93588),Ps=n(33117);const Ds=()=>{const[e,t]=(0,y.useState)(""),n=(0,he.I0)(),a=(0,he.v9)((e=>e.questionBankCategory)),s=async e=>{t(e)},i=async t=>{let{search:a=e,pageNo:s=m,pageSize:i=c}=t;try{const e=await Ns._.getQuestionBankCategories({isOrgQuestionBank:"1"===r.tab,search:a,pageNo:s,pageSize:i});n((0,fs.DG)(e))}catch(o){console.log(o)}},o=(0,he.v9)(Ps.HF),r=(0,he.v9)((e=>e.questionBankCategory));(0,y.useEffect)((()=>{(async()=>{await i({search:e})})()}),[e,r.tab]);const[c,d]=(0,y.useState)(5),[m,u]=(0,y.useState)(0),{t:h}=(0,P.$G)(),[g,j]=(0,y.useState)({page:m,pageSize:c}),[b,f]=(0,y.useState)(),[Z,v]=(0,y.useState)({}),[C,k]=(0,y.useState)({}),[T,S]=(0,y.useState)(!1),[w,N]=(0,y.useState)(!1),I=((e,t)=>t.map(((t,n)=>e[n]={...e[n],renderHeader:e=>(0,E.jsx)(Ve.Z,{fontWeight:700,children:t})})))([{field:"stt",sortable:!1,flex:.7,align:"center",headerClassName:Ss,renderCell:e=>(0,E.jsx)(Ve.Z,{children:e.row.stt})},{field:"category",sortable:!1,flex:3,headerClassName:Ss,renderCell:e=>(0,E.jsx)(Ve.Z,{children:e.row.name})},{field:"created",sortable:!1,flex:3,renderCell:e=>(0,E.jsxs)("div",{children:[(0,E.jsx)(Ve.Z,{children:e.row.createdByName}),(0,E.jsx)("div",{children:p()(e.row.createdAt).format("DD/MM/YYYY HH:mm")})]}),headerClassName:Ss},{field:"updated",sortable:!1,flex:3,renderCell:e=>(0,E.jsxs)("div",{children:[(0,E.jsx)(Ve.Z,{children:e.row.updatedByName}),(0,E.jsx)("div",{children:p()(e.row.updatedAt).format("DD/MM/YYYY HH:mm")})]}),headerClassName:Ss},{field:"operation",sortable:!1,flex:1,type:"actions",cellClassName:"actions",getActions:t=>{let{id:n}=t;return[(0,E.jsx)(Et.u,{icon:(0,E.jsx)(it.Z,{}),label:"Save",sx:{color:"primary.main"},onClick:()=>{const e=a.categories.questionBankCategories.find((e=>e.id===n));e&&(f(e),v(e),N(!0))}}),(0,E.jsx)(Et.u,{icon:(0,E.jsx)(qt.Z,{}),label:"Cancel",className:"textPrimary",onClick:()=>{(async t=>{try{await Ns._.deleteQuestionBankCategory(t),i({search:e})}catch(n){console.log(n)}})(n)},sx:{color:Ts.Z[500]}})]},headerClassName:Ss}],h("question_bank_category_header_table",{returnObjects:!0}));(0,y.useEffect)((()=>{i({search:e,pageNo:g.page,pageSize:g.pageSize})}),[g.page,g.pageSize,e]);const D=(0,l.s0)(),A=e=>{D("".concat(e.row.id))};return(0,E.jsxs)("div",{children:[(0,E.jsx)(ks.Z,{value:"1",className:ws,children:(0,E.jsx)(Cs.Z,{children:(0,E.jsxs)(nn.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,E.jsx)(x.Z,{fontWeight:"500","translation-key":"common_question_bank",children:Re.ZP.format(h("common_question_bank"),"firstUppercase")}),(0,E.jsx)(nn.Z,{direction:{xs:"column",md:"row"},spacing:1,children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>S(!0),children:(0,E.jsx)(Ve.Z,{paddingX:3,"translation-key":"common_add_new",children:Re.ZP.format(h("common_add_new"),"firstUppercase")})})}),(0,E.jsx)(Is.Z,{placeHolder:"".concat(h("question_bank_category_find_by_category")," ..."),"translation-key":"question_bank_category_find_by_category",value:e,setValue:t,options:[],onHandleChange:s}),(0,E.jsx)(Qa._$,{sx:{"& .MuiDataGrid-cell":{padding:"16px"},"& .MuiDataGrid-row:hover":{cursor:"pointer"}},"translation-key-header":"question_bank_category_header_table",autoHeight:!0,disableColumnMenu:!0,getRowHeight:()=>"auto",rows:a.categories.questionBankCategories.map(((e,t)=>({stt:t+1,...e}))),rowCount:a.categories.totalItems,loading:a.isLoading,paginationModel:{page:m,pageSize:c},onPaginationModelChange:(e,t)=>{j((t=>({...t,page:e.page,pageSize:e.pageSize}))),u(e.page),d(e.pageSize)},columns:I,pageSizeOptions:[5,10,30,50],paginationMode:"server",disableColumnFilter:!0,onRowClick:A,hideFooterSelectedRowCount:!0,localeText:{MuiTablePagination:{labelDisplayedRows:e=>{let{from:t,to:n,count:a,page:s}=e;return h("common_table_from_to",{from:t,to:n,countText:a})},labelRowsPerPage:h("common_table_row_per_page")}}})]})})}),(0,E.jsx)(ks.Z,{value:"2",className:ws,children:(0,E.jsx)(Cs.Z,{children:(0,E.jsxs)(nn.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,E.jsx)(x.Z,{fontWeight:"500","translation-key":"common_question_bank",children:Re.ZP.format(h("common_question_bank"),"firstUppercase")}),(0,E.jsx)(nn.Z,{direction:{xs:"column",md:"row"},spacing:1,children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>S(!0),children:(0,E.jsx)(Ve.Z,{paddingX:3,"translation-key":"common_add_new",children:Re.ZP.format(h("common_add_new"),"firstUppercase")})})}),(0,E.jsx)(Is.Z,{placeHolder:"".concat(h("question_bank_category_find_by_category")," ..."),"translation-key":"question_bank_category_find_by_category",value:e,setValue:t,options:[],onHandleChange:s}),(0,E.jsx)(Qa._$,{sx:{"& .MuiDataGrid-cell":{padding:"16px"},"& .MuiDataGrid-row:hover":{cursor:"pointer"}},"translation-key-header":"question_bank_category_header_table",autoHeight:!0,disableColumnMenu:!0,getRowHeight:()=>"auto",rows:a.categories.questionBankCategories.map(((e,t)=>({stt:t+1,...e}))),rowCount:a.categories.totalItems,loading:a.isLoading,paginationModel:{page:m,pageSize:c},onPaginationModelChange:(e,t)=>{j((t=>({...t,page:e.page,pageSize:e.pageSize}))),u(e.page),d(e.pageSize)},columns:I,pageSizeOptions:[5,10,30,50],paginationMode:"server",disableColumnFilter:!0,onRowClick:A,hideFooterSelectedRowCount:!0,localeText:{MuiTablePagination:{labelDisplayedRows:e=>{let{from:t,to:n,count:a,page:s}=e;return h("common_table_from_to",{from:t,to:n,countText:a})},labelRowsPerPage:h("common_table_row_per_page")}}})]})})}),(0,E.jsxs)(an.Z,{"aria-labelledby":"customized-dialog-title",open:T,onClose:()=>S(!1),maxWidth:"sm",fullWidth:!0,children:[(0,E.jsx)(cn.Z,{sx:{m:0,p:2},id:"customized-dialog-title","translation-key":"question_bank_create_category",children:h("question_bank_create_category")}),(0,E.jsx)(lt.Z,{"aria-label":"close",sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},onClick:()=>S(!1),children:(0,E.jsx)(Ha.Z,{})}),(0,E.jsx)(sn.Z,{dividers:!0,children:(0,E.jsxs)(nn.Z,{spacing:1,children:[(0,E.jsx)(Ga.Z,{"translation-key":"question_bank_create_category_name",name:"Outlined",placeholder:h("question_bank_create_category_name"),onChange:e=>{k({...C,name:e.target.value})},variant:"outlined",minRows:1}),(0,E.jsx)(Ga.Z,{"transaltion-key":"question_bank_create_category_info",name:"Outlined",placeholder:h("question_bank_create_category_info"),onChange:e=>{k({...C,description:e.target.value})},variant:"outlined",minRows:4})]})}),(0,E.jsx)(ln.Z,{children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>S(!1),children:(0,E.jsxs)(Ve.Z,{"translation-key":"common_save",onClick:async()=>{try{await Ns._.createQuestionBankCategory({name:(null===C||void 0===C?void 0:C.name)||"",description:(null===C||void 0===C?void 0:C.description)||"",isOrgQuestionBank:"1"===r.tab,createdBy:o.userId}),i({search:e})}catch(t){console.log(t)}},children:[" ",h("common_save")]})})})]}),(0,E.jsxs)(an.Z,{"aria-labelledby":"customized-dialog-title-edit",open:w,onClose:()=>{N(!1)},maxWidth:"sm",fullWidth:!0,children:[(0,E.jsx)(cn.Z,{sx:{m:0,p:2},id:"customized-dialog-title-edit","translation-key":"question_bank_edit_category",children:h("question_bank_edit_category")}),(0,E.jsx)(lt.Z,{"aria-label":"close",sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},onClick:()=>N(!1),children:(0,E.jsx)(Ha.Z,{})}),(0,E.jsx)(sn.Z,{dividers:!0,children:(0,E.jsxs)(nn.Z,{spacing:1,children:[(0,E.jsx)(Ga.Z,{"translation-key":"question_bank_create_category_name",name:"Outlined",defaultValue:(null===b||void 0===b?void 0:b.name)||"",onChange:e=>{v({...Z,name:e.target.value})},variant:"outlined",minRows:1}),(0,E.jsx)(Ga.Z,{"transaltion-key":"question_bank_create_category_info",name:"Outlined",defaultValue:(null===b||void 0===b?void 0:b.description)||"",onChange:e=>{v({...Z,description:e.target.value})},variant:"outlined",minRows:4})]})}),(0,E.jsx)(ln.Z,{children:(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>N(!1),children:(0,E.jsxs)(Ve.Z,{"translation-key":"common_save",onClick:async()=>{try{await Ns._.updateQuestionBankCategory({id:(null===b||void 0===b?void 0:b.id)||"",name:(null===Z||void 0===Z?void 0:Z.name)||"",description:(null===Z||void 0===Z?void 0:Z.description)||""}),i({search:e})}catch(t){console.log(t)}},children:[" ",h("common_save")]})})})]})]})};var As=n(19545);const Es="styles_table-head__subcA",qs="styles_tabWrapper__kQvUr",Bs="styles_breadCump__J4U5a";var Ms=n(72619);const Rs="styles_formControl__46hEm";var Ws=function(e){return e.OWNER="OWNER",e.EDITOR="EDITOR",e}(Ws||{});const Ls=e=>{const{t:t}=(0,P.$G)(),[n,s]=(0,y.useState)(e.accessLevel===Ws.EDITOR?"20":"10");return(0,E.jsxs)(a.ZP,{container:!0,children:[(0,E.jsxs)(a.ZP,{container:!0,md:6,spacing:1,children:[(0,E.jsx)(a.ZP,{item:!0,children:(0,E.jsx)(L.Z,{sx:{width:50,height:50},variant:"circular",src:e.avatarUrl||"https://www.w3schools.com/howto/img_avatar.png"})}),(0,E.jsxs)(a.ZP,{item:!0,children:[(0,E.jsx)(Ve.Z,{children:e.name}),(0,E.jsx)(Ve.Z,{fontWeight:100,fontSize:"12px",children:e.email})]})]}),(0,E.jsx)(a.ZP,{container:!0,md:6,alignItems:"center",justifyContent:"flex-end",children:e.accessLevel!==Ws.EDITOR?(0,E.jsx)(Ve.Z,{fontWeight:100,"translation-key":"question_bank_access_right_owner",children:t("question_bank_access_right_owner")}):(0,E.jsx)(we.Z,{variant:"outlined",className:Rs,children:(0,E.jsxs)(Ie.Z,{labelId:"access-level-edit-label",id:"access-level-edit",value:n,onChange:e=>{s(e.target.value)},children:[(0,E.jsx)(Pe.Z,{value:10,"translation-key":"question_bank_access_right_editor",children:t("question_bank_access_right_editor")}),(0,E.jsx)(Pe.Z,{value:20,"translation-key":"question_bank_access_right_readonly",children:t("question_bank_access_right_readonly")})]})})})]})},Hs=(0,y.memo)(Ls);var Os=n(14647);const Gs={name:"Nguy\u1ec5n Qu\u1ed1c Tu",email:"abc@gmail.com",avatarUrl:"https://scontent.fsgn5-12.fna.fbcdn.net/v/t39.30808-6/427838885_3910358709250427_5778115707058543789_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=efb6e6&_nc_eui2=AeEaQBJmaESxSF-JhRcy_H_-USoIMrk_el9RKggyuT96X4lwFFwY0uqlIqR3h922Kqy7zVWpkIiL9NsvlGVFjHD-&_nc_ohc=lrDJFA7XNvEAX87CHJc&_nc_ht=scontent.fsgn5-12.fna&oh=00_AfAlICWdsi7mYR-2K4wTQd7naZ23M5PLyLv2RbzA2n6T4w&oe=65E1AA90",accessLevel:Ws.EDITOR},Us=e=>{let{setOpenAccessDialog:t,...n}=e;const{t:s}=(0,P.$G)(),[i,o]=(0,y.useState)(!1),[r,l]=(0,y.useState)([]),c=()=>{o(!1),l([])};return(0,E.jsxs)(an.Z,{...n,onClose:()=>t(!1),children:[(0,E.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",direction:"row",children:[(0,E.jsxs)(a.ZP,{container:!0,xs:9,children:[i&&(0,E.jsx)(a.ZP,{container:!0,xs:1,alignItems:"center",children:(0,E.jsx)(lt.Z,{"aria-label":"back",sx:{color:e=>e.palette.grey[500],marginLeft:1},onClick:c,children:(0,E.jsx)(Os.Z,{})})}),(0,E.jsx)(a.ZP,{children:(0,E.jsx)(cn.Z,{sx:{m:0,p:2},id:"customized-dialog-title","translation-key":["question_bank_access_right_list","question_bank_access_share"],children:s(i?"quesion_bank_access_share":"question_bank_access_right_list")})})]}),(0,E.jsx)(a.ZP,{container:!0,xs:3,alignItems:"center",justifyContent:"flex-end",children:(0,E.jsx)(lt.Z,{"aria-label":"close",sx:{color:e=>e.palette.grey[500],marginRight:1},onClick:()=>t(!1),children:(0,E.jsx)(Ha.Z,{})})})]}),(0,E.jsx)(sn.Z,{dividers:!0,children:(0,E.jsxs)(nn.Z,{spacing:2,children:[(0,E.jsx)(Ga.Z,{minRows:1,"translation-key":"common_add",placeholder:s("common_add"),onClick:()=>o(!0),onKeyDown:e=>{"Enter"===e.key&&!1===e.shiftKey&&(e.preventDefault(),l([...r,Gs]))}}),i?(0,E.jsxs)(E.Fragment,{children:[r.map((e=>(0,E.jsx)(Hs,{...e}))),(0,E.jsx)(Ga.Z,{placeholder:s("question_bank_access_right_message"),"translation-key":"question_bank_access_right_message",minRows:3})]}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(Ve.Z,{"translation-key":"question_bank_access_right_list_title",children:s("question_bank_access_right_list_title")}),(0,E.jsxs)(nn.Z,{spacing:1,children:[(0,E.jsx)(Hs,{email:"nguyenquoctuan385@gmail.com",avatarUrl:"https://scontent.fsgn5-12.fna.fbcdn.net/v/t39.30808-6/427838885_3910358709250427_5778115707058543789_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=efb6e6&_nc_eui2=AeEaQBJmaESxSF-JhRcy_H_-USoIMrk_el9RKggyuT96X4lwFFwY0uqlIqR3h922Kqy7zVWpkIiL9NsvlGVFjHD-&_nc_ohc=lrDJFA7XNvEAX87CHJc&_nc_ht=scontent.fsgn5-12.fna&oh=00_AfAlICWdsi7mYR-2K4wTQd7naZ23M5PLyLv2RbzA2n6T4w&oe=65E1AA90",name:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n",accessLevel:Ws.OWNER}),(0,E.jsx)(Hs,{email:"nguyenquoctuan385@gmail.com",avatarUrl:"https://scontent.fsgn5-12.fna.fbcdn.net/v/t39.30808-6/427838885_3910358709250427_5778115707058543789_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=efb6e6&_nc_eui2=AeEaQBJmaESxSF-JhRcy_H_-USoIMrk_el9RKggyuT96X4lwFFwY0uqlIqR3h922Kqy7zVWpkIiL9NsvlGVFjHD-&_nc_ohc=lrDJFA7XNvEAX87CHJc&_nc_ht=scontent.fsgn5-12.fna&oh=00_AfAlICWdsi7mYR-2K4wTQd7naZ23M5PLyLv2RbzA2n6T4w&oe=65E1AA90",name:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n",accessLevel:Ws.EDITOR}),(0,E.jsx)(Hs,{email:"nguyenquoctuan385@gmail.com",avatarUrl:"https://scontent.fsgn5-12.fna.fbcdn.net/v/t39.30808-6/427838885_3910358709250427_5778115707058543789_n.jpg?_nc_cat=103&ccb=1-7&_nc_sid=efb6e6&_nc_eui2=AeEaQBJmaESxSF-JhRcy_H_-USoIMrk_el9RKggyuT96X4lwFFwY0uqlIqR3h922Kqy7zVWpkIiL9NsvlGVFjHD-&_nc_ohc=lrDJFA7XNvEAX87CHJc&_nc_ht=scontent.fsgn5-12.fna&oh=00_AfAlICWdsi7mYR-2K4wTQd7naZ23M5PLyLv2RbzA2n6T4w&oe=65E1AA90",name:"Nguy\u1ec5n Qu\u1ed1c Tu\u1ea5n",accessLevel:Ws.EDITOR})]})]})]})}),(0,E.jsx)(ln.Z,{children:i?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:c,children:(0,E.jsxs)(Ve.Z,{"translation-key":"common_cancel",children:[" ",s("common_cancel")]})}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>t(!1),disabled:r.length<1,children:(0,E.jsxs)(Ve.Z,{"translation-key":"common_send",children:[" ",s("common_send")]})})]}):(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>t(!1),fullWidth:!0,children:(0,E.jsx)(Ve.Z,{"translation-key":"common_save",children:s("common_save")})})})]})};var Fs=n(65339),zs=n(39113),Vs=n(70441);function Qs(e){let{open:t,title:n,questionType:s,handleChangeQuestionType:i,handleClose:o,children:r,cancelText:l,confirmText:c,onHandleCancel:d,onHanldeConfirm:m,...u}=e;const{t:_}=(0,P.$G)(),[h,x]=y.useState(Object.values(hn.Z).map((e=>e.code)).some((e=>e===s)));return(0,E.jsx)(C.Z,{open:t,handleClose:o,title:n,cancelText:l,confirmText:c,onHandleCancel:d,onHanldeConfirm:m,confirmDisabled:!h,...u,children:(0,E.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,minWidth:"450px",children:[(0,E.jsxs)(a.ZP,{item:!0,xs:6,children:[(0,E.jsx)(S.Z,{paddingBottom:"10px","translation-key":"common_question",children:_("common_question")}),(0,E.jsx)(we.Z,{component:"fieldset",sx:{maxHeight:"200px",overflowY:"auto"},children:(0,E.jsx)(Vs.Z,{ariaLabel:"question-type",value:s,handleChange:e=>{x(!0),i(e)},items:[{value:"essay",label:_("common_question_type_essay")},{value:"multiple-choice",label:_("common_question_type_multi_choice")},{value:"short-answer",label:_("common_question_type_short")},{value:"true-false",label:_("common_question_type_yes_no")}],"translation-key":["common_question_type_essay","common_question_type_short","common_question_type_multi_choice","common_question_type_yes_no"]})})]}),(0,E.jsx)(a.ZP,{item:!0,xs:6,children:(0,E.jsxs)(Ve.Z,{"translation-key":["common_question_type_yes_no","common_question_type_multi_choice","common_question_type_short","common_question","common_question_type_essay"],children:["essay"===s&&"".concat(_("common_question_type_essay")," ").concat(_("common_question")),"multiple-choice"===s&&"".concat(_("common_question_type_multi_choice")," ").concat(_("common_question")),"short-answer"===s&&"".concat(_("common_question_type_short")," ").concat(_("common_question")),"true-false"===s&&"".concat(_("common_question_type_yes_no")," ").concat(_("common_question"))]})})]})})}var Ys=n(43714),Js=n(51344),$s=n(2749),Xs=n(80610);const Ks=()=>{var e,t,n,a,i,o;const r=(0,he.I0)(),c=(0,he.v9)((e=>e.questionBankCategory)),d=(0,he.v9)((e=>e.questionCategory)),m=(0,l.s0)(),{categoryId:u}=(0,l.UO)(),{t:h}=(0,P.$G)(),[g,j]=(0,y.useState)(""),[b,f]=(0,y.useState)(5),[Z,v]=(0,y.useState)(0),[C,k]=(0,y.useState)(!1),[T,S]=(0,y.useState)(hn.Z.essay.code),[w,N]=(0,y.useState)(!1),[I,D]=(0,y.useState)(!1),[A,q]=y.useState(!1),[B,M]=y.useState(!1),[W,L]=y.useState(!1),[H,O]=y.useState(),G=((e,t)=>t.map(((t,n)=>e[n]={...e[n],renderHeader:e=>(0,E.jsx)(Ve.Z,{fontWeight:700,children:t})})))([{field:"stt",sortable:!1,width:20,align:"center",headerClassName:Es,renderCell:e=>(0,E.jsx)(Ve.Z,{children:e.row.stt})},{field:"questionName",sortable:!1,flex:2,headerClassName:Es,renderCell:e=>(0,E.jsx)(Ve.Z,{children:e.row.name})},{field:"description",sortable:!1,flex:3,headerClassName:Es,renderCell:e=>{var t;return(0,E.jsx)(Ve.Z,{children:(0,E.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==(t=e.row.questionText)&&void 0!==t?t:""}})})}},{field:"qtype",sortable:!1,flex:2,headerClassName:Es,renderCell:e=>(0,E.jsx)(Ve.Z,{children:e.row.qtypeText})},{field:"created",sortable:!1,flex:2,renderCell:e=>(0,E.jsxs)("div",{children:[(0,E.jsxs)(Ve.Z,{children:[e.row.createdBy.firstName," ",e.row.createdBy.lastName]}),(0,E.jsx)("div",{children:p()(e.row.createdAt).format("DD/MM/YYYY")})]}),headerClassName:Es},{field:"updated",sortable:!1,flex:2,renderCell:e=>(0,E.jsxs)("div",{children:[(0,E.jsxs)(Ve.Z,{children:[e.row.updatedBy.firstName," ",e.row.updatedBy.lastName]}),(0,E.jsx)("div",{children:p()(e.row.updatedAt).format("DD/MM/YYYY")})]}),headerClassName:Es},{field:"operation",sortable:!1,flex:2,type:"actions",cellClassName:"actions",getActions:e=>[(0,E.jsx)(Et.u,{icon:(0,E.jsx)(As.Z,{}),label:"Preview",onClick:()=>{switch(console.log(e.row,"params.row"),e.row.qtype.toString().toUpperCase()){case"MULTIPLE_CHOICE":L(!W);break;case"ESSAY":N(!w);break;case"SHORT_ANSWER":O(e.row),q(!A);break;case"TRUE_FALSE":M(!B)}}}),(0,E.jsx)(Et.u,{icon:(0,E.jsx)(it.Z,{}),label:"Edit",sx:{color:"primary.main"},onClick:()=>{k(!1),m("update/".concat(T))}}),(0,E.jsx)(Et.u,{icon:(0,E.jsx)(qt.Z,{}),label:"Delete",className:"textPrimary",onClick:F.bind(null,e.row.id.toString()),sx:{color:Ts.Z[500]}})],headerClassName:Es}],h("question_bank_category_question_list_header_table",{returnObjects:!0})),U=async e=>{let{categoryId:t,isOrgQuestionBank:n="1"===c.tab,search:a=g,pageNo:s=Z,pageSize:i=b}=e;try{const e=await Fs.a.getQuestionsByCategoryId({categoryId:t,isOrgQuestionBank:n,search:a,pageNo:s,pageSize:i});r((0,zs.kh)(e))}catch(o){console.error("Failed to fetch questions by category id",o)}},F=async e=>{try{await Fs.a.deleteQuestionById(e)&&U({categoryId:u||"",search:g,pageNo:Z,pageSize:b})}catch(t){console.error("Failed to delete question",t)}},z=(e,t)=>{},V=(e,t)=>{v(e.page),f(e.pageSize),u&&U({categoryId:u,isOrgQuestionBank:"1"===c.tab,search:g,pageNo:Z,pageSize:b})},Q=()=>{m("ai/create")};return(0,y.useEffect)((()=>{u&&((async e=>{try{const t=await Ns._.getQuestionBankCategoryById(e);r((0,fs.yi)(t))}catch(t){console.log(t)}})(u),U({categoryId:u,isOrgQuestionBank:"1"===c.tab,search:g,pageNo:Z,pageSize:b}))}),[u,g,Z,b,c.tab]),(0,E.jsxs)("div",{children:[(0,E.jsx)(Qs,{open:C,handleClose:()=>k(!1),"transaltion-key":"question_bank_add_question_title",title:h("question_bank_add_question_title"),cancelText:"H\u1ee7y b\u1ecf",confirmText:"Th\xeam",onHanldeConfirm:()=>{var e;k(!1);const t="1"===c.tab;m("create/".concat(T),{state:{isQuestionBank:!0,isOrgQuestionBank:t,categoryName:null===(e=c.categoryDetails)||void 0===e?void 0:e.name}})},onHandleCancel:()=>k(!1),questionType:T,handleChangeQuestionType:S}),(0,E.jsx)(Xs.Z,{open:W,setOpen:L,"aria-labelledby":"customized-dialog-title1",maxWidth:"md",fullWidth:!0}),(0,E.jsx)(Ms.Z,{open:w,setOpen:N,"aria-labelledby":"customized-dialog-title2",maxWidth:"md",fullWidth:!0}),(0,E.jsx)(Js.Z,{open:A,question:H,setOpen:q,"aria-labelledby":"customized-dialog-title3",maxWidth:"md",fullWidth:!0}),(0,E.jsx)($s.Z,{open:B,setOpen:M,"aria-labelledby":"customized-dialog-title4",maxWidth:"md",fullWidth:!0}),(0,E.jsxs)(ks.Z,{value:"1",sx:{padding:0},children:[(0,E.jsx)(s.Z,{className:qs,children:(0,E.jsxs)(Ve.Z,{className:Bs,colorname:"--gray-50",fontWeight:"600",children:[(0,E.jsx)("span",{onClick:()=>m(J._.lecturer.question_bank.path),"translation-key":"common_question_bank",children:Re.ZP.format(h("common_question_bank"),"firstUppercase")})," ","> ",(0,E.jsx)("span",{onClick:()=>m("."),children:null===(e=c.categoryDetails)||void 0===e?void 0:e.name})]})}),(0,E.jsx)(Cs.Z,{children:(0,E.jsxs)(nn.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,E.jsx)(x.Z,{fontWeight:500,children:null===(t=c.categoryDetails)||void 0===t?void 0:t.name}),(0,E.jsxs)(K.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"question_bank_create_category_info",children:[h("question_bank_create_category_info"),":"," ",null===(n=c.categoryDetails)||void 0===n?void 0:n.description]}),(0,E.jsxs)(nn.Z,{direction:{xs:"column",md:"row"},spacing:1,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>k(!0),children:(0,E.jsxs)(Ve.Z,{paddingX:3,"translation-key":"common_add_question",children:[" ",h("common_add_question")]})}),(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:Q,children:(0,E.jsx)(Ve.Z,{paddingX:3,"translation-key":"question_bank_category_question_list_create_by_AI",children:h("question_bank_category_question_list_create_by_AI")})})]}),(0,E.jsx)(Is.Z,{"translation-key":"question_bank_category_question_list_enter_question_name",placeHolder:"".concat(h("question_bank_category_question_list_enter_question_name")," ..."),value:g,setValue:j,options:[],onHandleChange:async e=>{j(e)}}),(0,E.jsx)(Te.Z,{sx:{"& .MuiDataGrid-cell":{padding:"16px"}},dataList:d.questions.map(((e,t)=>({stt:t+1,qtypeText:e.qtype===Ys.S.SHORT_ANSWER?"c\xe2u h\u1ecfi ng\u1eafn":e.qtype===Ys.S.MULTIPLE_CHOICE?"c\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m":e.qtype===Ys.S.ESSAY?"c\xe2u h\u1ecfi t\u1ef1 lu\u1eadn":e.qtype===Ys.S.TRUE_FALSE?"c\xe2u h\u1ecfi \u0111\xfang/sai":e.qtype===Ys.S.CODE?"c\xe2u h\u1ecfi code":"",...e}))),tableHeader:G,onSelectData:z,page:Z,pageSize:b,totalElement:d.totalItems,onPaginationModelChange:V,showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})]})})]}),(0,E.jsxs)(ks.Z,{value:"2",sx:{padding:0},children:[(0,E.jsx)(s.Z,{className:qs,children:(0,E.jsxs)(Ve.Z,{className:Bs,colorname:"--gray-50",fontWeight:"600",children:[(0,E.jsx)("span",{onClick:()=>m(J._.lecturer.question_bank.path),"translation-key":"common_question_bank",children:Re.ZP.format(h("common_question_bank"),"firstUppercase")})," ","> ",(0,E.jsx)("span",{onClick:()=>m("."),children:null===(a=c.categoryDetails)||void 0===a?void 0:a.name})]})}),(0,E.jsx)(Cs.Z,{children:(0,E.jsxs)(nn.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,E.jsx)(x.Z,{fontWeight:500,children:null===(i=c.categoryDetails)||void 0===i?void 0:i.name}),(0,E.jsxs)(K.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"question_bank_create_category_info",children:[h("question_bank_create_category_info"),":"," ",null===(o=c.categoryDetails)||void 0===o?void 0:o.description]}),(0,E.jsxs)(nn.Z,{direction:{xs:"column",md:"row"},spacing:1,children:[(0,E.jsx)(_.Z,{btnType:_.s.Primary,children:(0,E.jsx)(Ve.Z,{paddingX:3,"translation-key":"common_data_export",children:h("common_data_export")})}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>k(!0),children:(0,E.jsx)(Ve.Z,{paddingX:3,"translation-key":"common_add_question",children:h("common_add_question")})}),(0,E.jsx)(_.Z,{btnType:_.s.Outlined,onClick:Q,children:(0,E.jsx)(Ve.Z,{paddingX:3,"translation-key":"question_bank_category_question_list_create_by_AI",children:h("question_bank_category_question_list_create_by_AI")})})]}),(0,E.jsxs)(nn.Z,{direction:"row",justifyContent:"space-between",children:[(0,E.jsx)(R.Z,{onSearchClick:()=>null,"translation-key":"question_bank_category_question_list_enter_question_name",placeHolder:"".concat(h("question_bank_category_question_list_enter_question_name")," ...")}),(0,E.jsx)(_.Z,{btnType:_.s.Primary,onClick:()=>D(!0),children:(0,E.jsx)(Ve.Z,{paddingX:3,"translation-key":"question_bank_access_right",children:h("question_bank_access_right")})})]}),(0,E.jsx)(Te.Z,{sx:{"& .MuiDataGrid-cell":{padding:"16px"}},dataList:d.questions.map(((e,t)=>({stt:t+1,...e}))),tableHeader:G,onSelectData:z,pageSize:b,page:Z,totalElement:d.totalItems,onPaginationModelChange:V,showVerticalCellBorder:!1})]})}),(0,E.jsx)(Us,{"aria-labelledby":"assess-list-dialog",open:I,setOpenAccessDialog:D,maxWidth:"sm",fullWidth:!0})]})]})},ei=e=>{const{t:t}=(0,P.$G)();return(0,E.jsx)(a.ZP,{className:i,children:(0,E.jsx)($n,{children:(0,E.jsx)(s.Z,{className:o,children:(0,E.jsx)(s.Z,{className:r,children:(0,E.jsxs)(l.Z5,{children:[(0,E.jsx)(l.AW,{path:"courses",element:(0,E.jsx)(pe,{})}),(0,E.jsx)(l.AW,{path:"courses/:courseId/*",element:(0,E.jsx)(Ln,{})}),(0,E.jsx)(l.AW,{path:"code-questions",element:(0,E.jsx)(ba,{})}),(0,E.jsx)(l.AW,{path:"code-questions/create",element:(0,E.jsx)(ps,{})}),(0,E.jsx)(l.AW,{path:"code-questions/edit/:questionId/*",element:(0,E.jsx)(rs,{})}),(0,E.jsx)(l.AW,{path:"calendar",element:(0,E.jsx)(M,{})}),(0,E.jsxs)(l.AW,{path:"question-bank-management",element:(0,E.jsx)(vs,{}),handle:{crumbName:Re.ZP.format(t("common_question_bank"),"firstUppercase"),"translation-key":"common_question_bank"},children:[(0,E.jsx)(l.AW,{index:!0,element:(0,E.jsx)(Ds,{})}),(0,E.jsx)(l.AW,{path:J._.lecturer.question_bank.questions_list_of_category.path,element:(0,E.jsx)(Ks,{})})]})]})})})})})}}}]);