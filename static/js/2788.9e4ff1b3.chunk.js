"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[2788],{38400:(e,t,n)=>{n.r(t),n.d(t,{default:()=>zn});var s=n(9019),a=n(79536),i=n(47313);const r="styles_root__rYXbf",o="styles_container__w2fbP",l="styles_body__UOB0Y";var c=n(51765),d=n(46923),m=n(17592),u=n(90200),_=n(90469),x=n(86659);const g="styles_drawer__Mq4rF",h="styles_itemIcon__gglaO";var p=n(87258),v=n(47477),y=n(65537),j=n(31825),Z=n(46417);const f=270,b=[{name:"Trang ch\u1ee7",icon:(0,Z.jsx)(c.Z,{className:h}),link:_._.student.course.management},{name:"L\u1ecbch",icon:(0,Z.jsx)(p.Qu,{className:h}),link:_._.student.calendar}],D=(0,m.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:n}=e;return{flexGrow:1,width:"calc(100% - ".concat(f,"px)"),overflow:"auto",padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(f,"px"),...n&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}}));function I(e){let{children:t}=e;const[n,s]=i.useState(!0),r=(0,y.I0)(),o=(0,i.useRef)(null),{height:l}=(0,v.Z)({ref:o});return(0,Z.jsxs)(a.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,Z.jsx)(u.Z,{toggleDrawer:()=>{s((e=>!e)),r((0,j.G)())},ref:o}),(0,Z.jsx)(d.ZP,{className:g,sx:{width:f,flexShrink:0,"& .MuiDrawer-paper":{width:f}},variant:"persistent",anchor:"left",open:n,children:(0,Z.jsx)(x.Z,{sideBarItem:b})}),(0,Z.jsx)(D,{open:n,sx:{marginTop:"".concat(l,"px"),height:"calc(100% - ".concat(l,"px)")},children:t})]})}var w=n(58467),C=n(5124);const k={cardContainer:"styles_cardContainer__2ajk5",topGroup:"styles_topGroup__8RAwc",detailGroup:"styles_detailGroup__eMAAn",cardDivider:"styles_cardDivider__OoVSO",moreButton:"styles_moreButton__Px59T",listWrapper:"styles_listWrapper__MFNfD",listItem:"styles_listItem__HNrwv"};var T=n(48119),S=n(19536),N=n(48310),A=n(90891),M=n(2135),P=n(67216),B=n(83213),E=n(32600),R=n(33223),L=n(49709),G=n(78041),W=n(75590),F=n(38037),U=n(68464);const Q=(0,m.ZP)((e=>{let{className:t,...n}=e;return(0,Z.jsx)(L.Z,{...n,classes:{popper:t}})}))((e=>{let{theme:t}=e;return{["& .".concat(G.Z.tooltip)]:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #dadde9"}}})),O=e=>{const{t:t}=(0,W.$G)();return(0,Z.jsxs)(s.ZP,{className:k.cardContainer,children:[(0,Z.jsx)(a.Z,{className:k.topGroup,children:(0,Z.jsx)(a.Z,{className:k.detailGroup,children:(0,Z.jsx)(F.Z,{children:e.courseCategory})})}),(0,Z.jsx)(S.Z,{className:k.cardDivider}),(0,Z.jsxs)(N.Z,{className:k.listWrapper,children:[(0,Z.jsx)(U.Z,{className:k.courseNameText,colorname:"--blue-3",children:(0,Z.jsx)(A.Z,{component:M.rU,to:_._.student.course.information.replace(":courseId",e.courseId),underline:"hover",color:"inherit",children:e.courseName})}),e.teacherList.slice(0,2).map((e=>(0,Z.jsxs)(P.ZP,{className:k.listItem,children:[(0,Z.jsx)(E.Z,{children:(0,Z.jsx)(T.Z,{alt:e.firstName,src:""})}),(0,Z.jsx)(B.Z,{primary:(0,Z.jsxs)(A.Z,{component:M.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))]}),e.teacherList.length>2?(0,Z.jsx)(Q,{placement:"right-end",title:(0,Z.jsx)(N.Z,{children:e.teacherList.map((e=>(0,Z.jsxs)(P.ZP,{className:k.tooltipTeacherList,children:[(0,Z.jsx)(E.Z,{children:(0,Z.jsx)(T.Z,{alt:e.firstName,src:""})}),(0,Z.jsx)(B.Z,{primary:(0,Z.jsxs)(A.Z,{component:M.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))}),slotProps:{popper:{modifiers:[{name:"offset",options:{offset:[0,-14]}}]}},children:(0,Z.jsx)(R.Z,{className:k.moreButton,"translation-key":"course_see_all_teacher",children:t("course_see_all_teacher")})}):null]})},z={pageTitle:"styles_pageTitle__ILFgQ",featureGroup:"styles_featureGroup__kKo7W",changeViewButtonGroup:"styles_changeViewButtonGroup__xVORm",filterContainer:"styles_filterContainer__ioJH4",coursesBody:"styles_coursesBody__AnqJ+"};var H=n(55719),V=n(43960),Y=n(30961),$=n(48571);const J={container:"styles_container__uG1Au",courseInfo:"styles_courseInfo__mt0th",teacherItemText:"styles_teacherItemText__wUsgF",teacherListGridContainer:"styles_teacherListGridContainer__YRKxT",teacherAvatarContainer:"styles_teacherAvatarContainer__eVodn",teacherAvatar:"styles_teacherAvatar__oS9kv",primaryTeacherText:"styles_primaryTeacherText__0chUn",secondaryTeacherText:"styles_secondaryTeacherText__Drrwe"},K=e=>(0,Z.jsx)(s.ZP,{className:J.container,children:(0,Z.jsx)(s.ZP,{container:!0,spacing:1,children:(0,Z.jsxs)(s.ZP,{item:!0,xs:12,container:!0,direction:"column",children:[(0,Z.jsx)(s.ZP,{item:!0,xs:!0,className:J.courseInfo,children:(0,Z.jsx)(a.Z,{className:J.courseInfoWrapper,children:(0,Z.jsx)(F.Z,{gutterBottom:!0,variant:"subtitle1",colorname:"--blue-3",children:(0,Z.jsxs)(A.Z,{component:M.rU,to:_._.student.course.information.replace(":courseId",e.courseId),underline:"hover",color:"inherit",children:[e.courseName," - ",e.courseCategory]})})})}),(0,Z.jsx)(s.ZP,{item:!0,xs:!0,className:J.teacherListGridContainer,children:e.teacherList.map((e=>(0,Z.jsxs)(P.ZP,{children:[(0,Z.jsx)(E.Z,{className:J.teacherAvatarContainer,children:(0,Z.jsx)(T.Z,{className:J.teacherAvatar,alt:e.firstName,src:""})}),(0,Z.jsx)(B.Z,{classes:{primary:J.primaryTeacherText,secondary:J.secondaryTeacherText},primary:(0,Z.jsxs)(A.Z,{component:M.rU,to:"#",underline:"hover",children:[e.lastName," ",e.firstName]}),secondary:"Gi\u1ea3ng vi\xean"})]},e.userId)))})]})})});var q=n(96743),X=n(31845),ee=n(85281),te=n(6968),ne=n(4094),se=n(1229),ae=function(e){return e[e.cardView=1]="cardView",e[e.listView=2]="listView",e}(ae||{});const ie=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[c,d]=(0,i.useState)(!1),[m,u]=(0,i.useState)([]),[_,x]=(0,i.useState)(ae.listView),{loggedUser:g}=(0,se.Z)(),h=(0,i.useCallback)((async()=>{d(!0);try{const e=await te._.getCourseTypes();r(e.courseTypes)}catch(e){console.error("Failed to fetch course types",e)}finally{d(!1)}}),[]),p=(0,i.useCallback)((async t=>{let{search:n=e,courseType:s=m,pageNo:a=0,pageSize:i=10}=t;if(null!==g&&void 0!==g&&g.userId){d(!0);try{const e=await ne.E.getAllCourseByUserId(g.userId,{search:n,courseType:s,pageNo:a,pageSize:i});l(e.courses)}catch(r){console.error("Failed to fetch courses",r)}finally{d(!1)}}}),[e,m,null===g||void 0===g?void 0:g.userId]);(0,i.useEffect)((()=>{h()}),[]),(0,i.useEffect)((()=>{null!==g&&void 0!==g&&g.userId&&p({search:e,courseType:m})}),[e,m,null===g||void 0===g?void 0:g.userId,p]);const v=(0,i.useCallback)(((e,t)=>{x(t)}),[]),y=(0,i.useCallback)((t=>{u(t),p({search:e,courseType:t})}),[p,e]),{t:j}=(0,W.$G)(),f=(0,i.useMemo)((()=>m.length?o.filter((e=>m.includes(e.courseType.name))):o),[o,m]);return(0,Z.jsxs)(a.Z,{id:z.coursesBody,children:[(0,Z.jsx)(X.Z,{className:z.pageTitle,"translation-key":"course_list_title",children:j("course_list_title")}),(0,Z.jsx)(C.Z,{onSearchClick:t}),c?(0,Z.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,Z.jsx)(ee.Z,{})}):(0,Z.jsxs)(a.Z,{className:z.featureGroup,children:[(0,Z.jsx)(a.Z,{className:z.filterContainer,children:(0,Z.jsx)(q.Z,{label:j("course_filter"),defaultChipList:n.map((e=>e.name)),filterList:m,onFilterListChangeHandler:y,"translation-key":"course_filter"})}),(0,Z.jsxs)(H.Z,{className:z.changeViewButtonGroup,value:_,exclusive:!0,onChange:v,children:[(0,Z.jsx)(V.Z,{value:ae.listView,"aria-label":"list",children:(0,Z.jsx)(Y.Z,{})}),(0,Z.jsx)(V.Z,{value:ae.cardView,"aria-label":"module",children:(0,Z.jsx)($.Z,{})})]})]}),(0,Z.jsx)(a.Z,{sx:{flexGrow:1,marginTop:_===ae.cardView?"0":"20px"},className:z.gridContainer,children:(0,Z.jsx)(s.ZP,{container:!0,spacing:_===ae.cardView?2:4,children:f.map((e=>(0,Z.jsx)(s.ZP,{item:!0,xs:12,sm:_===ae.cardView?6:12,md:_===ae.cardView?4:12,lg:_===ae.cardView?3:12,children:_===ae.cardView?(0,Z.jsx)(O,{courseId:e.id,courseAvatarUrl:"https://picsum.photos/200",courseCategory:e.courseType.name,courseName:e.name,teacherList:e.teachers}):(0,Z.jsx)(K,{courseId:e.id,courseAvatarUrl:"https://picsum.photos/200",courseCategory:e.courseType.name,courseName:e.name,teacherList:e.teachers})},e.id)))})})]})};var re=n(5211),oe=n(80240),le=n(18708),ce=n(99140),de=n(37735),me=n(10658),ue=n.n(me),_e=n(65033),xe=n(97707),ge=n(83929),he=n(74268),pe=n(15535),ve=n(89990),ye=n(16977),je=n(92556),Ze=n(99221);const fe="styles_formBody__xmvl2",be="styles_textEditor__XF+Mz";var De=n(38556),Ie=n(70816),we=n.n(Ie);const Ce=e=>{let{data:t,handleChangData:n,open:r,title:o,handleClose:l,children:c,cancelText:d,confirmText:m,onHandleCancel:u,onHanldeConfirm:_,...x}=e;const g=(0,i.useCallback)((()=>{n({isExpanded:!t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,eventDescription:t.eventDescription,start:t.start,end:t.end,allDay:t.allDay})}),[t,n]),{height:h}=(0,De.Z)(),{t:p}=(0,W.$G)();return(0,Z.jsx)(ve.Z,{open:r,handleClose:l,title:o,cancelText:d,confirmText:m,onHandleCancel:u,onHanldeConfirm:_,minWidth:"800px",maxHeight:"".concat(.6*h,"px"),...x,children:(0,Z.jsxs)(a.Z,{component:"form",className:fe,autoComplete:"off",children:[(0,Z.jsx)(ye.Z,{type:"text",title:p("calendar_event_name"),"translation-key":"calendar_event_name",value:t.eventTitle,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:e.target.value,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription})}}),(0,Z.jsxs)(s.ZP,{container:!0,spacing:1,columns:12,children:[(0,Z.jsx)(s.ZP,{item:!0,xs:3,children:(0,Z.jsx)(Ze.Z,{"translation-key":"calendar_event_date",children:p("calendar_event_date")})}),(0,Z.jsx)(s.ZP,{item:!0,xs:9,children:(0,Z.jsx)(pe.Z,{value:we()(t.start),onHandleValueChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:(null===e||void 0===e?void 0:e.toString())||"",end:t.end,allDay:t.allDay,eventDescription:t.eventDescription})}})})]}),(0,Z.jsxs)(s.ZP,{container:!0,spacing:1,columns:12,children:[(0,Z.jsx)(s.ZP,{item:!0,xs:3,children:(0,Z.jsx)(Ze.Z,{"translation-key":"calendar_event_type",children:p("calendar_event_type")})}),(0,Z.jsx)(s.ZP,{item:!0,xs:9,"translation-key":"calendar_event_type_user",children:p("calendar_event_type_user")})]}),(0,Z.jsx)(ce.Z,{"translation-key":["calendar_event_collapse","calendar_event_expand"],btnType:ce.s.Text,onClick:g,width:"fit-content",padding:"0px",children:t.isExpanded?"".concat(p("calendar_event_collapse"),"..."):"".concat(p("calendar_event_expand"),"...")}),(0,Z.jsxs)(_e.Z,{in:t.isExpanded,children:[(0,Z.jsxs)(s.ZP,{container:!0,spacing:1,columns:12,children:[(0,Z.jsx)(s.ZP,{item:!0,xs:3,children:(0,Z.jsx)(Ze.Z,{"translation-key":"detail_problem_description",children:p("detail_problem_description")})}),(0,Z.jsx)(s.ZP,{item:!0,xs:9,className:be,children:(0,Z.jsx)(je.Z,{value:t.eventDescription,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:e})}})})]}),(0,Z.jsxs)(s.ZP,{container:!0,spacing:1,columns:12,sx:{marginTop:"30px"},children:[(0,Z.jsx)(s.ZP,{item:!0,xs:3,sx:{marginTop:"10px"},children:(0,Z.jsx)(Ze.Z,{"translation-key":"calendar_event_time_range",children:p("calendar_event_time_range")})}),(0,Z.jsx)(s.ZP,{item:!0,xs:9,children:(0,Z.jsxs)(xe.Z,{"aria-label":"duration",name:"duration",value:t.durationRadioIndex,onChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:e.target.value,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:t.end,allDay:t.allDay,eventDescription:t.eventDescription})},children:[(0,Z.jsx)(ge.Z,{value:"0",control:(0,Z.jsx)(he.Z,{}),label:p("calendar_event_name_time_no_range"),"translation-key":"calendar_event_name_time_no_range"},0),(0,Z.jsx)(ge.Z,{value:"1",control:(0,Z.jsx)(he.Z,{}),label:p("calendar_event_name_time_till"),"translation-key":"calendar_event_name_time_till"},1),(0,Z.jsx)(pe.Z,{value:we()(t.end),onHandleValueChange:e=>{n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:t.durationInMinute,eventTitle:t.eventTitle,start:t.start,end:(null===e||void 0===e?void 0:e.toString())||"",allDay:t.allDay,eventDescription:t.eventDescription})},disabled:"1"!==t.durationRadioIndex}),(0,Z.jsx)(ge.Z,{value:"2",control:(0,Z.jsx)(he.Z,{}),label:p("calendar_event_name_time_minute"),"translation-key":"calendar_event_name_time_minute"},2),(0,Z.jsx)(ye.Z,{type:"number",value:t.durationInMinute,onChange:e=>{const s=ue()(t.start).add(Number(e.target.value),"minute").toString();n({isExpanded:t.isExpanded,durationRadioIndex:t.durationRadioIndex,durationInMinute:Number(e.target.value),eventTitle:t.eventTitle,start:t.start,end:s,allDay:t.allDay,eventDescription:t.eventDescription})},disabled:"2"!==t.durationRadioIndex,maxWith:"200px"})]})})]})]})]})})},ke="styles_calendarBody__h+Yva";var Te=n(19860),Se=n(15300);const Ne=()=>{const{t:e}=(0,W.$G)(),t=(0,Te.Z)(),n=(0,Se.Z)(t.breakpoints.down("sm")),[r,o]=(0,i.useState)({isExpanded:!1,durationRadioIndex:"0",durationInMinute:0,eventTitle:"",eventDescription:"",start:"",end:"",allDay:!1,isAddEventDialogOpen:!1,selectDateInfo:null,filterCourse:"0",currentEvents:[{id:(0,le.J)(),title:"S\u1ef1 ki\u1ec7n n\u1ed9p b\xe0i nh\u1eadp m\xf4n l\u1eadp tr\xecnh",start:"2024-02-28",end:"2024-03-02",allDay:!0,description:"N\u1ed9p b\xe0i t\u1eadp l\u1edbn"},{id:(0,le.J)(),title:"S\u1ef1 ki\u1ec7n thi cu\u1ed1i k\xec nh\u1eadp m\xf4n l\u1eadp tr\xecnh",start:"2024-02-20",end:"2024-02-22",allDay:!0,description:"Thi cu\u1ed1i k\xec"}]}),l=(0,i.useCallback)((e=>{o((t=>({...t,start:e.startStr,selectDateInfo:e,isAddEventDialogOpen:!0})))}),[]),c=(0,i.useCallback)((()=>{o((e=>({...e,isAddEventDialogOpen:!0,selectDateInfo:null,eventTitle:"",start:ue()().toString(),end:ue()().toString()})))}),[]),d=(0,i.useCallback)((()=>{o((e=>({...e,isAddEventDialogOpen:!1})))}),[]),m=(0,i.useCallback)((()=>{o((e=>{var t,n,s;return{...e,currentEvents:[...e.currentEvents,{id:(0,le.J)(),title:e.eventTitle,start:(null===(t=r.selectDateInfo)||void 0===t?void 0:t.startStr)||"",end:(null===(n=r.selectDateInfo)||void 0===n?void 0:n.endStr)||"",allDay:(null===(s=r.selectDateInfo)||void 0===s?void 0:s.allDay)||!1,description:e.eventDescription}]}})),d()}),[d,r.selectDateInfo]);return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Ce,{open:r.isAddEventDialogOpen,handleClose:()=>{d(),o((e=>({...e,isExpanded:!1})))},data:r,handleChangData:e=>{o((t=>({...t,isExpanded:e.isExpanded,durationRadioIndex:e.durationRadioIndex,durationInMinute:e.durationInMinute,eventTitle:e.eventTitle,start:e.start,end:e.end,allDay:e.allDay})))},title:e("calendar_add_event"),cancelText:e("common_cancel"),confirmText:e("common_add"),onHandleCancel:()=>{d(),o((e=>({...e,isExpanded:!1})))},"translation-key":["calendar_add_event","common_add","common_cancel"],onHanldeConfirm:()=>{m()}}),(0,Z.jsxs)(a.Z,{id:ke,children:[(0,Z.jsx)(X.Z,{"translation-key":"calendar_title",children:e("calendar_title")}),(0,Z.jsx)(S.Z,{}),(0,Z.jsx)(a.Z,{sx:{marginBottom:"10px"},children:(0,Z.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",direction:n?"column":"row",children:[(0,Z.jsx)(s.ZP,{item:!0,xs:12,sm:12,md:6,children:(0,Z.jsx)(de.Z,{labelId:"select-assignment-section-label",value:r.filterCourse,onHandleChange:e=>{o((t=>({...t,filterCourse:e})))},sx:{width:"100%"},items:[{value:"0",label:e("calendar_all_course")},{value:"1",label:"Nh\u1eadp m\xf4n l\u1eadp tr\xecnh"},{value:"2",label:"L\u1eadp tr\xecnh h\u01b0\u1edbng \u0111\u1ed1i t\u01b0\u1ee3ng"}],"translation-key":"calendar_all_course"})}),(0,Z.jsx)(s.ZP,{item:!0,xs:12,sm:12,md:6,container:!0,justifyContent:n?"flex-start":"flex-end",children:(0,Z.jsx)(ce.Z,{btnType:ce.s.Outlined,onClick:()=>{c()},startIcon:(0,Z.jsx)(re.Z,{}),"translation-key":"calendar_add_event",children:e("calendar_add_event")})})]})}),(0,Z.jsx)(a.Z,{children:(0,Z.jsx)(oe.Z,{events:r.currentEvents,handleDateSelect:l})})]})]})};var Ae=n(95861),Me=n(65280);const Pe="styles_tabWrapper__+a-qb",Be="styles_tabs__gJ-AS",Ee="styles_courseDetailBody__fOwQH",Re="styles_eventContainer__T+KKm",Le="styles_eventTitle__BePsu",Ge="styles_eventList__npe4e",We={gridContainer:"styles_gridContainer__G5n2c",courseImgCardContainer:"styles_courseImgCardContainer__5gn1s",courseImage:"styles_courseImage__W99bw",classNameOverlay:"styles_classNameOverlay__o2NLT",gridBodyContainer:"styles_gridBodyContainer__kqLOR",resourceContainer:"styles_resourceContainer__OPm+m",resourceAccordionContainer:"styles_resourceAccordionContainer__ETyaw",resourceSummaryContainer:"styles_resourceSummaryContainer__Iih5i",resourceSummaryText:"styles_resourceSummaryText__T8xBG",editTopicTitleImageContainer:"styles_editTopicTitleImageContainer__bA2UO",accordDetail:"styles_accordDetail__6E-mQ",eventContainer:"styles_eventContainer__7TjVr",eventTitle:"styles_eventTitle__J4MUp",eventList:"styles_eventList__LtgM7",topicWrapper:"styles_topicWrapper__7lftG",informationBody:"styles_informationBody__GYqp7",iconButton:"styles_iconButton__SVUjO",iconButtonActive:"styles_iconButtonActive__tePU6"};var Fe=n(73428),Ue=n(16957),Qe=n(47131),Oe=n(61113),ze=n(19425);const He={container:"styles_container__EpQSL",linkContainer:"styles_linkContainer__nOBd-",resourceName:"styles_resourceName__YKlBK",imageContainer:"styles_imageContainer__yyYif",imageContainerAssignment:"styles_imageContainerAssignment__GRGda"};var Ve=n(82842);const Ye=e=>{let t;switch(e.type){case ze.Q.assignment:t=Ve.Z.course.courseAssignment;break;case ze.Q.file:t=(e=>{var t;const n=(null===(t=e.split(".").pop())||void 0===t?void 0:t.split("?")[0])||"";return["jpg","jpeg","png","gif","bmp","tiff"].includes(n.toLowerCase())?Ve.Z.course.courseImage:"pdf"===n.toLowerCase()?Ve.Z.course.coursePDF:"docx"===n.toLowerCase()?Ve.Z.course.courseDOC:"xlsx"===n.toLowerCase()?Ve.Z.course.courseXLS:"ppt"===n.toLowerCase()?Ve.Z.course.coursePPT:Ve.Z.course.courseFile})(e.content);break;case ze.Q.url:t=Ve.Z.course.courseUrl;break;default:return null}return(0,Z.jsx)(a.Z,{className:He.container,children:(0,Z.jsx)(s.ZP,{container:!0,children:(0,Z.jsxs)(A.Z,{component:M.rU,to:(t=>{switch(t){case ze.Q.assignment:return _._.student.assignment.detail.replace(":assignmentId",e.assignmentId).replace(":courseId",e.courseId);case ze.Q.file:case ze.Q.url:return e.content;default:return"/"}})(e.type),underline:"hover",className:He.linkContainer,children:[(0,Z.jsx)(s.ZP,{item:!0,children:(0,Z.jsx)("img",{className:He.imageResourse,src:t,alt:"Resource"})}),(0,Z.jsx)(s.ZP,{item:!0,children:(0,Z.jsx)(Oe.Z,{color:"#0f6cbf",className:He.resourceName,children:e.name})})]})})})};var $e=n(15067),Je=n(52545),Ke=n(12741),qe=n(54406);const Xe=()=>{const{t:e}=(0,W.$G)(),t=(ze.Q.assignment,ze.Q.assignment,ze.Q.file,ze.Q.assignment,ze.Q.assignment,ze.Q.assignment,ze.Q.file,ze.Q.file,ze.Q.assignment,ze.Q.file,ze.Q.assignment,ze.Q.assignment,ze.u.submitted,ze.Q.assignment,ze.u.notSubmitted,ze.Q.assignment,ze.u.notSubmitted,ze.Q.assignment,ze.u.submitted,e=>{void 0===c[e]?d((t=>({...t,[e]:!1}))):d((t=>({...t,[e]:!Boolean(t[e])})))}),n=(0,y.I0)(),r=(0,y.v9)((e=>e.section)),{courseId:o}=(0,w.UO)(),l=Array(r.sections.length).fill(!1),[c,d]=(0,i.useState)(l);(0,i.useEffect)((()=>{(async()=>{n((0,Je.K4)(!0));try{if(o){const e=await $e.N.getSectionsByCourseId(o);n((0,Je.by)(e)),n((0,Je.K4)(!1))}else console.error("courseId is undefined"),n((0,Je.K4)(!1))}catch(e){console.error("Failed to fetch sections",e),n((0,Je.K4)(!1))}})()}),[]);const m=e=>{switch(e){case"Files":default:return ze.Q.file;case"Assignments":return ze.Q.assignment;case"URLs":return ze.Q.url;case"Quizzes":return ze.Q.exam}};return(0,Z.jsxs)(s.ZP,{container:!0,spacing:1,className:We.gridContainer,children:[(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(Fe.Z,{className:We.courseImgCardContainer,children:[(0,Z.jsx)(Ue.Z,{component:"img",className:We.courseImage,src:"https://picsum.photos/1800/300"}),(0,Z.jsx)(Oe.Z,{variant:"h1",className:We.classNameOverlay,children:"T\xean kh\xf3a h\u1ecdc d\xe0i"})]})}),r.isLoading?(0,Z.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,Z.jsx)(ee.Z,{})}):(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(a.Z,{margin:1,padding:0,children:(0,Z.jsx)(s.ZP,{container:!0,className:We.gridBodyContainer,children:(0,Z.jsx)(s.ZP,{item:!0,className:We.topicWrapper,xs:12,children:r.sections.map(((e,n)=>{const s=void 0===c[n]||Boolean(c[n]);return(0,Z.jsxs)(a.Z,{className:We.generalInfo,children:[(0,Z.jsxs)(a.Z,{display:"flex",alignItems:"center",margin:1,children:[s?(0,Z.jsx)(Qe.Z,{className:We.iconButtonActive,sx:{padding:"5px"},onClick:()=>t(n),children:(0,Z.jsx)(qe.Z,{style:{fontSize:20}})}):(0,Z.jsx)(Qe.Z,{className:We.iconButton,sx:{padding:"5px"},onClick:()=>t(n),children:(0,Z.jsx)(Ke.Z,{style:{fontSize:20}})}),(0,Z.jsx)(F.Z,{fontWeight:500,"translation-key":"common_general",children:e.name})]}),(0,Z.jsx)(_e.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:e.modules.map(((e,t)=>(0,Z.jsx)(Ye,{courseId:o||"",assignmentId:e.assignmentId,name:e.name,type:m(e.typeModule),content:e.content},t)))})]})}))})})})})]})},et={},tt={container:"styles_container__YC9pW",linkContainer:"styles_linkContainer__C0Vuf"},nt=e=>{let t;switch(e.type){case ze.Q.assignment:t=Ve.Z.course.courseAssignment;break;case ze.Q.file:t=Ve.Z.course.courseFile;break;default:return null}return(0,Z.jsx)(a.Z,{className:tt.container,children:(0,Z.jsx)(s.ZP,{container:!0,children:(0,Z.jsxs)(A.Z,{component:M.rU,to:"#",underline:"hover",className:tt.linkContainer,children:[(0,Z.jsx)(s.ZP,{item:!0,children:(0,Z.jsx)("img",{src:t,alt:"Resource"})}),(0,Z.jsx)(s.ZP,{item:!0,children:(0,Z.jsx)(Oe.Z,{className:tt.resourceName,children:e.name})})]})})})};var st=n(70501);const at="styles_container__4j7XU",it="styles_courseDetail__IpFgC",rt="styles_exportButton__Bsv8J",ot="styles_textBadge__tqPrT",lt="styles_badgeTypoText__vapXJ";var ct=n(41835);const dt=()=>{const{t:e}=(0,W.$G)();return(0,Z.jsx)(st.Z,{className:at,children:(0,Z.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsxs)(a.Z,{className:it,children:[(0,Z.jsxs)(a.Z,{children:[(0,Z.jsx)(Oe.Z,{variant:"h4",children:"T\xean kh\xf3a h\u1ecdc"}),(0,Z.jsx)(Oe.Z,{sx:{color:"var(--gray-50)"},children:"m\xf4 t\u1ea3 kh\xf3a h\u1ecdc"})]}),(0,Z.jsx)(R.Z,{startIcon:(0,Z.jsx)(ct.Z,{}),variant:"outlined",className:rt,"translation-key":"common_data_export",children:e("common_data_export")})]})}),(0,Z.jsxs)(s.ZP,{item:!0,xs:2,sx:{m:1},children:[(0,Z.jsx)(Oe.Z,{sx:{color:"var(--gray-50)"},"translation-key":"course_grade_average",children:e("course_grade_average")}),(0,Z.jsx)(a.Z,{component:"span",className:ot,sx:{backgroundColor:"var(--green-200)"},children:(0,Z.jsx)(Oe.Z,{variant:"h5",className:lt,children:"100"})})]}),(0,Z.jsxs)(s.ZP,{item:!0,xs:2,sx:{m:1},children:[(0,Z.jsx)(Oe.Z,{sx:{color:"var(--gray-50)"},"translation-key":"course_grade_submitted",children:e("course_grade_submitted")}),(0,Z.jsx)(a.Z,{component:"span",className:ot,sx:{backgroundColor:"var(--blue-200)"},children:(0,Z.jsx)(Oe.Z,{variant:"h5",className:lt,children:"7"})})]})]})})};var mt=n(11053);const ut=()=>{const{t:e}=(0,W.$G)(),t=[{id:1,type:ze.Q.assignment,item:"B\xe0i t\u1eadp 1",weight:0,grade:void 0,range:100,percentage:10},{id:2,type:ze.Q.assignment,item:"B\xe0i t\u1eadp 2",weight:0,grade:10,range:100},{id:3,type:ze.Q.assignment,item:"B\xe0i t\u1eadp 3",weight:0,grade:10,range:100},{id:4,type:ze.Q.assignment,item:"B\xe0i ki\u1ec3m tra 1",weight:0,grade:10,range:100},{id:5,type:ze.Q.assignment,item:"B\xe0i ki\u1ec3m tra 2",weight:0,grade:10,range:100},{id:6,type:ze.Q.assignment,item:"B\xe0i ki\u1ec3m tra 3",weight:0,grade:10,range:100}],n=[{field:"id",headerName:"STT",minWidth:1},{field:"item",headerName:e("course_grade_grid_topic"),width:200,flex:.2,disableColumnMenu:!0,renderCell:e=>(0,Z.jsx)(A.Z,{component:M.rU,to:"".concat(e.row.id),children:(0,Z.jsx)(nt,{name:e.value,type:e.row.type})})},{field:"type",headerName:e("course_grade_topic_type"),minWidth:1,flex:.2,renderCell:e=>(0,Z.jsx)(Oe.Z,{children:e.value===ze.Q.assignment?"B\xe0i t\u1eadp":e.value===ze.Q.file?"File":"URL"})},{field:"weight",headerName:e("course_grade_weight"),minWidth:50,disableColumnMenu:!0,flex:.2},{field:"grade",headerName:e("common_grade"),minWidth:50,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,Z.jsxs)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:[Number(e.value)?(0,Z.jsx)(Oe.Z,{fontSize:18,children:e.value}):(0,Z.jsx)(Oe.Z,{fontSize:18,children:"_"}),"/",e.row.range]})},{field:"range",headerName:e("course_grade_range"),minWidth:50,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,Z.jsx)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:Number(e.value)?e.value:"_"})},{field:"percentage",headerName:e("common_percentage"),minWidth:50,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,Z.jsx)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:Number(e.value)?"".concat(e.value,"%"):"_"})},{field:"feedback",headerName:e("course_grade_response"),minWidth:200,disableColumnMenu:!0,flex:.2,renderCell:e=>(0,Z.jsx)(a.Z,{display:"flex",flexDirection:"row",alignItems:"center",children:Number(e.value)?"".concat(e.value,"%"):"_"})}];return(0,Z.jsxs)(s.ZP,{container:!0,spacing:1,className:et.gridContainer,children:[(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(X.Z,{"translation-key":"course_grade_title",children:e("course_grade_title")})}),(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(dt,{})}),(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(mt.Z,{dataList:t,tableHeader:n,onSelectData:(e,t)=>{},visibleColumn:{id:!1,type:!0,item:!0,grade:!0,weight:!0},dataGridToolBar:{enableToolbar:!0},page:0,pageSize:5,totalElement:100,onPaginationModelChange:(e,t)=>{console.log(e)},showVerticalCellBorder:!0,onClickRow:e=>{console.log(e)}})})]})};var _t=n(1550),xt=n(15103),gt=n(88797),ht=n(51405);const pt="style_container__UTzF1",vt="style_searchWrapper__6B5pf",yt="style_colSearchContainer__zENll",jt=()=>{const[e,t]=(0,i.useState)("name"),{t:n}=(0,W.$G)();return(0,Z.jsxs)(st.Z,{className:pt,children:[(0,Z.jsxs)(a.Z,{className:vt,children:[(0,Z.jsx)(C.Z,{onSearchClick:e=>{console.log(e)}}),(0,Z.jsxs)(_t.Z,{className:yt,children:[(0,Z.jsx)(xt.Z,{id:"colSearch","translation-key":"common_find_by_col",children:n("common_find_by_col")}),(0,Z.jsxs)(gt.Z,{labelId:"colSearch",id:"colSearchSelect",value:e,onChange:(e,n)=>{t(e.target.value)},label:n("common_find_by_col"),"translation-key":"common_find_by_col",children:[(0,Z.jsx)(ht.Z,{value:"name","translation-key":"common_name",children:n("common_name")}),(0,Z.jsx)(ht.Z,{value:"emai",children:"Email"}),(0,Z.jsx)(ht.Z,{value:"role","translation-key":"common_role",children:n("common_role")})]})]})]}),(0,Z.jsx)(ce.Z,{btnType:ce.s.Primary,startIcon:(0,Z.jsx)(ct.Z,{sx:{color:"white"}}),sx:{marginLeft:"15px",marginBottom:"10px"},"translation-key":"common_data_export",children:n("common_data_export")})]})};var Zt=n(66123);const ft=()=>{const[e,t]=(0,i.useState)(""),n=(0,y.I0)(),r=(0,y.v9)((e=>e.courseUser)),[o,l]=(0,i.useState)(0),[c,d]=(0,i.useState)(10),{courseId:m}=(0,w.UO)(),u=async t=>{let{search:s=e,pageNo:a=o,pageSize:i=c}=t;n((0,Zt.K4)(!0));try{const e=await ne.E.getUserByCourseId(null!==m&&void 0!==m?m:"",{search:s,pageNo:a,pageSize:i});n((0,Zt.Z$)(e)),n((0,Zt.K4)(!1))}catch(r){console.error("Failed to fetch course user",r),n((0,Zt.K4)(!1))}};(0,i.useEffect)((()=>{u({search:e})}),[e]);const{t:_}=(0,W.$G)(),x=[{field:"id",headerName:"STT",minWidth:1},{field:"name",headerName:_("common_fullname"),width:200,flex:.8,renderCell:e=>(0,Z.jsx)(A.Z,{component:M.rU,to:"".concat(e.row.id),children:e.value})},{field:"email",headerName:"Email",width:200,flex:.8},{field:"roles",headerName:_("common_role"),width:50,flex:.4}];return(0,Z.jsxs)(s.ZP,{container:!0,spacing:1,children:[(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(X.Z,{"translation-key":"course_participant_title",children:_("course_participant_title")})}),(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(jt,{})}),r.isLoading?(0,Z.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:"10px"},children:(0,Z.jsx)(ee.Z,{})}):(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(mt.Z,{dataList:r.users.map(((e,t)=>({id:e.userId,name:e.firstName+" "+e.lastName,email:e.email,roles:e.role}))),tableHeader:x,onSelectData:(e,t)=>{},visibleColumn:{id:!1,name:!0,email:!0,role:!0,action:!0},dataGridToolBar:{enableToolbar:!0},getRowClassName:e=>0===e.row.id?"even-row":"odd-row",page:o,pageSize:c,totalElement:r.totalItems,onPaginationModelChange:(t,n)=>{l(t.page),d(t.pageSize),u({search:e,pageNo:t.page,pageSize:t.pageSize})},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})})]})},bt="styles_assignmentBody__oxqX3",Dt="styles_assignmentsWrapper__XeP8H",It="styles_topic__Z9I7S";var wt=n(33099);const Ct="styles_cardWrapper__qGRUW",kt="styles_timeWrapper__IPKnl",Tt="styles_deadline__Fb8IT",St="styles_content__0diku";var Nt=n(44090),At=n(43666);n(77001);let Mt=function(e){return e.assignment="assignment",e.exam="exam",e}({});const Pt=e=>{let{resourceTitle:t,resourceOpenDate:n,resourceEndedDate:r,courseId:o,examId:l,intro:c,type:d}=e;const{t:m}=(0,W.$G)(),[u,x]=(0,i.useState)(!1);d=d||Mt.assignment;(0,w.s0)();return(0,Z.jsx)(a.Z,{className:Ct,children:(0,Z.jsxs)(s.ZP,{container:!0,alignItems:"center",children:[(0,Z.jsx)(s.ZP,{item:!0,xs:12,className:kt,children:(0,Z.jsxs)(s.ZP,{container:!0,alignItems:"center",children:[(0,Z.jsx)(s.ZP,{item:!0,md:.6}),(0,Z.jsx)(s.ZP,{item:!0,md:11.4,children:(0,Z.jsxs)(a.Z,{className:Tt,children:[(0,Z.jsxs)(Oe.Z,{variant:"body2",color:"textSecondary",children:[m("course_assignment_open"),":"," ",ue()(n).format("dddd, DD MMMM YYYY, h:mm A")]}),(0,Z.jsx)(Oe.Z,{children:"..."}),(0,Z.jsxs)(Oe.Z,{variant:"body2",color:"textSecondary",children:[m("course_assignment_deadline"),":"," ",ue()(r).format("dddd, DD MMMM YYYY, h:mm A")]})]})})]})}),(0,Z.jsxs)(a.Z,{className:St,style:{display:"flex",alignItems:"center"},children:[(0,Z.jsx)(T.Z,{sx:{bgcolor:d===Mt.assignment?"#eb66a2":"#0077be"},children:d===Mt.assignment?(0,Z.jsx)(Nt.Z,{}):(0,Z.jsx)(At.Z,{})}),(0,Z.jsx)(A.Z,{component:M.rU,to:d===Mt.assignment?_._.student.assignment.detail.replace(":courseId",o||"").replace(":assignmentId",l||""):_._.student.exam.detail.replace(":courseId",o||"").replace(":examId",l||""),underline:"none",style:{marginLeft:"12px"},children:t})]})]})})};var Bt=n(83789),Et=n(74512),Rt=n(79720),Lt=n(16705),Gt=n(44597);const Wt=()=>{const e=(0,y.I0)(),t=(0,y.v9)((e=>e.exam)),n=(0,y.v9)((e=>e.assignment)),{courseId:r}=(0,w.UO)();(0,i.useEffect)((()=>{(async t=>{try{const n=await Et.O.getExamsByCourseId(t);e((0,Rt.u6)(n))}catch(n){console.log(n)}})(null!==r&&void 0!==r?r:""),(async t=>{try{const n=await Lt.Y.getAssignmentsByCourseId(t);e((0,Gt.Uv)(n))}catch(n){console.log(n)}})(null!==r&&void 0!==r?r:""),console.log("examState",t.exams)}),[]);const{t:o}=(0,W.$G)();(0,w.s0)();return(0,Z.jsxs)(a.Z,{className:bt,children:[(0,Z.jsx)(X.Z,{"translation-key":"course_detail_assignment_list",children:o("course_detail_assignment_list")}),(0,Z.jsx)(s.ZP,{container:!0,children:(0,Z.jsx)(s.ZP,{item:!0,xs:12,children:(0,Z.jsx)(C.Z,{onSearchClick:e=>{console.log(e)}})})}),(0,Z.jsxs)(a.Z,{className:Dt,children:[(0,Z.jsxs)(a.Z,{className:It,children:[(0,Z.jsx)(wt.Z,{"translation-key":"course_detail_assignment",children:o("course_detail_assignment")}),n.assignments.map((e=>(0,Z.jsx)(Pt,{courseId:r,examId:e.id,resourceTitle:e.title,resourceOpenDate:e.timeOpen,resourceEndedDate:e.timeClose,intro:e.intro,type:Bt._.assignment})))]}),(0,Z.jsxs)(a.Z,{className:It,children:[(0,Z.jsx)(wt.Z,{"translation-key":"course_detail_exam",children:o("course_detail_exam")}),t.exams.exams.map((e=>(0,Z.jsx)(Pt,{courseId:r,examId:e.id,resourceTitle:e.name,resourceOpenDate:e.timeOpen,resourceEndedDate:e.timeClose,intro:e.intro,type:Bt._.exam})))]})]})]})};var Ft=n(89790),Ut=n(80007),Qt=n(63408);const Ot={assignmentBody:"styles_assignmentBody__uG9uk",assignmentsWrapper:"styles_assignmentsWrapper__vxBIy",topic:"styles_topic__GUyXY",assignmentTitle:"styles_assignmentTitle__Ub-KQ",assignmentIcon:"styles_assignmentIcon__UbipB",saveBtn:"styles_saveBtn__UZpaE",cancelBtn:"styles_cancelBtn__Upp2e"};var zt=n(45148),Ht=n(83703);const Vt="styles_successColor__2oV75",Yt="styles_dangerBackground__uMDvi",$t="styles_errorColor__9nVLl";function Jt(e){let{rows:t}=e;return(0,Z.jsx)(zt.Z,{variant:"outlined",children:(0,Z.jsx)(Ht.Z,{variant:"soft",borderAxis:"bothBetween",hoverRow:!0,children:(0,Z.jsx)("tbody",{children:t.map((e=>(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{scope:"row",style:{width:"30%"},children:e.header}),(0,Z.jsx)("td",{className:1===e.status?Vt:0===e.status?$t:2===e.status?Yt:"",children:e.data})]},e.header)))})})})}var Kt=n(33060),qt=n(32952),Xt=n(33256),en=n(75948);const tn=()=>{var e,t,n,r,o,l,c,d,m,u,x,g,h,p,v,j,f,b,D,I,C,k,T,N,A,M,P,B,E,R,L,G;const{t:F}=(0,W.$G)(),U=(0,w.s0)(),{assignmentId:Q}=(0,w.UO)(),{courseId:O}=(0,w.UO)(),z=(0,y.v9)((e=>e.assignment)),H=(0,y.v9)((e=>e.submissionAssignment)),V=(0,y.I0)(),{loggedUser:Y}=(0,se.Z)();function $(e,t){const n=e.getTime()-t.getTime(),s=864e5,a=36e5,i=Math.floor(n/s),r=Math.floor(n%s/a),o=Math.floor(n%a/6e4),l=Math.floor(n%6e4/1e3);return{days:Math.abs(i),hours:Math.abs(r),minutes:Math.abs(o),seconds:Math.abs(l)}}console.log("assignmentState",H.submissionAssignmentDetails),(0,i.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await Lt.Y.getAssignmentById(e);V((0,Gt.QI)(t))}catch(t){console.log(t)}})(null!==Q&&void 0!==Q?Q:"")})(),(async(e,t)=>{try{const n=await Xt.J.getSubmissionAssignmentById(e,t);V((0,en.DR)(n))}catch(n){console.log(n)}})(null===Y||void 0===Y?void 0:Y.userId,null!==Q&&void 0!==Q?Q:"")}),[]);const J=new Date(null!==(e=null===(t=z.assignmentDetails)||void 0===t?void 0:t.timeClose)&&void 0!==e?e:new Date),K=$(J,new Date),q=$(J,new Date(null!==(n=null===(r=H.submissionAssignmentDetails)||void 0===r?void 0:r.submitTime)&&void 0!==n?n:new Date)),ee=e=>e.days>0?e.days+" "+F("days")+" "+e.hours+" "+F("hours"):e.hours>0?e.hours+" "+F("hours")+" "+e.minutes+" "+F("minutes"):e.minutes+" "+F("minutes")+" "+e.seconds+" "+F("seconds"),te=()=>{var e,t,n,s,a;let i=new Date(null!==(e=null===(t=z.assignmentDetails)||void 0===t?void 0:t.timeClose)&&void 0!==e?e:new Date);return null!==(n=H.submissionAssignmentDetails)&&void 0!==n&&n.submitTime?new Date(null!==(s=null===(a=H.submissionAssignmentDetails)||void 0===a?void 0:a.submitTime)&&void 0!==s?s:new Date)<i?1:2:new Date>i?0:3};let ne=[{header:F("course_student_assignment_submission_status"),data:null!==(o=H.submissionAssignmentDetails)&&void 0!==o&&o.submitTime?F("course_student_assignment_submission_status_submitted"):F("course_student_assignment_submission_status_not_submitted"),status:null!==(l=H.submissionAssignmentDetails)&&void 0!==l&&l.submitTime?1:3},{header:F("course_student_assignment_grading_status"),data:null!==(c=H.submissionAssignmentDetails)&&void 0!==c&&c.isGraded?F("course_student_assignment_submission_status_graded"):F("course_student_assignment_submission_status_not_grading"),status:null!==(d=H.submissionAssignmentDetails)&&void 0!==d&&d.isGraded?1:3},{header:F("course_student_assignment_time_remaining"),data:1===te()?F("assignment_submitted")+ee(q)+F("early"):2===te()?F("assignment_submitted_late")+ee(q)+F("late"):new Date(null!==(m=null===(u=z.assignmentDetails)||void 0===u?void 0:u.timeClose)&&void 0!==m?m:new Date)<new Date?F("assignment_overdue")+ee(K):ee(K),status:te()},{header:F("course_student_assignment_last_modified"),data:null!==(x=H.submissionAssignmentDetails)&&void 0!==x&&x.timemodefied?ue()(null===(g=H.submissionAssignmentDetails)||void 0===g?void 0:g.timemodefied).format("DD/MM/YYYY hh:mm:ss A"):"-"}];var ae;null!==(h=H.submissionAssignmentDetails)&&void 0!==h&&h.submissionAssignmentFiles&&ne.push({header:F("course_student_assignment_file_submission"),data:(0,Z.jsx)(qt.Z,{files:null!==(ae=H.submissionAssignmentDetails.submissionAssignmentFiles.map((e=>{let t=new File([""],e.fileName,{lastModified:new Date(e.timemodified).getTime()});return{id:e.id,name:e.fileName,downloadUrl:e.fileUrl,size:e.fileSize,type:e.mimetype,file:t}})))&&void 0!==ae?ae:[],treeView:!1})});null!==(p=H.submissionAssignmentDetails)&&void 0!==p&&p.submissionAssignmentOnlineText&&ne.push({header:F("course_student_assignment_online_text_submission"),data:(0,Z.jsx)("div",{dangerouslySetInnerHTML:{__html:H.submissionAssignmentDetails.submissionAssignmentOnlineText.content||""}})});let ie=[{header:F("course_student_assignment_grade"),data:(null===(v=H.submissionAssignmentDetails)||void 0===v?void 0:v.isGraded)&&(null===(j=H.submissionAssignmentDetails)||void 0===j?void 0:j.grade.toFixed(2))||"-"},{header:F("course_student_assignment_feedback"),data:(0,Z.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===(f=H.submissionAssignmentDetails)||void 0===f?void 0:f.content)||""}})}];return console.log(null===(b=H.submissionAssignmentDetails)||void 0===b?void 0:b.submitTime),(0,Z.jsxs)(a.Z,{className:Ot.assignmentBody,children:[(0,Z.jsx)(ce.Z,{btnType:ce.s.Primary,onClick:()=>{U(_._.student.course.assignment.replace(":courseId",null!==O&&void 0!==O?O:""))},startIcon:(0,Z.jsx)(Ft.Z,{sx:{color:"white"}}),width:"fit-content",children:(0,Z.jsx)(Ut.Z,{"translation-key":"common_backk",children:F("common_back")})}),(0,Z.jsxs)(a.Z,{className:Ot.assignmentTitle,children:[(0,Z.jsx)("img",{className:Ot.assignmentIcon,src:Ve.Z.course.courseAssignment,alt:"assignment"}),(0,Z.jsx)(X.Z,{children:null===(D=z.assignmentDetails)||void 0===D?void 0:D.title})]}),(0,Z.jsxs)(Fe.Z,{className:Ot.pageActivityHeader,sx:{padding:"10px",backgroundColor:"#F8F9FA"},children:[(0,Z.jsxs)(s.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,Z.jsx)(s.ZP,{item:!0,children:(0,Z.jsxs)(Qt.Z,{fontWeight:"600","translation-key":"course_assignment_detail_open_time",children:[F("course_assignment_detail_open_time"),":"]})}),(0,Z.jsx)(s.ZP,{item:!0,children:(0,Z.jsx)(Ut.Z,{children:null===(I=ue()(null===(C=z.assignmentDetails)||void 0===C?void 0:C.timeOpen))||void 0===I?void 0:I.format("DD/MM/YYYY hh:mm:ss A")})})]}),(0,Z.jsxs)(s.ZP,{container:!0,direction:"row",alignItems:"center",gap:1,children:[(0,Z.jsx)(s.ZP,{item:!0,children:(0,Z.jsxs)(Qt.Z,{fontWeight:"600","translation-key":"course_assignment_detail_close_time",children:[F("course_assignment_detail_close_time"),":"]})}),(0,Z.jsx)(s.ZP,{item:!0,children:(0,Z.jsx)(Ut.Z,{children:null===(k=ue()(null===(T=z.assignmentDetails)||void 0===T?void 0:T.timeClose))||void 0===k?void 0:k.format("DD/MM/YYYY hh:mm:ss A")})})]}),(0,Z.jsx)(S.Z,{style:{marginTop:"10px",marginBottom:"10px"}}),(0,Z.jsxs)(a.Z,{className:Ot.assignmentDescription,children:[(0,Z.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===(N=z.assignmentDetails)||void 0===N?void 0:N.intro)||""}}),(0,Z.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:(null===(A=z.assignmentDetails)||void 0===A?void 0:A.activity)||""}}),(0,Z.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:(null===(M=z.assignmentDetails)||void 0===M?void 0:M.activity)||""}}),(0,Z.jsx)(qt.Z,{files:null===(P=z.assignmentDetails)||void 0===P||null===(B=P.introAttachments)||void 0===B?void 0:B.map((e=>{let t=new File([""],e.fileName,{lastModified:e.timemodified.getTime()});return{id:e.id,name:e.fileName,downloadUrl:e.fileUrl,size:e.fileSize,type:e.mimetype,file:t}}))})]})]}),(null===(E=H.submissionAssignmentDetails)||void 0===E?void 0:E.submitTime)&&(0,Z.jsxs)(a.Z,{children:[(0,Z.jsx)(ce.Z,{className:Ot.cancelBtn,onClick:()=>{U(_._.student.assignment.edit_submit.replace(":assignmentId",null!==Q&&void 0!==Q?Q:"").replace(":courseId",null!==O&&void 0!==O?O:""))},width:"fit-content",style:{marginRight:"10px"},children:(0,Z.jsx)(Ut.Z,{fontSize:"13.5px",fontWeight:520,"translation-key":"course_assignment_detail_edit_submit",children:F("course_assignment_detail_edit_submit")})}),(0,Z.jsx)(ce.Z,{className:Ot.cancelBtn,onClick:()=>{},width:"fit-content",children:(0,Z.jsx)(Ut.Z,{fontSize:"13.5px",fontWeight:520,"translation-key":"course_assignment_detail_remove_submit",children:F("course_assignment_detail_remove_submit")})})]}),(0,Z.jsx)(Kt.Z,{"translation-key":["course_student_assignment_submission_status"],children:F("course_student_assignment_submission_status")}),(0,Z.jsx)(Jt,{rows:ne,"translation-key":["course_student_assignment_submission_status","course_student_assignment_grading_status","course_student_assignment_time_remaining","course_student_assignment_last_modified","course_student_assignment_file_submission","assignment_submitted","assignment_overdue","assignment_submitted_late","late","early"]}),(null===(R=H.submissionAssignmentDetails)||void 0===R?void 0:R.isGraded)&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Kt.Z,{"translation-key":["course_student_assignment_grade"],children:F("course_student_assignment_grade")}),(0,Z.jsx)(Jt,{rows:ie,"translation-key":["course_student_assignment_grade","course_student_assignment_feedback"]})]}),(!(null!==H&&void 0!==H&&null!==(L=H.submissionAssignmentDetails)&&void 0!==L&&L.submitTime)||(null===(G=z.assignmentDetails)||void 0===G?void 0:G.moodleId))&&(0,Z.jsx)(ce.Z,{className:Ot.saveBtn,btnType:ce.s.Primary,onClick:()=>{U(_._.student.assignment.submit.replace(":assignmentId",null!==Q&&void 0!==Q?Q:"").replace(":courseId",null!==O&&void 0!==O?O:""))},width:"fit-content",children:(0,Z.jsx)(Ut.Z,{"translation-key":"course_assignment_detail_submit",children:F("course_assignment_detail_submit")})})]})};var nn=n(42832),sn=n(71538),an=n(63366),rn=n(87462),on=n(8007),ln=n(31179),cn=n(23521),dn=n(8990),mn=n(89674),un=n(39028),_n=n(48114),xn=n(8362),gn=n(60985),hn=n(19422);function pn(e){return(0,hn.d6)("MuiLink",e)}const vn=(0,hn.sI)("MuiLink",["root","disabled","focusVisible","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","focusVisible","variantPlain","variantOutlined","variantSoft","variantSolid","underlineNone","underlineHover","underlineAlways","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs","startDecorator","endDecorator"]);var yn=n(59500);const jn=["color","textColor","variant"],Zn=["children","disabled","onBlur","onFocus","level","overlay","underline","endDecorator","startDecorator","component","slots","slotProps"],fn=(0,_n.Z)("span",{name:"JoyLink",slot:"StartDecorator",overridesResolver:(e,t)=>t.startDecorator})((e=>{let{ownerState:t}=e;var n;return(0,rn.Z)({display:"inline-flex",marginInlineEnd:"clamp(4px, var(--Link-gap, 0.375em), 0.75rem)"},"string"!==typeof t.startDecorator&&("flex-start"===t.alignItems||"flex-start"===(null==(n=t.sx)?void 0:n.alignItems))&&{marginTop:"2px"})})),bn=(0,_n.Z)("span",{name:"JoyLink",slot:"endDecorator",overridesResolver:(e,t)=>t.endDecorator})((e=>{let{ownerState:t}=e;var n;return(0,rn.Z)({display:"inline-flex",marginInlineStart:"clamp(4px, var(--Link-gap, 0.25em), 0.5rem)"},"string"!==typeof t.startDecorator&&("flex-start"===t.alignItems||"flex-start"===(null==(n=t.sx)?void 0:n.alignItems))&&{marginTop:"2px"})})),Dn=(0,_n.Z)("a",{name:"JoyLink",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t,ownerState:n}=e;var s,a,i,r,o,l,c;return[(0,rn.Z)({"--Icon-fontSize":"1.25em","--Icon-color":"currentColor","--CircularProgress-size":"1.25em","--CircularProgress-thickness":"3px"},n.level&&"inherit"!==n.level&&t.typography[n.level],"inherit"===n.level&&{font:"inherit"},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{"@media (hover: hover)":{textDecorationLine:"underline"}}},"always"===n.underline&&{textDecoration:"underline"},n.startDecorator&&{verticalAlign:"bottom"},{textDecorationThickness:"max(0.08em, 1px)",textUnderlineOffset:"0.15em",display:"inline-flex",alignItems:"center",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:t.vars.radius.xs,padding:0,cursor:"pointer",textDecorationColor:"var(--variant-outlinedBorder, rgba(".concat(null==(s=t.vars.palette[n.color])?void 0:s.mainChannel," / var(--Link-underlineOpacity, 0.72)))")},n.variant?(0,rn.Z)({paddingBlock:"min(0.1em, 4px)",paddingInline:"0.25em"},!n.nesting&&{marginInline:"-0.25em"}):{color:"var(--variant-plainColor, rgba(".concat(null==(a=t.vars.palette[n.color])?void 0:a.mainChannel," / 1))"),["&.".concat(vn.disabled)]:{pointerEvents:"none",color:"var(--variant-plainDisabledColor, rgba(".concat(null==(i=t.vars.palette[n.color])?void 0:i.mainChannel," / 0.6))")}},{userSelect:"button"===n.component?"none":void 0,MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},n.overlay?{position:"initial","&::after":{content:'""',display:"block",position:"absolute",top:0,left:0,bottom:0,right:0,borderRadius:"var(--unstable_actionRadius, inherit)",margin:"var(--unstable_actionMargin)"},["".concat(t.focus.selector)]:{"&::after":t.focus.default}}:{position:"relative",[t.focus.selector]:t.focus.default}),n.variant&&(0,rn.Z)({},null==(r=t.variants[n.variant])?void 0:r[n.color],{"&:hover":{"@media (hover: hover)":null==(o=t.variants["".concat(n.variant,"Hover")])?void 0:o[n.color]},"&:active":null==(l=t.variants["".concat(n.variant,"Active")])?void 0:l[n.color],["&.".concat(vn.disabled)]:null==(c=t.variants["".concat(n.variant,"Disabled")])?void 0:c[n.color]})]})),In=i.forwardRef((function(e,t){const n=(0,xn.Z)({props:e,name:"JoyLink"}),{color:s="primary",textColor:a,variant:r}=n,o=(0,an.Z)(n,jn),l=i.useContext(yn.FR),c=i.useContext(yn.eu),d=(0,un.Z)((0,rn.Z)({},o,{color:a})),{children:m,disabled:u=!1,onBlur:_,onFocus:x,level:g="body-md",overlay:h=!1,underline:p="hover",endDecorator:v,startDecorator:y,component:j,slots:f={},slotProps:b={}}=d,D=(0,an.Z)(d,Zn),I=l||c?e.level||"inherit":g,{isFocusVisibleRef:w,onBlur:C,onFocus:k,ref:T}=(0,cn.Z)(),[S,N]=i.useState(!1),A=(0,dn.Z)(t,T),M=(0,rn.Z)({},d,{color:s,disabled:u,focusVisible:S,underline:p,variant:r,level:I,overlay:h,nesting:l}),P=(e=>{const{level:t,color:n,variant:s,underline:a,focusVisible:i,disabled:r}=e,o={root:["root",n&&"color".concat((0,ln.Z)(n)),r&&"disabled",i&&"focusVisible",t,a&&"underline".concat((0,ln.Z)(a)),s&&"variant".concat((0,ln.Z)(s))],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return(0,on.Z)(o,pn,{})})(M),B=(0,rn.Z)({},D,{component:j,slots:f,slotProps:b}),[E,R]=(0,gn.Z)("root",{additionalProps:{onBlur:e=>{C(e),!1===w.current&&N(!1),_&&_(e)},onFocus:e=>{k(e),!0===w.current&&N(!0),x&&x(e)}},ref:A,className:P.root,elementType:Dn,externalForwardedProps:B,ownerState:M}),[L,G]=(0,gn.Z)("startDecorator",{className:P.startDecorator,elementType:fn,externalForwardedProps:B,ownerState:M}),[W,F]=(0,gn.Z)("endDecorator",{className:P.endDecorator,elementType:bn,externalForwardedProps:B,ownerState:M});return(0,Z.jsx)(yn.FR.Provider,{value:!0,children:(0,Z.jsxs)(E,(0,rn.Z)({},R,{children:[y&&(0,Z.jsx)(L,(0,rn.Z)({},G,{children:y})),(0,mn.Z)(m,["Skeleton"])?i.cloneElement(m,{variant:m.props.variant||"inline"}):m,v&&(0,Z.jsx)(W,(0,rn.Z)({},F,{children:v}))]}))})}));function wn(e){let{rows:t,headers:n,examId:s,courseId:a,examMark:i,examGrade:r}=e;const{t:o}=(0,W.$G)(),l=[o("common_january"),o("common_february"),o("common_march"),o("common_april"),o("common_may"),o("common_june"),o("common_july"),o("common_august"),o("common_september"),o("common_october"),o("common_november"),o("common_december")],c=[o("common_sunday"),o("common_monday"),o("common_tuesday"),o("common_wednesday"),o("common_thursday"),o("common_friday"),o("common_saturday")];return(0,Z.jsxs)(Ht.Z,{variant:"soft",size:"lg",hoverRow:!0,sx:{backgroundColor:"white","& tbody tr:hover":{backgroundColor:"#f3f3f3"}},children:[(0,Z.jsx)("thead",{children:(0,Z.jsx)("tr",{children:n.map(((e,t)=>(0,Z.jsx)("th",{style:{backgroundColor:"white",borderBottom:"2px solid rgb(128,128,128)"},children:(0,Z.jsx)(Ut.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e})},t)))})}),(0,Z.jsxs)("tbody",{children:[0!==t.length&&t.map(((e,t)=>{const n=new Date(e.submitTime),d="SUBMITTED"===e.status?o("course_lecturer_assignment_submitted"):o("exam_detail_graded");return(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:t+1}),(0,Z.jsxs)("td",{children:[(0,Z.jsx)(Ut.Z,{"translation-key":["exam_detail_graded","course_lecturer_assignment_submitted"],fontSize:".875rem",color:"#212121",fontWeight:"600",children:d}),(0,Z.jsx)(Ut.Z,{fontSize:".75rem",color:"#212121",sx:{opacity:.7},"translation-key":"course_management_exam_submmit_on",children:"".concat(o("course_management_exam_submmit_on")," ").concat(o("common_show_time",{weekDay:c[n.getDay()],day:n.getDate(),month:l[n.getMonth()],year:n.getFullYear(),time:"".concat(n.getHours()<10?"0".concat(n.getHours()):n.getHours(),":").concat(n.getMinutes()<10?"0".concat(n.getMinutes()):n.getMinutes())}))})]}),(0,Z.jsx)("td",{children:e.markTotal}),(0,Z.jsx)("td",{children:e.markTotal/i*r}),(0,Z.jsx)("td",{children:(0,Z.jsx)(M.rU,{to:"".concat(_._.student.exam.review.replace(":courseId",a).replace(":examId",s).replace(":submissionId",e.examSubmissionId)),children:(0,Z.jsx)(In,{"translation-key":"exam_detail_summary_open_review",href:"",underline:"hover",variant:"plain",level:"body-sm",children:o("exam_detail_summary_open_review")})})})]},t)})),0===t.length&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)("tr",{children:(0,Z.jsx)("td",{colSpan:n.length,style:{textAlign:"center",verticalAlign:"middle"},children:(0,Z.jsx)(Ut.Z,{"translation-key":"exam_detail_summary_no_attempt",fontSize:".875rem",color:"#212121",fontWeight:"600",children:o("exam_detail_summary_no_attempt")})})})})]})]})}const Cn={assignmentBody:"styles_assignmentBody__FRJVU",assignmentsWrapper:"styles_assignmentsWrapper__DNq5X",topic:"styles_topic__9jj0t"};var kn=n(4271),Tn=n(66565),Sn=n(22514),Nn=n(10850),An=n(2959),Mn=n(21426),Pn=n(44113);let Bn=function(e){return e[e.success=200]="success",e[e.serverError=500]="serverError",e[e.notFound=404]="notFound",e[e.badRequest=400]="badRequest",e}({});var En=n(90182);const Rn=e=>{const{t:t}=(0,W.$G)(),n=(0,w.s0)(),{errorTitle:s,debugInfo:i,navLink:r}=e;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(En.q,{children:(0,Z.jsx)("title",{children:t("course_error_page")})}),(0,Z.jsx)(X.Z,{color:"#212121",fontWeight:"bolder",gutterBottom:!0,children:t("course_error")}),(0,Z.jsx)(An.Z,{color:"danger",variant:"soft",children:(0,Z.jsx)(Ut.Z,{fontSize:".875rem",fontWeight:"500",color:"#680505",children:s})}),(0,Z.jsx)(a.Z,{display:"flex",justifyContent:"flex-end",marginTop:"20px",children:(0,Z.jsx)(Tn.Z,{onClick:()=>{n(r||"/",{})},children:t("common_continue")})})]})};var Ln=n(29946),Gn=n(23885),Wn=n(85627);const Fn=()=>{var e;const{t:t}=(0,W.$G)(),{examId:n}=(0,w.UO)(),{courseId:r}=(0,w.UO)(),o=(0,y.I0)(),l=(0,y.v9)((e=>e.exam)),c=(0,y.v9)((e=>e.takeExam.startAt)),[d,m]=(0,i.useState)([]),[u,x]=(0,i.useState)(!0),[g,h]=(0,i.useState)(new Date),[p,v]=(0,i.useState)(new Date),[j,f]=(0,i.useState)(!1),[b,D]=(0,i.useState)(""),[I,C]=(0,i.useState)(0),[k,T]=(0,i.useState)({id:"",courseId:"",name:"",scores:0,maxScores:0,timeOpen:new Date,timeClose:new Date,timeLimit:0,intro:"",overdueHanding:"",canRedoQuestions:!1,maxAttempts:0,shuffleAnswers:!1,gradeMethod:"",createdAt:new Date,updatedAt:new Date});(0,i.useEffect)((()=>{(()=>{let e=0;"QUIZ_GRADEHIGHEST"===k.gradeMethod?e=Math.max(...d.map((e=>e.markTotal)))/(k.scores||1)*(k.maxScores||0):"QUIZ_GRADEAVERAGE"===k.gradeMethod?e=d.reduce(((e,t)=>e+t.markTotal),0)/d.length:"QUIZ_ATTEMPTFIRST"===k.gradeMethod&&(e=d[0].markTotal);"QUIZ_ATTEMPTLAST"===k.gradeMethod&&(e=d[d.length-1].markTotal),C(e)})()}),[d]),(0,i.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await Et.O.getExamById(e);T(t),o((0,Rt.gm)(t))}catch(n){n.code!==Bn.notFound&&n.code!==Bn.serverError||(f(!0),D(t("course_error_exam_not_found")))}})(null!==n&&void 0!==n?n:l.examDetail.id),await(async(e,t)=>{try{const n=await Et.O.getAllAttemptByExamIdAndUserId(e,t);m(n)}catch(n){console.error(n)}})(null!==n&&void 0!==n?n:l.examDetail.id,"2d7ed5a0-fb21-4927-9a25-647c17d29668"),x(!1)})();const e=new Date(k.timeOpen)?new Date(k.timeOpen):new Date,s=new Date(k.timeClose)?new Date(k.timeClose):new Date;h(e),v(s)}),[]);const S=(0,w.s0)(),N=[t("common_january"),t("common_february"),t("common_march"),t("common_april"),t("common_may"),t("common_june"),t("common_july"),t("common_august"),t("common_september"),t("common_october"),t("common_november"),t("common_december")],A=[t("common_sunday"),t("common_monday"),t("common_tuesday"),t("common_wednesday"),t("common_thursday"),t("common_friday"),t("common_saturday")];return j?(0,Z.jsx)(Rn,{errorTitle:b}):(0,Z.jsxs)(a.Z,{className:Cn.assignmentBody,children:[(0,Z.jsx)(En.q,{"translation-key":"course_detail_exam",children:(0,Z.jsxs)("title",{children:[t("course_detail_exam")," | ",k.name]})}),(0,Z.jsx)(X.Z,{children:k.name}),(0,Z.jsx)(Tn.Z,{variant:"soft",color:"neutral",onClick:()=>{S(_._.student.course.assignment.replace(":courseId",l.examDetail.courseId))},startDecorator:(0,Z.jsx)(Ft.Z,{}),"translation-key":"common_back",sx:{width:"fit-content"},children:t("common_back")}),(0,Z.jsx)(An.Z,{variant:"outlined",color:"neutral",sx:{padding:"10px"},children:(0,Z.jsx)(s.ZP,{container:!0,children:(0,Z.jsx)(s.ZP,{item:!0,xs:12,md:12,children:(0,Z.jsxs)(nn.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,Z.jsx)(Sn.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,Z.jsxs)(nn.Z,{direction:"row",spacing:.5,children:[(0,Z.jsx)(Ut.Z,{fontWeight:"bolder","translation-key":"course_assignment_detail_open_time",color:"#434343",fontSize:"12px",children:"".concat(t("course_assignment_detail_open_time"),": ")}),(0,Z.jsxs)(Ut.Z,{color:"#434343",fontSize:"12px",children:[" ",t("common_show_time",{weekDay:A[g.getDay()],day:g.getDate(),month:N[g.getMonth()],year:g.getFullYear(),time:"".concat(g.getHours()<10?"0".concat(g.getHours()):g.getHours(),":").concat(g.getMinutes()<10?"0".concat(g.getMinutes()):g.getMinutes())})]})]}),(0,Z.jsx)(Nn.Z,{sx:{color:"#707070",fontSize:"20px"}})," ",(0,Z.jsxs)(nn.Z,{direction:"row",spacing:.5,children:[(0,Z.jsx)(Ut.Z,{fontWeight:"bolder",color:"#434343",fontSize:"12px","translation-key":"course_assignment_detail_close_time",children:"".concat(t("course_assignment_detail_close_time"),": ")}),(0,Z.jsx)(Ut.Z,{color:"#434343",fontSize:"12px",children:t("common_show_time",{weekDay:A[p.getDay()],day:p.getDate(),month:N[p.getMonth()],year:p.getFullYear(),time:"".concat(p.getHours()<10?"0".concat(p.getHours()):p.getHours(),":").concat(p.getMinutes()<10?"0".concat(p.getMinutes()):p.getMinutes())})})]})]})})})}),(0,Z.jsx)(a.Z,{className:Cn.assignmentDescription,children:(0,Z.jsx)("div",{dangerouslySetInnerHTML:{__html:k.intro}})}),(0,Z.jsxs)(nn.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,Z.jsx)(Tn.Z,{disabled:d.length===k.maxAttempts&&0!==k.maxAttempts,onClick:()=>{const e=k.timeOpen?new Date(k.timeOpen):new Date,t=k.timeClose?new Date(k.timeClose):new Date,s=k.createdAt?new Date(k.createdAt):new Date,a=k.updatedAt?new Date(k.updatedAt):new Date,i={id:k.id,courseId:k.courseId,name:k.name,scores:k.scores,maxScores:k.maxScores,timeOpen:e.toISOString(),timeClose:t.toISOString(),timeLimit:k.timeLimit,intro:k.intro,overdueHanding:k.overdueHanding,canRedoQuestions:k.canRedoQuestions,maxAttempts:k.maxAttempts,shuffleAnswers:k.shuffleAnswers,gradeMethod:k.gradeMethod,createdAt:s.toISOString(),updatedAt:a.toISOString()};o((0,kn.uA)(i)),S(_._.student.exam.take.replace(":courseId",r||l.examDetail.courseId).replace(":examId",n||l.examDetail.id))},sx:{width:"fit-content",height:"fit-content"},children:t(c?"exam_detail_continue":"exam_detail_start")}),(0,Z.jsx)(Wn.Z,{thickness:3,sx:{fontWeight:"bolder",textAlign:"center"},size:"lg",determinate:!0,value:0===k.maxAttempts?100:d.length/(k.maxAttempts||1)*100,"translation-key":["exam_detail_summary_attempt","exam_detail_attempt_unlimited"],children:0===k.maxAttempts?(0,Z.jsx)(Z.Fragment,{children:t("exam_detail_attempt_unlimited")}):(0,Z.jsxs)(Z.Fragment,{children:["".concat(d.length," / ").concat(k.maxAttempts),(0,Z.jsx)("br",{}),t("exam_detail_summary_attempt")]})})]}),(0,Z.jsx)(An.Z,{variant:"soft",color:"neutral",sx:{padding:"10px"},children:(0,Z.jsxs)(nn.Z,{spacing:1.5,children:[(0,Z.jsxs)(nn.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,Z.jsx)(Mn.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,Z.jsxs)(nn.Z,{direction:"row",spacing:.5,children:[(0,Z.jsxs)(Ut.Z,{"translation-key":"exam_detail_time_limit",fontWeight:"bolder",color:"#434343",fontSize:"12px",children:[t("exam_detail_time_limit"),": "]}),(0,Z.jsx)(Ut.Z,{color:"#434343",fontSize:"12px",children:(0,sn.m)(1e3*(null!==(e=k.timeLimit)&&void 0!==e?e:0),Gn.ZP.language)})]})]}),(0,Z.jsxs)(nn.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,Z.jsx)(Pn.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,Z.jsxs)(nn.Z,{direction:"row",spacing:.5,children:[(0,Z.jsxs)(Ut.Z,{"translation-key":"exam_detail_grading_method",fontWeight:"bolder",color:"#434343",fontSize:"12px",children:[t("exam_detail_grading_method"),": "]}),(0,Z.jsx)(Ut.Z,{color:"#434343",fontSize:"12px",children:"QUIZ_GRADEHIGHEST"===k.gradeMethod?t("exam_detail_grading_method_high_score"):"QUIZ_GRADEAVERAGE"===k.gradeMethod?t("exam_detail_grading_method_average_score"):"QUIZ_ATTEMPTFIRST"===k.gradeMethod?t("exam_detail_grading_method_first_submit"):"QUIZ_ATTEMPTLAST"===k.gradeMethod?t("exam_detail_grading_method_last_submit"):""})]})]}),(0,Z.jsxs)(nn.Z,{direction:"row",spacing:1.5,alignItems:"center",children:[(0,Z.jsx)(Ln.Z,{sx:{color:"#707070",fontSize:"20px"}}),(0,Z.jsxs)(nn.Z,{direction:"row",spacing:.5,children:[(0,Z.jsx)(Ut.Z,{fontWeight:"bolder",color:"#434343",fontSize:"12px","translation-key":"exam_detail_max_attempt",children:"".concat(0===k.maxAttempts?t("exam_detail_attempt_unlimited"):t("exam_detail_max_attempt"),": ")}),(0,Z.jsx)(Ut.Z,{color:"#434343",fontSize:"12px",children:k.maxAttempts})]})]})]})}),(0,Z.jsx)(Kt.Z,{"translation-key":"exam_detail_summary_previous_attempt",children:t("exam_detail_summary_previous_attempt")}),(0,Z.jsx)(wn,{examId:n||l.examDetail.id,courseId:r||l.examDetail.courseId,headers:[t("exam_detail_summary_attempt"),t("exam_detail_summary_state"),"".concat(t("exam_detail_mark")," / ").concat(k.scores),"".concat(t("common_final_grade")," / ").concat(k.maxScores),t("exam_detail_summary_review")],rows:d,examMark:k.scores||0,examGrade:k.maxScores||0}),0!==d.length&&(0,Z.jsxs)(Kt.Z,{"translation-key":"exam_detail_grading_method_high_score",children:[t("exam_detail_grading_method_high_score"),": ",(0,Z.jsx)("span",{style:{color:"red"},children:I})," / ",k.maxScores]})]})};var Un=n(89840);const Qn=e=>{const{id:t,name:n,type:s,startDate:i,endDate:r,status:o}=e,{t:l}=(0,W.$G)();let c="";const d=o===ze.u.submitted?"var(--gray-3)":"white",m=o===ze.u.submitted?"line-through":"none";if(s===ze.Q.assignment)c=l("common_type_assignment");return(0,Z.jsx)(P.ZP,{alignItems:"flex-start",sx:{backgroundColor:d},children:(0,Z.jsx)(Un.Z,{children:(0,Z.jsx)(B.Z,{primary:(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(Oe.Z,{component:"span",variant:"body2",color:"text.primary",sx:{textDecorationLine:m},children:n})}),secondary:(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(Oe.Z,{"translation-key":"common_type_assignment",component:"span",variant:"body2",color:"text.primary",children:c}),(0,Z.jsxs)(a.Z,{children:[(0,Z.jsxs)(Oe.Z,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary","translation-key":"common_deadline",children:[l("common_deadline"),":"]})," ".concat(r," ")]})]})})})})},On=(0,i.memo)((e=>{const{t:t}=(0,W.$G)(),n=(0,w.s0)(),{courseId:r}=(0,w.UO)(),{pathname:o}=(0,w.TH)(),l=(0,m.ZP)(Ae.Z)({"& .MuiTabs-indicator":{backgroundColor:"transparent",display:"none",borderBottom:"none"},"& .MuiTabs-flexContainer":{width:"fit-content",padding:"4px 3px",borderRadius:8}}),c=(0,m.ZP)((e=>(0,Z.jsx)(Me.Z,{disableRipple:!0,...e})))((e=>{let{theme:t}=e;return{textTransform:"none",width:120,minHeight:29,borderRadius:10,padding:"10px 6px",fontSize:16,[t.breakpoints.up("sm")]:{minWidth:0},fontWeight:500,color:"rgba(0, 0, 0, 0.85)",fontFamily:["-apple-system","BlinkMacSystemFont",'"Roboto"'].join(","),"&:hover":{color:"#1976d2",backgroundColor:"#ECF4FD",transition:"all 0.2s ease-in-out",opacity:1},"&.Mui-selected":{color:"#1976d2",backgroundColor:"#ECF4FD",fontWeight:t.typography.fontWeightMedium},"&.Mui-focusVisible":{backgroundColor:"#d1eaff"}}})),d=(0,i.useMemo)((()=>[_._.student.course.information,_._.student.course.assignment,_._.student.course.grade,_._.student.course.participant]),[_._]),u=(0,i.useMemo)((()=>{if(r){const e=d.findIndex((e=>{return t=e.replace(":courseId",r),!!o.startsWith(t);var t}));return-1===e?0:e}}),[o,d]),x=[{id:1,name:"Assignment 1",type:ze.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:ze.u.submitted},{id:2,name:"Assignment 2",type:ze.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:ze.u.notSubmitted},{id:3,name:"Assignment 3",type:ze.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:ze.u.notSubmitted},{id:4,name:"Assignment 4",type:ze.Q.assignment,startDate:"01/01/2024",endDate:"12/12/2024",status:ze.u.submitted}],g=(0,w.TH)().pathname.includes("information");return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(a.Z,{className:Pe,"translation-key":["course_detail_classroom","course_detail_assignment","common_grade","course_detail_participant"],children:(0,Z.jsxs)(l,{value:u,onChange:(e,t)=>{r&&n(d[t].replace(":courseId",r))},"aria-label":"basic tabs example",className:Be,children:[(0,Z.jsx)(c,{sx:{textTransform:"none"},label:t("course_detail_classroom"),value:0}),(0,Z.jsx)(c,{sx:{textTransform:"none"},label:t("course_detail_assignment"),value:1}),(0,Z.jsx)(c,{sx:{textTransform:"none"},label:t("common_grade"),value:2}),(0,Z.jsx)(c,{sx:{textTransform:"none"},label:t("course_detail_participant"),value:3})]})}),(0,Z.jsx)(a.Z,{id:Ee,children:(0,Z.jsxs)(s.ZP,{container:!0,spacing:2,children:[(0,Z.jsx)(s.ZP,{item:!0,xs:g?7.2:12,children:(0,Z.jsxs)(w.Z5,{children:[(0,Z.jsx)(w.AW,{path:"information",element:(0,Z.jsx)(Xe,{})}),(0,Z.jsx)(w.AW,{path:"assignments",element:(0,Z.jsx)(Wt,{})}),(0,Z.jsx)(w.AW,{path:"assignments/:assignmentId",element:(0,Z.jsx)(tn,{})}),(0,Z.jsx)(w.AW,{path:"assignments/exams/:examId",element:(0,Z.jsx)(Fn,{})}),(0,Z.jsx)(w.AW,{path:"grade",element:(0,Z.jsx)(ut,{})}),(0,Z.jsx)(w.AW,{path:"participant",element:(0,Z.jsx)(ft,{})})]})}),g&&(0,Z.jsxs)(s.ZP,{item:!0,xs:4.8,children:[(0,Z.jsx)(Ne,{}),(0,Z.jsxs)(st.Z,{className:Re,children:[(0,Z.jsx)(Oe.Z,{className:Le,"translation-key":"course_detail_need_to_do_title",children:t("course_detail_need_to_do_title")}),(0,Z.jsx)(S.Z,{}),(0,Z.jsx)(N.Z,{sx:{width:"100%",bgcolor:"background.paper"},className:Ge,children:x.map(((e,t)=>(0,Z.jsx)(Qn,{id:e.id,name:e.name,endDate:e.endDate,startDate:e.startDate,type:e.type,status:e.status},t)))})]})]})]})})]})})),zn=e=>(0,Z.jsx)(s.ZP,{className:r,children:(0,Z.jsx)(I,{children:(0,Z.jsx)(a.Z,{className:o,children:(0,Z.jsx)(a.Z,{className:l,children:(0,Z.jsxs)(w.Z5,{children:[(0,Z.jsx)(w.AW,{path:"courses",element:(0,Z.jsx)(ie,{})}),(0,Z.jsx)(w.AW,{path:"courses/:courseId/*",element:(0,Z.jsx)(On,{})}),(0,Z.jsx)(w.AW,{path:"calendar",element:(0,Z.jsx)(Ne,{})})]})})})})})},21426:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45045)),i=n(46417);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m-.22-13h-.06c-.4 0-.72.32-.72.72v4.72c0 .35.18.68.49.86l4.15 2.49c.34.2.78.1.98-.24.21-.34.1-.79-.25-.99l-3.87-2.3V7.72c0-.4-.32-.72-.72-.72"}),"AccessTimeRounded")},44113:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45045)),i=n(46417);t.Z=(0,a.default)((0,i.jsx)("path",{d:"m12 17.27 5.17 3.12c.38.23.85-.11.75-.54l-1.37-5.88 4.56-3.95c.33-.29.16-.84-.29-.88l-6.01-.51-2.35-5.54c-.17-.41-.75-.41-.92 0L9.19 8.63l-6.01.51c-.44.04-.62.59-.28.88l4.56 3.95-1.37 5.88c-.1.43.37.77.75.54z"}),"GradeRounded")},10850:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45045)),i=n(46417);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHorizRounded")},29946:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45045)),i=n(46417);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.27-2.31 4.1-4.57 4.57-3.57.75-6.75-1.7-7.23-5.01-.07-.48-.49-.85-.98-.85-.6 0-1.08.53-1 1.13.62 4.39 4.8 7.64 9.53 6.72 3.12-.61 5.63-3.12 6.24-6.24C20.84 9.48 16.94 5 12 5"}),"ReplayRounded")},22514:(e,t,n)=>{var s=n(64836);t.Z=void 0;var a=s(n(45045)),i=n(46417);t.Z=(0,a.default)((0,i.jsx)("path",{d:"M15.29 17.29c.39.39 1.02.39 1.41 0l4.59-4.59c.39-.39.39-1.02 0-1.41L16.7 6.7a.9959.9959 0 0 0-1.41 0c-.38.39-.39 1.03 0 1.42L18.17 11H7c-.55 0-1 .45-1 1s.45 1 1 1h11.17l-2.88 2.88c-.39.39-.39 1.02 0 1.41M3 18c.55 0 1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1v10c0 .55.45 1 1 1"}),"StartRounded")}}]);