"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[2384],{12117:(e,t,a)=>{a.d(t,{$:()=>i});let i=function(e){return e.BASIC="BASIC",e.INTERMEDIATE="INTERMEDIATE",e.ADVANCED="ADVANCED",e}({})},62384:(e,t,a)=>{a.r(t),a.d(t,{default:()=>xs});var i=a(9019),s=a(79536);const n="styles_root__zeGk-",r="styles_body__qqtSL";var o=a(58467),l=a(51997),c=a(65954),d=a(42832),m=a(48119),u=a(44758),x=a(66212),h=a(19536),p=a(81127),g=a(11053),_=a(29878),f=a(95326),j=a(31845),Z=a(68464),b=a(63408),y=a(99221),v=a(23885),C=a(68933),w=a(70816),k=a.n(w),S=a(47313),N=a(75590),P=a(65537),I=a(56289),A=a(90469),T=a(3152),z=a(22665),D=a(15162),q=a(46417);const M=()=>{(0,S.useRef)(null);const{t:e}=(0,N.$G)(),t=(0,o.s0)(),[a,s]=(0,S.useState)(""),[n,r]=(0,S.useState)((()=>v.ZP.language)),[w,M]=S.useState([{key:"Status",value:C.m.ALL}]),[L,E]=(0,S.useState)(0),[W,R]=(0,S.useState)(10),O=(0,P.I0)(),[U,B]=(0,S.useState)({isLoading:!1,contests:{contests:[],currentPage:0,totalItems:0,totalPages:0}}),F=(0,S.useCallback)((async t=>{let{searchName:a,startTimeFilter:i=C.m.ALL,pageNo:s=0,pageSize:n=10}=t;B((e=>({...e,isLoading:!0})));try{const e=await T.c.getContestsForAdmin({searchName:a,startTimeFilter:i,pageNo:s,pageSize:n});B((t=>({...t,isLoading:!1,contests:e})))}catch(r){console.error("error",r),401!==r.code&&403!==r.code||O((0,I.lS)(e("common_please_login_to_continue"))),B((e=>({...e,isLoading:!1})))}}),[O,e]),[H,G]=(0,S.useState)(!1),[V,Q]=(0,S.useState)(""),$=(0,S.useCallback)((e=>{E(0),F({searchName:e,startTimeFilter:w[0].value})}),[F,w]),K=[{field:"name",headerName:e("common_name"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_name")}),renderCell:e=>(0,q.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,q.jsx)(m.Z,{sx:{bgcolor:"".concat((0,z.M)("".concat(e.row.name)))},alt:e.row.name,src:e.row.thumbnailUrl,children:e.row.name.charAt(0)}),(0,q.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.name})]})},{field:"startTime",headerName:e("common_start_time"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_start_time")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:(0,D.J$)(e.row.startTime,n)})},{field:"endTime",headerName:e("common_end_time"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_end_time")}),renderCell:t=>(0,q.jsx)(b.Z,{width:"auto",children:t.row.endTime?(0,D.J$)(t.row.endTime,n):e("contest_details_has_no_end_time")})},{field:"numOfParticipants",headerName:e("common_num_of_participants"),flex:.4,minWidth:100,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_num_of_participants")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:e.row.numOfParticipants})},{field:"isPublic",headerName:e("contest_is_public"),flex:.5,align:"center",renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("contest_is_public")}),renderCell:e=>(0,q.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isPublic,color:e.row.isPublic?"success":"error",sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"status",headerName:e("common_status"),flex:.7,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_status")}),renderCell:t=>(0,q.jsx)(x.Z,{size:"small",label:t.row.status===C.m.UPCOMING?e("common_upcoming"):t.row.status===C.m.HAPPENING?e("common_in_progress"):e("common_ended"),variant:"outlined",color:t.row.status===C.m.UPCOMING?"primary":t.row.status===C.m.HAPPENING?"success":"error",component:b.Z})},{field:"action",headerName:e("common_action"),type:"actions",flex:.6,renderHeader:()=>(0,q.jsx)(y.Z,{width:"auto",sx:{textAlign:"left"},children:e("common_action")}),getActions:e=>[(0,q.jsx)(p.u,{icon:(0,q.jsx)(c.Z,{}),label:"Edit",onClick:()=>{t(A._.admin.contest.edit.details.replace(":contestId",e.row.contestId))}}),(0,q.jsx)(p.u,{icon:(0,q.jsx)(l.Z,{}),label:"Delete",onClick:()=>{Q(e.row.contestId),G(!0)}})]}],Y=(0,S.useMemo)((()=>U.contests.totalItems||0),[U.contests]),J=(0,S.useMemo)((()=>U.contests.contests.map((e=>{const t=e.startTime&&k()().utc().isBefore(e.startTime)?C.m.UPCOMING:e.endTime&&k()().utc().isAfter(e.endTime)?C.m.ENDED:C.m.HAPPENING;return{id:e.contestId,contestId:e.contestId,name:e.name,description:e.description,prizes:e.prizes,rules:e.rules,scoring:e.scoring,thumbnailUrl:e.thumbnailUrl,startTime:e.startTime,endTime:e.endTime,questions:e.questions,numOfParticipants:e.numOfParticipants,status:t,isPublic:e.isPublic,isRestrictedForum:e.isRestrictedForum,isDisabledForum:e.isDisabledForum,createdBy:e.createdBy,createdAt:e.createdAt,updatedAt:e.updatedAt,updatedBy:e.updatedBy}}))),[U.contests]),X=(0,S.useCallback)((()=>{F({searchName:a,startTimeFilter:w[0].value})}),[F,a,w]),ee=(0,S.useCallback)((()=>{M([{key:"Status",value:C.m.ALL}]),F({searchName:a,startTimeFilter:C.m.ALL})}),[F,a]);return(0,S.useEffect)((()=>{r(v.ZP.language)}),[v.ZP.language]),(0,S.useEffect)((()=>{(async()=>{F({searchName:"",startTimeFilter:C.m.ALL})})()}),[F]),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(_.Z,{isOpen:H,title:e("dialog_confirm_delete_title"),description:e("dialog_confirm_delete_contest_description"),onCancel:()=>{G(!1)},onDelete:async()=>{T.c.deleteContest(V).then((t=>{E(0),F({searchName:a,startTimeFilter:w[0].value,pageNo:0,pageSize:W}),O((0,I.kU)(e("contest_delete_contest_success")))})).catch((t=>{console.error("error",t),O((0,I.lS)(e("contest_delete_contest_fail")))})).finally((()=>{G(!1)}))}}),(0,q.jsxs)(i.ZP,{container:!0,spacing:2,sx:{padding:"0px 20px 20px 20px"},children:[(0,q.jsx)(h.Z,{}),(0,q.jsxs)(i.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(j.Z,{"translate-key":"contest_management_title",children:e("contest_management_title")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(f.Z,{isLoading:U.isLoading,searchValue:a,setSearchValue:s,onHandleChange:$,createBtnText:e("contest_create"),onClickCreate:()=>{t(A._.admin.contest.create)},numOfResults:Y,filterKeyList:[{label:e("common_status"),value:"Status"}],filterValueList:{Status:[{label:e("common_all"),value:C.m.ALL},{label:e("common_upcoming"),value:C.m.UPCOMING},{label:e("common_in_progress"),value:C.m.HAPPENING},{label:e("common_ended"),value:C.m.ENDED}]},filters:w,handleChangeFilters:e=>{M(e)},onHandleApplyFilter:X,onHandleCancelFilter:ee})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{loading:U.isLoading,dataList:J,tableHeader:K,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:L,pageSize:W,totalElement:Y,onPaginationModelChange:(e,t)=>{R(e.pageSize),E(e.page),F({searchName:a,startTimeFilter:C.m.ALL,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})]})};var L=a(62563),E=a(65898),W=a(83929),R=a(28765),O=a(15535),U=a(16977),B=a(82098),F=a(82793),H=a(75627),G=a(21933);const V="styles_formBody__4S2B5",Q="styles_breadcump__bLd4l",$="styles_breadcumpWrapper__QNcnk",K=()=>{(0,S.useRef)(null);const{t:e}=(0,N.$G)(),t=(0,o.s0)(),[a,n]=(0,S.useState)(!1),r=(0,P.I0)(),l=(0,S.useMemo)((()=>G.Ry().shape({isNoEndTime:G.O7().required(e("contest_is_no_end_time_required")),name:G.Z_().required(e("contest_name_required")).trim(""),startTime:G.Z_().required(e("contest_start_time_required")).trim("").test("startTime",e("contest_start_time_greater_than_current_time"),(function(e){return k()(e).isAfter(k()().utc())})),endTime:G.Z_().nullable().test("endTime",e("contest_end_time_required"),(function(e){return!!this.parent.isNoEndTime||!!e})).test("endTime",e("contest_end_time_greater_than_start_time"),(function(e){return!!this.parent.isNoEndTime||k()(e).isAfter(this.parent.startTime)}))})),[e]),{control:c,handleSubmit:m,watch:x,formState:{errors:h},setValue:p}=(0,H.cI)({resolver:(0,L.X)(l),defaultValues:{isNoEndTime:!1,name:"",startTime:k().utc().add(30,"minute").toISOString(),endTime:k().utc().add(1,"hour").toISOString()}}),g=(0,S.useCallback)((async a=>{let{name:i,description:s,thumbnailUrl:o,startTime:l,endTime:c}=a;n(!0);try{const a=await T.c.createContest({name:i,description:s,thumbnailUrl:o,startTime:l,endTime:c});a.name===i&&(r((0,I.kU)(e("contest_create_success"))),n(!1),t(A._.admin.contest.edit.details.replace(":contestId",a.contestId)))}catch(d){console.error("error",d),401!==d.code&&403!==d.code||r((0,I.lS)(e("common_please_login_to_continue"))),n(!1)}}),[r,t,e]);return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(s.Z,{className:Q,children:(0,q.jsx)(s.Z,{id:$,children:(0,q.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.contest.root,label:e("contest_management_title")}],lastBreadCrumbLabel:e("contest_create")})})}),(0,q.jsxs)(s.Z,{sx:{padding:"0 20px"},children:[(0,q.jsx)(j.Z,{"translate-key":"contest_create",children:e("contest_create")}),(0,q.jsxs)(d.Z,{direction:"column",gap:2,sx:{marginTop:"20px"},children:[(0,q.jsx)(b.Z,{fontStyle:"italic","translate-key":"contest_description_message_1",children:e("contest_description_message_1")}),(0,q.jsx)(b.Z,{fontStyle:"italic","translate-key":"contest_description_message_2",children:e("contest_description_message_2")})]}),(0,q.jsxs)(s.Z,{component:"form",className:V,onSubmit:m((async e=>{const t={...e},{isNoEndTime:a,name:i,startTime:s,endTime:n}=t;await g({name:i,description:"",thumbnailUrl:"",startTime:s,endTime:a?null:n})})),children:[(0,q.jsx)(H.Qr,{control:c,name:"name",rules:{required:!0},render:t=>{var a;let{field:{ref:i,...s}}=t;return(0,q.jsx)(U.Z,{error:Boolean(null===h||void 0===h?void 0:h.name),errorMessage:null===(a=h.name)||void 0===a?void 0:a.message,title:"".concat(e("contest_name")),type:"text",placeholder:e("contest_enter_contest_name"),titleRequired:!0,"translation-key":"contest_enter_contest_name",inputRef:i,width:"350px",fullWidth:!0,...s})}}),(0,q.jsx)(i.ZP,{container:!0,spacing:1,columns:12,children:(0,q.jsx)(H.Qr,{control:c,name:"startTime",rules:{required:!0},render:t=>{let{field:{ref:a,...s}}=t;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,children:(0,q.jsx)(F.Z,{"translate-key":"contest_start_time",title:e("contest_start_time"),titleRequired:!0,tooltipDescription:e("contest_start_time_tooltip")})}),(0,q.jsxs)(i.ZP,{item:!0,xs:7,children:[(0,q.jsx)(O.Z,{value:k()(s.value),onHandleValueChange:e=>{e&&p("startTime",e.toISOString())},width:"350px"}),h.startTime&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:h.startTime.message&&(0,q.jsx)(B.Z,{children:h.startTime.message||""})})]})]})}})}),(0,q.jsx)(H.Qr,{control:c,name:"endTime",rules:{required:!0},render:t=>{let{field:{ref:a,...s}}=t;return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,children:(0,q.jsx)(F.Z,{"translate-key":"contest_end_time",title:e("contest_end_time"),titleRequired:!0,tooltipDescription:e("contest_end_time_tooltip")})}),(0,q.jsx)(i.ZP,{item:!0,xs:7,children:(0,q.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,q.jsx)(O.Z,{value:k()(s.value),disabled:x("isNoEndTime"),onHandleValueChange:e=>{e&&p("endTime",e.toISOString())},width:"350px"}),(0,q.jsx)(H.Qr,{control:c,name:"isNoEndTime",render:t=>{let{field:{ref:a,...i}}=t;return(0,q.jsx)(W.Z,{control:(0,q.jsx)(u.Z,{color:"primary",...i}),label:e("this_contest_has_no_end_time")})}}),h.endTime&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:h.endTime.message&&(0,q.jsx)(B.Z,{children:h.endTime.message||""})})]})})]})})}}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,q.jsx)(E.Z,{loading:a,variant:"solid",type:"submit","translation-key":"common_get_started",children:e("common_get_started")})})]})]})]})})};var Y=a(95861),J=a(65280),X=a(80007),ee=a(62614),te=a(38037);const ae=e=>{let{control:t,errors:a,setValue:s,watch:n}=e;const{t:r}=(0,N.$G)();return(0,q.jsxs)(i.ZP,{container:!0,gap:2,direction:"column",sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)",minHeight:"600px"},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(te.Z,{"translate-key":"contest_forum",children:r("contest_forum")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(i.ZP,{container:!0,spacing:2,columns:12,sx:{marginTop:"5px"},children:(0,q.jsx)(H.Qr,{control:t,name:"isDisabledForum",rules:{required:!0},render:e=>{let{field:{ref:s,...n}}=e;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:4,children:[(0,q.jsx)(F.Z,{"translate-key":"contest_is_disabled_forum",title:r("contest_is_disabled_forum")}),(0,q.jsx)(b.Z,{sx:{marginTop:"5px"},fontStyle:"italic","translate-key":"contest_is_disabled_forum_tooltip",children:r("contest_is_disabled_forum_tooltip")})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:7,children:(0,q.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,q.jsx)(H.Qr,{control:t,name:"isDisabledForum",render:e=>{let{field:{ref:t,...a}}=e;return(0,q.jsx)(W.Z,{control:(0,q.jsx)(u.Z,{color:"primary",...a,checked:a.value}),label:""})}}),a.isDisabledForum&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:a.isDisabledForum.message&&(0,q.jsx)(B.Z,{children:a.isDisabledForum.message||""})})]})})]})}})})})]})},ie={formBody:"styles_formBody__cwJLB"};var se=a(92556),ne=a(95087);const re=e=>{let{control:t,errors:a,setValue:s,watch:n}=e;const{t:r}=(0,N.$G)(),[o,l]=(0,S.useState)([]);return(0,S.useEffect)((()=>{var e;o.length>0&&s("thumbnailUrl",(null===(e=o[0])||void 0===e?void 0:e.downloadUrl)||"")}),[o,s]),(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(i.ZP,{container:!0,gap:2,direction:"column",className:ie.container,sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)"},children:[(0,q.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,q.jsx)(te.Z,{"translate-key":"contest_details",children:r("contest_details")}),(0,q.jsx)(b.Z,{fontStyle:"italic",sx:{marginTop:"10px"},"translate-key":"contest_details_description",children:r("contest_details_description")})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.ZP,{container:!0,gap:2,direction:"column",children:[(0,q.jsx)(H.Qr,{control:t,name:"name",rules:{required:!0},render:e=>{var t;let{field:{ref:i,...s}}=e;return(0,q.jsx)(U.Z,{error:Boolean(null===a||void 0===a?void 0:a.name),errorMessage:null===(t=a.name)||void 0===t?void 0:t.message,title:"".concat(r("contest_name")),type:"text",placeholder:r("contest_enter_contest_name"),titleRequired:!0,"translation-key":"contest_enter_contest_name",inputRef:i,width:"350px",fullWidth:!0,...s})}}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,columns:12,children:(0,q.jsx)(H.Qr,{control:t,name:"startTime",rules:{required:!0},render:e=>{let{field:{ref:t,...n}}=e;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,q.jsx)(F.Z,{"translate-key":"contest_start_time",title:r("contest_start_time"),titleRequired:!0})}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:8,children:[(0,q.jsx)(O.Z,{value:k()(n.value),onHandleValueChange:e=>{e&&s("startTime",e.toISOString())},width:"350px"}),a.startTime&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:a.startTime.message&&(0,q.jsx)(B.Z,{children:a.startTime.message||""})})]})]})}})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,columns:12,children:(0,q.jsx)(H.Qr,{control:t,name:"endTime",rules:{required:!0},render:e=>{let{field:{ref:o,...l}}=e;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,q.jsx)(F.Z,{"translate-key":"contest_end_time",title:r("contest_end_time"),titleRequired:!0,tooltipDescription:r("contest_end_time_tooltip")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:8,children:(0,q.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,q.jsx)(O.Z,{value:k()(l.value),disabled:n("isNoEndTime"),onHandleValueChange:e=>{e&&s("endTime",e.toISOString())},width:"350px"}),(0,q.jsx)(H.Qr,{control:t,name:"isNoEndTime",render:e=>{let{field:{ref:t,...a}}=e;return(0,q.jsx)(W.Z,{control:(0,q.jsx)(u.Z,{color:"primary",...a,checked:a.value}),label:r("this_contest_has_no_end_time")})}}),a.endTime&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:a.endTime.message&&(0,q.jsx)(B.Z,{children:a.endTime.message||""})})]})})]})}})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,columns:12,children:(0,q.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:s,...n}}=e;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,q.jsx)(F.Z,{"translate-key":"contest_is_public",title:r("contest_is_public"),titleRequired:!0,tooltipDescription:r("contest_is_public_tooltip")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:8,children:(0,q.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,q.jsx)(H.Qr,{control:t,name:"isPublic",render:e=>{let{field:{ref:t,...a}}=e;return(0,q.jsx)(W.Z,{control:(0,q.jsx)(u.Z,{color:"primary",...a,checked:a.value}),label:""})}}),a.isPublic&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:a.isPublic.message&&(0,q.jsx)(B.Z,{children:a.isPublic.message||""})})]})})]})}})})]})}),(0,q.jsx)(h.Z,{}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,q.jsx)(te.Z,{"translate-key":"contest_metadata_customization",children:r("contest_metadata_customization")}),(0,q.jsx)(b.Z,{fontStyle:"italic",sx:{marginTop:"10px"},"translate-key":"contest_metadata_customization_description",children:r("contest_metadata_customization_description")})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.ZP,{container:!0,gap:5,direction:"column",children:[(0,q.jsx)(i.ZP,{container:!0,spacing:2,columns:12,sx:{marginBottom:"-20px"},children:(0,q.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:s,...n}}=e;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,q.jsx)(F.Z,{"translate-key":"contest_thumbnail",title:r("contest_thumbnail")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:7,children:(0,q.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,q.jsx)(H.Qr,{control:t,name:"thumbnailUrl",rules:{required:!0},render:e=>{let{field:{ref:t,...a}}=e;return(0,q.jsx)(ne.Z,{extFiles:o,setExtFiles:l,maxFileSize:5242880,accept:".bmp, .gif, .jpeg, .jpg, .png, .svg, .tif, .tiff",maxFiles:1})}}),a.thumbnailUrl&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:a.thumbnailUrl.message&&(0,q.jsx)(B.Z,{children:a.thumbnailUrl.message||""})})]})})]})}})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,columns:12,children:(0,q.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:n,...o}}=e;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,q.jsx)(F.Z,{"translate-key":"common_description",title:r("common_description")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:7,children:(0,q.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,q.jsx)(H.Qr,{control:t,name:"description",render:e=>{let{field:{ref:t,...a}}=e;return(0,q.jsx)(se.Z,{value:a.value,onChange:e=>{s("description",e)},maxLines:10})}}),a.description&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:a.description.message&&(0,q.jsx)(B.Z,{children:a.description.message||""})})]})})]})}})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,columns:12,children:(0,q.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:n,...o}}=e;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,q.jsx)(F.Z,{"translate-key":"common_prizes",title:r("common_prizes")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:7,children:(0,q.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,q.jsx)(H.Qr,{control:t,name:"prizes",rules:{required:!0},render:e=>{let{field:{ref:t,...a}}=e;return(0,q.jsx)(se.Z,{value:a.value,onChange:e=>{s("prizes",e)},maxLines:10})}}),a.prizes&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:a.prizes.message&&(0,q.jsx)(B.Z,{children:a.prizes.message||""})})]})})]})}})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,columns:12,children:(0,q.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:n,...o}}=e;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,q.jsx)(F.Z,{"translate-key":"common_rules",title:r("common_rules")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:7,children:(0,q.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,q.jsx)(H.Qr,{control:t,name:"rules",rules:{required:!0},render:e=>{let{field:{ref:t,...a}}=e;return(0,q.jsx)(se.Z,{value:a.value,onChange:e=>{s("rules",e)},maxLines:10})}}),a.rules&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:a.rules.message&&(0,q.jsx)(B.Z,{children:a.rules.message||""})})]})})]})}})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,columns:12,children:(0,q.jsx)(H.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:n,...o}}=e;return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,q.jsx)(F.Z,{"translate-key":"common_scoring",title:r("common_scoring")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:7,children:(0,q.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,q.jsx)(H.Qr,{control:t,name:"scoring",rules:{required:!0},render:e=>{let{field:{ref:t,...a}}=e;return(0,q.jsx)(se.Z,{value:a.value,onChange:e=>{s("scoring",e)},maxLines:10})}}),a.scoring&&(0,q.jsx)(i.ZP,{item:!0,xs:12,children:a.scoring.message&&(0,q.jsx)(B.Z,{children:a.scoring.message||""})})]})})]})}})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,columns:12,height:"70px"})]})})]})})};var oe=a(51629),le=a(70501),ce=a(66835),de=a(23477),me=a(24076),ue=a(70941),xe=a(57861),he=a(90891),pe=a(47131);const ge={formBody:"styles_formBody__+Pnep",container:"styles_container__SfjDG",icon:"styles_icon__Zatl9",iconCheck:"styles_iconCheck__LD1KI",pagination:"styles_pagination__tt9N9","table-head":"styles_table-head__+4r9Q","table-cell":"styles_table-cell__-Blhe",linkText:"styles_linkText__Nb9Eb",row1:"styles_row1__q+vMZ"};var _e=a(34923),fe=a(2135),je=a(25551),Ze=a(78819),be=a(89990),ye=a(33099);const ve="styles_linkText__et5wk";var Ce=a(21505),we=function(e){return e.ALL="ALL",e.EASY="EASY",e.MEDIUM="MEDIUM",e.HARD="HARD",e}(we||{});function ke(e){let{open:t,title:a,handleClose:s,children:n,cancelText:r,confirmText:o,onHandleCancel:l,onHanldeConfirm:c,isConfirmLoading:m=!1,isReportExisted:x,currentQuestionList:h,handleAddProblem:_,handleDeleteProblem:j,...Z}=e;const{t:y}=(0,N.$G)(),[v,C]=S.useState(!0),[w,k]=S.useState(""),[P,I]=S.useState([{key:"Difficulty level",value:we.ALL}]),[A,T]=S.useState({codeQuestions:[],currentPage:0,totalPage:0,totalItems:0}),z=S.useCallback((async e=>{let{search:t,isPublic:a,difficulty:i,pageNo:s=0,pageSize:n=5}=e;C(!0);try{const e=await Ce.M.getAdminCodeQuestions({search:t,isPublic:a,difficulty:i,pageNo:s,pageSize:n});T({codeQuestions:e.qtypeCodeQuestions.map(((e,t)=>({id:e.id,questionId:e.question.id,no:s*n+t+1,name:e.question.name,difficulty:e.question.difficulty,isPublic:e.isPublic,maxGrade:e.maxGrade,defaultMark:e.question.defaultMark}))),currentPage:e.currentPage,totalPage:e.totalPage,totalItems:e.totalItems}),C(!1)}catch(r){console.error("error",r),C(!1)}}),[]),D=S.useCallback((()=>{var e,t;const a=null===(e=P.find((e=>"Difficulty level"===e.key)))||void 0===e?void 0:e.value,i=null===(t=P.find((e=>"Is public"===e.key)))||void 0===t?void 0:t.value;z({search:w,isPublic:i&&"ALL"!==i?"PUBLIC"===i:void 0,difficulty:a&&a!==we.ALL?a:void 0})}),[P,z,w]),M=S.useCallback((()=>{I([{key:"Difficulty level",value:we.ALL}]),z({search:w})}),[z,w]),L=[{field:"no",headerName:y("common_no"),width:100},{field:"name",headerName:y("list_problem_problem_name"),flex:1.5,renderCell:e=>(0,q.jsx)(b.Z,{fontWeight:"500",className:ve,children:(0,q.jsx)(he.Z,{component:fe.rU,to:"#",underline:"hover",color:"inherit",children:e.row.name})})},{field:"maxGrade",headerName:"Max grade",flex:.6,renderCell:e=>(0,q.jsx)(_e.Z,{fontWeight:600,children:e.row.maxGrade})},{field:"difficulty",headerName:y("common_difficulty_level"),flex:.6,renderCell:e=>(0,q.jsx)(_e.Z,{fontWeight:600,colorname:e.row.difficulty===we.EASY?"--green-500":e.row.difficulty===we.MEDIUM?"--orange-5":"--red-hard",children:e.row.difficulty===we.EASY?y("common_easy"):e.row.difficulty===we.MEDIUM?y("common_medium"):e.row.difficulty===we.HARD?y("common_hard"):e.row.difficulty})},{field:"isPublic",headerName:y("contest_is_public"),flex:.4,align:"center",renderHeader:()=>(0,q.jsx)(_e.Z,{width:"auto",sx:{textAlign:"left"},children:y("contest_is_public")}),renderCell:e=>(0,q.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isPublic,color:e.row.isPublic?"success":"error",sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"action",headerName:y("common_action"),type:"actions",flex:.6,renderHeader:()=>(0,q.jsx)(_e.Z,{width:"auto",sx:{textAlign:"left"},children:y("common_action")}),getActions:e=>[h.find((t=>t.questionId===e.row.questionId))?(0,q.jsx)(p.u,{label:"Remove",onClick:()=>{j(e.row.questionId)},icon:(0,q.jsxs)(d.Z,{direction:"row",gap:1,display:"flex",alignItems:"center",padding:.5,children:[(0,q.jsx)(Ze.Z,{htmlColor:"#EF4743"}),(0,q.jsx)(_e.Z,{fontWeight:"700",colorname:"--red-text","translate-key":"common_remove",children:y("common_remove")})]})}):(0,q.jsx)(p.u,{label:"Add",onClick:()=>{const t={codeQuestionId:e.row.id,questionId:e.row.questionId,difficulty:e.row.difficulty,name:e.row.name,questionText:"",defaultMark:e.row.defaultMark,maxGrade:e.row.maxGrade};_(t)},icon:(0,q.jsxs)(d.Z,{direction:"row",gap:1,display:"flex",alignItems:"center",padding:.5,children:[(0,q.jsx)(je.Z,{htmlColor:"#1976d2"}),(0,q.jsx)(_e.Z,{fontWeight:"700",colorname:"--blue-link","translate-key":"common_add",children:y("common_add")})]})})]}],[E,W]=S.useState(0),[R,O]=S.useState(5),U=A.totalItems,B=S.useCallback((e=>{var t,a;W(0);const i=null===(t=P.find((e=>"Difficulty level"===e.key)))||void 0===t?void 0:t.value,s=null===(a=P.find((e=>"Is public"===e.key)))||void 0===a?void 0:a.value;z({search:e,isPublic:s&&"ALL"!==s?"PUBLIC"===s:void 0,difficulty:i&&i!==we.ALL?i:void 0,pageNo:0,pageSize:R})}),[z,R,P]);return S.useEffect((()=>{z({})}),[z]),(0,q.jsx)(be.Z,{open:t,handleClose:s,title:y("contest_import_problem_button"),actionsDisabled:!0,minWidth:"1000px",...Z,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(ye.Z,{"translate-key":"contest_problem_list",children:y("contest_problem_list")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(f.Z,{isLoading:v,searchValue:w,setSearchValue:k,onHandleChange:B,numOfResults:U,filterKeyList:[{label:y("common_difficulty_level"),value:"Difficulty level"},{label:y("contest_is_public"),value:"Is public"}],filterValueList:{"Difficulty level":[{label:y("common_all"),value:we.ALL},{label:y("common_easy"),value:we.EASY},{label:y("common_medium"),value:we.MEDIUM},{label:y("common_hard"),value:we.HARD}],"Is public":[{label:y("common_all"),value:"ALL"},{label:y("common_public"),value:"PUBLIC"},{label:y("common_private"),value:"PRIVATER"}]},filters:P,handleChangeFilters:e=>{I(e)},onHandleApplyFilter:D,onHandleCancelFilter:M})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{loading:v,dataList:A.codeQuestions,tableHeader:L,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:E,pageSize:R,totalElement:U,onPaginationModelChange:(e,t)=>{W(e.page),O(e.pageSize),z({search:w,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!1,onClickRow:e=>{},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})})}var Se=a(29755),Ne=a(57067),Pe=a(39107),Ie=a(75506),Ae=a(94587);const Te=e=>{let{control:t,errors:a,setValue:s,watch:n}=e;const{t:r}=(0,N.$G)(),o=(0,P.I0)(),c=n("problems"),[d,m]=(0,S.useState)(!1),[u,x]=(0,S.useState)(!1),[h,p]=(0,S.useState)(""),[g,f]=(0,S.useState)(null),[j,Z]=(0,S.useState)(!1);return(0,q.jsxs)(q.Fragment,{children:[j&&(0,q.jsx)(ke,{open:j,title:r("contest_add_problem_button"),handleClose:()=>{Z(!1)},maxWidth:"md",currentQuestionList:c,handleAddProblem:e=>{f(e),x(!0)},handleDeleteProblem:e=>{p(e),m(!0)}}),(0,q.jsx)(_.Z,{isOpen:d,title:r("dialog_confirm_delete_title"),description:r("dialog_confirm_delete_problem_description"),onCancel:()=>{m(!1)},onDelete:async()=>{const e=c.filter((e=>e.questionId!==h));s("problems",e),m(!1),o((0,I.kU)(r("contest_delete_problem_success")))}}),(0,q.jsx)(Ae.Z,{isOpen:u,title:r("dialog_confirm_add_contest_problem_title"),description:r("dialog_confirm_add_contest_problem_description"),onCancel:()=>{x(!1),Z(!0)},onAdd:async()=>{if(x(!1),!g)return void o((0,I.lS)(r("contest_add_problem_error")));const e=[...c,g];s("problems",e),o((0,I.kU)(r("contest_add_problem_success")))}}),(0,q.jsxs)(i.ZP,{container:!0,gap:2,direction:"column",className:ge.container,sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)",minHeight:"600px"},children:[(0,q.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,q.jsx)(te.Z,{"translate-key":"contest_problems",children:r("contest_problems")}),(0,q.jsx)(b.Z,{fontStyle:"italic",sx:{marginTop:"10px"},"translate-key":"contest_problems_description",children:r("contest_problems_description")})]}),(0,q.jsxs)(Se.L,{children:[(0,q.jsx)(Ne.Z,{color:"primary","translate-key":"contest_add_problem_button",variant:"outlined",sx:{width:"150px"},children:r("contest_add_problem_button")}),(0,q.jsxs)(Pe.Z,{color:"primary",children:[(0,q.jsx)(Ie.Z,{children:r("contest_create_problem_button")}),(0,q.jsx)(Ie.Z,{onClick:()=>{Z(!0)},children:r("contest_import_problem_button")})]})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(oe.Z,{component:le.Z,children:(0,q.jsxs)(ce.Z,{"aria-label":"custom table",children:[(0,q.jsx)(de.Z,{className:ge["table-head"],children:(0,q.jsxs)(me.Z,{children:[(0,q.jsx)(ue.Z,{align:"left",sx:{width:"10%"},children:(0,q.jsx)(_e.Z,{fontWeight:"700","translation-key":"common_no",children:r("common_no")})}),(0,q.jsx)(ue.Z,{align:"left",sx:{width:"40%"},children:(0,q.jsx)(_e.Z,{fontWeight:"700","translation-key":"common_name",children:r("common_name")})}),(0,q.jsx)(ue.Z,{align:"left",sx:{width:"15%"},children:(0,q.jsx)(_e.Z,{fontWeight:"700","translation-key":"common_max_score",children:r("common_max_score")})}),(0,q.jsx)(ue.Z,{align:"left",sx:{width:"15%"},children:(0,q.jsx)(_e.Z,{fontWeight:"700","translation-key":"common_max_score",children:r("common_difficulty_level")})}),(0,q.jsx)(ue.Z,{align:"left",className:ge.status,sx:{width:"30%"},children:(0,q.jsx)(_e.Z,{fontWeight:"700"})})]})}),(0,q.jsxs)(xe.Z,{children:[c&&c.length>0&&c.map(((e,t)=>(0,q.jsxs)(me.Z,{className:t%2===0?ge.row:ge.row1,children:[(0,q.jsx)(ue.Z,{align:"left",children:t+1}),(0,q.jsx)(ue.Z,{className:ge.tableCell,children:(0,q.jsx)(b.Z,{fontWeight:"500",className:ge.linkText,children:(0,q.jsx)(he.Z,{component:fe.rU,to:A._.user.problem.detail.description.replace(":problemId",e.codeQuestionId),underline:"hover",color:"inherit",children:e.name})})}),(0,q.jsx)(ue.Z,{children:e.maxGrade}),(0,q.jsx)(ue.Z,{children:(0,q.jsx)(_e.Z,{fontWeight:600,colorname:"EASY"===e.difficulty?"--green-500":"MEDIUM"===e.difficulty?"--orange-5":"--red-hard",children:"EASY"===e.difficulty?r("common_easy"):"MEDIUM"===e.difficulty?r("common_medium"):"HARD"===e.difficulty?r("common_hard"):0})}),(0,q.jsx)(ue.Z,{align:"center",children:(0,q.jsx)(pe.Z,{"translate-key":"contest_edit_problem_button",onClick:()=>{p(e.questionId),m(!0)},children:(0,q.jsx)(l.Z,{})})})]},t))),(!c||0===c.length)&&(0,q.jsx)(me.Z,{children:(0,q.jsx)(ue.Z,{colSpan:4,sx:{textAlign:"center"},children:(0,q.jsx)(X.Z,{className:ge.noList,"translation-key":"list_problem_not_found_data",children:r("list_problem_not_found_data")})})})]})]})})})]})]})},ze=()=>{const{t:e}=(0,N.$G)(),{contestId:t}=(0,o.UO)(),[a,s]=(0,S.useState)(!1),[n,r]=(0,S.useState)([]),[l,c]=(0,S.useState)((()=>v.ZP.language));(0,S.useEffect)((()=>{c(v.ZP.language)}),[v.ZP.language]);const u=[{field:"no",headerName:e("common_no"),flex:.4,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_no")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:e.row.no})},{field:"email",headerName:e("common_email"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_email")}),renderCell:e=>(0,q.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,q.jsx)(m.Z,{sx:{bgcolor:"".concat((0,z.M)("".concat(e.row.email)))},alt:e.row.email,src:e.row.avatarUrl,children:e.row.email.charAt(0)}),(0,q.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"createdAt",headerName:e("contest_sign_up_date"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("contest_sign_up_date")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:(0,D.J$)(e.row.createdAt,l)})}],x=(0,S.useCallback)((async(e,t,a)=>{s(!0);try{const i=await T.c.getSignUpsOfContest(e,t,a,!1);r(i.contestUsers),s(!1)}catch(i){console.error("error",i),s(!1)}}),[]),[h,p]=(0,S.useState)(0),[_,f]=(0,S.useState)(10),j=(0,S.useMemo)((()=>n.map(((e,t)=>{var a,i;return{id:"".concat(e.contestId).concat(e.user.userId),no:t+1,email:(null===(a=e.user)||void 0===a?void 0:a.email)||"",createdAt:e.createdAt,avatarUrl:(null===(i=e.user)||void 0===i?void 0:i.avatarUrl)||""}}))),[n]);return(0,S.useEffect)((()=>{t&&x(t,h,_)}),[t,x,h,_]),t?(0,q.jsx)(i.ZP,{container:!0,gap:2,direction:"column",sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)",minHeight:"600px"},children:(0,q.jsx)(i.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{loading:a,dataList:j,tableHeader:u,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:h,pageSize:_,totalElement:100,onPaginationModelChange:(e,a)=>{t&&(p(e.page),f(e.pageSize),x(t,e.page,e.pageSize))},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})})}):null};var De=a(84488),qe=a(73428);const Me={};var Le=a(22659),Ee=a(37401),We=a(44944),Re=a(36804),Oe=a(66713);const Ue=e=>"".concat(e,"%"),Be=e=>{let{data:t,contestId:a}=e;const{t:n}=(0,N.$G)(),r=(0,o.s0)(),l=(0,S.useMemo)((()=>(e,t)=>0===t?0:e/t*100),[]),c=(0,S.useMemo)((()=>null===t||void 0===t?void 0:t.contestQuestions.map(((e,t)=>"Problem ".concat(t+1)))),[t]),m=(0,S.useMemo)((()=>null===t||void 0===t?void 0:t.contestQuestions.map((e=>l(e.numOfCorrectSubmissions||0,e.numOfSubmissions||0)))),[t,l]),u=(0,S.useMemo)((()=>t?null===t||void 0===t?void 0:t.contestQuestions.map((e=>(0,z.M)("".concat(e.questionId).concat(e.name)))):[]),[t]);return t?(0,q.jsxs)(i.ZP,{container:!0,gap:2,direction:"column",className:Me.container,sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)",minHeight:"600px"},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(te.Z,{"translate-key":"common_statistics",children:n("common_statistics")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.totalUser,alt:"online user",style:{width:"35px"}}),title:n("common_signups").toUpperCase(),value:t.numOfSignUps,mainColor:"#28a745"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.loginTodayUser,alt:"online user",style:{width:"35px"}}),title:n("common_users_submitted").toUpperCase(),value:t.numOfParticipantsHavingSubmissions,mainColor:"#dc3545"})})]})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,q.jsx)(i.ZP,{container:!0,spacing:4,children:(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,q.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,q.jsx)(Z.Z,{"translate-key":"contest_details_problems_success_rates",children:n("contest_details_problems_success_rates")}),(0,q.jsx)(E.Z,{onClick:()=>{r(A._.admin.contest.submissions.replace(":contestId",a))},endDecorator:(0,q.jsx)(Oe.Z,{sx:{width:"17px"}}),"translate-key":"contest_details_view_all_submissions",children:n("contest_details_view_all_submissions")})]}),(0,q.jsx)(qe.Z,{color:"neutral",variant:"outlined",sx:{marginTop:"10px",height:"500px",display:"flex",justifyContent:"center",boxShadow:"lg",paddingBottom:"10px"},children:(0,q.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,q.jsx)(We.v,{borderRadius:10,colors:["#42A5F5","#66BB6A"],height:320,width:900,xAxis:[{scaleType:"band",data:c,colorMap:{type:"ordinal",values:c,colors:u}}],series:[{data:m,valueFormatter:Ue,label:"Success Rate (%)"}],sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"}},grid:{horizontal:!0},margin:{top:40,bottom:30},slotProps:{legend:{hidden:!0}}}),(0,q.jsx)(d.Z,{direction:"column",spacing:2,children:t.contestQuestions.map(((e,t)=>(0,q.jsx)(Re.Z,{label:"Problem ".concat(t+1,": ").concat(e.name),color:(0,z.M)("".concat(e.questionId).concat(e.name))},t)))})]})})]})})})]}):(0,q.jsxs)(i.ZP,{container:!0,gap:2,direction:"column",className:Me.container,sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)",minHeight:"600px"},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(te.Z,{"translate-key":"common_statistics",children:n("common_statistics")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(De.Z,{variant:"rectangular",width:"100%",height:"100px",sx:{borderRadius:"10px"}})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(De.Z,{variant:"rectangular",width:"100%",height:"100px",sx:{borderRadius:"10px"}})})]})})]})},Fe="styles_formBody__ZSG6f",He="styles_breadcump__T7a9E",Ge="styles_breadcumpWrapper__R7SGo",Ve="styles_tabs__55ljR",Qe=e=>{let{isDrawerOpen:t}=e;(0,S.useRef)(null);const{t:a}=(0,N.$G)(),i=(0,o.s0)(),{pathname:n}=(0,o.TH)(),[r,l]=(0,S.useState)(null),{contestId:c}=(0,o.UO)(),[d,m]=(0,S.useState)(!1),u=(0,P.I0)(),[x,h]=(0,S.useState)(""),p=(0,S.useMemo)((()=>[A._.admin.contest.edit.details,A._.admin.contest.edit.problems,A._.admin.contest.edit.advanced_settings,A._.admin.contest.edit.signups,A._.admin.contest.edit.statistics]),[A._]),g=(0,S.useMemo)((()=>{if(c){const e=p.findIndex((e=>{return t=e.replace(":contestId",c),!!n.startsWith(t);var t}));return-1===e?0:e}}),[n,p]),_=(0,S.useMemo)((()=>G.Ry().shape({isNoEndTime:G.O7().required(a("contest_is_no_end_time_required")),name:G.Z_().required(a("contest_name_required")).trim(""),startTime:G.Z_().required(a("contest_start_time_required")).trim("").test("startTime",a("contest_start_time_greater_than_current_time"),(function(e){return k()(e).isAfter(k()().utc())})),endTime:G.Z_().nullable().test("endTime",a("contest_end_time_required"),(function(e){return!!this.parent.isNoEndTime||!!e})).test("endTime",a("contest_end_time_greater_than_start_time"),(function(e){return!!this.parent.isNoEndTime||k()(e).isAfter(this.parent.startTime)})),thumbnailUrl:G.Z_().trim(""),description:G.Z_().trim(""),prizes:G.Z_().trim(""),rules:G.Z_().trim(""),scoring:G.Z_().trim(""),isPublic:G.O7().required(a("contest_is_public_required")),isRestrictedForum:G.O7().default(!1),isDisabledForum:G.O7().default(!1),problems:G.IX().of(G.Ry().shape({questionId:G.Z_().required(a("contest_question_id_required")),codeQuestionId:G.Z_().required(a("contest_code_question_id_required")),difficulty:G.Z_().required(a("contest_difficulty_required")),name:G.Z_().default("").trim(""),questionText:G.Z_().default("").trim(""),defaultMark:G.Rx().default(0),maxGrade:G.Rx().default(0)})).default([])})),[a]),{control:f,handleSubmit:Z,watch:b,formState:{errors:y},setValue:v,reset:C}=(0,H.cI)({resolver:(0,L.X)(_),defaultValues:{isNoEndTime:!1,name:"",startTime:k().utc().add(30,"minute").toISOString(),endTime:k().utc().add(1,"hour").toISOString(),thumbnailUrl:"",description:"",prizes:"",rules:"",scoring:"",isPublic:!1,isRestrictedForum:!1,isDisabledForum:!1,problems:[]}}),w=(0,S.useCallback)((async e=>{try{const t=await T.c.getContestById(e);if(t){const e=t.description?t.description:"Please provide a short description of your contest here!",a=t.prizes&&""!==t.prizes?t.prizes:"- Prizes are optional. You may add any prizes that you would like to offer here.",i=t.rules&&""!==t.rules?t.rules:"- Please provide any rules for your contest here.",s=t.scoring&&""!==t.scoring?t.scoring:"- Each challenge has a pre-determined score.<br/>\n              - A participant\u2019s score depends on the number of test cases a participant\u2019s code submission successfully passes.<br/>\n              - If a participant submits more than one solution per challenge, then the participant\u2019s score will reflect the highest score achieved.<br/>\n              - Participants are ranked by score. If two or more participants achieve the same score, then the tie is broken by the total time taken to submit the last solution resulting in a higher score";C({name:t.name,startTime:t.startTime,endTime:t.endTime?t.endTime:null,isNoEndTime:!t.endTime,thumbnailUrl:t.thumbnailUrl,description:e,prizes:a,rules:i,scoring:s,isPublic:t.isPublic,isRestrictedForum:t.isRestrictedForum,isDisabledForum:t.isDisabledForum,problems:t.questions.map((e=>({questionId:e.questionId,codeQuestionId:e.codeQuestionId,difficulty:e.difficulty,name:e.name,questionText:e.questionText,defaultMark:e.defaultMark,maxGrade:e.maxGrade})))}),h(t.name)}const a=await T.c.getAdminContestDetailsStatistics(e);a&&l(a)}catch(t){console.error("error",t)}}),[C]),z=(0,S.useCallback)((async(e,t)=>{m(!0);try{await T.c.updateContest(e,{name:t.name,description:t.description,thumbnailUrl:t.thumbnailUrl,prizes:t.prizes,rules:t.rules,scoring:t.scoring,isPublic:t.isPublic,startTime:t.startTime,endTime:t.isNoEndTime?null:t.endTime,isRestrictedForum:t.isRestrictedForum,isDisabledForum:t.isDisabledForum,questionIds:t.problems.map((e=>e.questionId))})?(u((0,I.kU)("Contest updated successfully")),w(e)):u((0,I.lS)("Failed to update contest")),m(!1)}catch(a){console.error("error",a),401===a.code||403===a.code?u((0,I.lS)("You are not authorized to update this contest")):u((0,I.lS)("Failed to update contest")),m(!1)}}),[u,w]);return(0,S.useEffect)((()=>{c&&w(c)}),[c,w]),c?(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(s.Z,{component:"form",className:Fe,onSubmit:Z((async e=>{c&&z(c,e)})),children:[(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(s.Z,{className:He,children:(0,q.jsx)(s.Z,{id:Ge,children:(0,q.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.contest.root,label:a("contest_management_title")}],lastBreadCrumbLabel:x})})}),(0,q.jsx)(s.Z,{sx:{margin:"0 20px"},children:(0,q.jsx)(j.Z,{children:x})}),(0,q.jsx)(s.Z,{sx:{margin:"20px",borderRadius:"5px",border:"1px solid #e0e0e0"},children:(0,q.jsxs)(Y.Z,{value:g,onChange:(e,t)=>{c&&i(p[t].replace(":contestId",c))},"aria-label":"basic tabs example",className:Ve,variant:"fullWidth",children:[(0,q.jsx)(J.Z,{sx:{textTransform:"none"},label:(0,q.jsx)(X.Z,{"translate-key":"common_details",children:a("common_details")}),value:0}),(0,q.jsx)(J.Z,{sx:{textTransform:"none"},label:(0,q.jsx)(X.Z,{"translate-key":"common_problems",children:a("common_problems")}),value:1}),(0,q.jsx)(J.Z,{sx:{textTransform:"none"},label:(0,q.jsx)(X.Z,{"translate-key":"common_advanced_settings",children:a("common_advanced_settings")}),value:2}),(0,q.jsx)(J.Z,{sx:{textTransform:"none"},label:(0,q.jsx)(X.Z,{"translate-key":"common_signups",children:a("common_signups")}),value:3}),(0,q.jsx)(J.Z,{sx:{textTransform:"none"},label:(0,q.jsx)(X.Z,{"translate-key":"common_statistics",children:a("common_statistics")}),value:4})]})}),(0,q.jsx)(s.Z,{children:(0,q.jsxs)(o.Z5,{children:[(0,q.jsx)(o.AW,{path:"details",element:(0,q.jsx)(re,{control:f,errors:y,setValue:v,watch:b})}),(0,q.jsx)(o.AW,{path:"problems",element:(0,q.jsx)(Te,{control:f,errors:y,setValue:v,watch:b})}),(0,q.jsx)(o.AW,{path:"advanced-settings",element:(0,q.jsx)(ae,{control:f,errors:y,setValue:v,watch:b})}),(0,q.jsx)(o.AW,{path:"signups",element:(0,q.jsx)(ze,{})}),(0,q.jsx)(o.AW,{path:"statistics",element:(0,q.jsx)(Be,{data:r,contestId:c})}),(0,q.jsx)(o.AW,{path:"*",element:(0,q.jsx)(ee.Z,{})})]})})]}),(0,q.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between",position:"fixed",bottom:"0px",padding:"20px",marginLeft:"-25px",backgroundColor:"white",borderTop:"1px solid #E0E0E0",width:t?"calc(100% - 270px)":"100%"},children:[(0,q.jsx)(E.Z,{variant:"outlined","translation-key":"contest_preview_contest_details_page",onClick:()=>i(A._.user.contest.detail.information.replace(":contestId",c)),children:a("contest_preview_contest_details_page")}),(0,q.jsx)(E.Z,{loading:d,variant:"solid",type:"submit","translation-key":"common_save_changes",children:a("common_save_changes")})]})]})}):null};var $e=a(46923),Ke=a(17592),Ye=a(86659);const Je="styles_drawer__nt9TU",Xe="styles_img__CARKn",et="styles_itemIcon__rdsV2";var tt=a(47477),at=a(90200),it=a(25614),st=a(11163),nt=a(34180),rt=a(57838),ot=a(75918),lt=a(74839);const ct=270,dt=(0,Ke.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:a}=e;return{flexGrow:1,width:"calc(100% - ".concat(ct,"px)"),overflow:"auto",padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(ct,"px"),...a&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}}));function mt(e){let{open:t,toggleDrawer:a,children:i}=e;const{t:n}=(0,N.$G)(),r=[{name:n("common_dashboard"),"translation-key":"common_dashboard",icon:(0,q.jsx)(it.Z,{className:et}),link:A._.admin.dashboard},{name:n("side_bar_contest_management"),"translation-key":"side_bar_contest_management",icon:(0,q.jsx)(rt.Z,{className:et}),link:A._.admin.contest.root},{name:n("user_management"),"translation-key":"user_management",icon:(0,q.jsx)(st.Z,{className:et}),link:A._.admin.users.root},{name:n("certificate_course_management_title"),"translation-key":"certificate_course_management_title",icon:(0,q.jsx)(ot.Z,{className:et}),link:A._.admin.certificate.root,children:[{name:n("certificate_course_list"),link:A._.admin.certificate.root},{name:n("create_certificate_course_title"),link:A._.admin.certificate.create}]},{name:n("code_management_title"),"translation-key":"code_management_title",icon:(0,q.jsx)(lt.Z,{className:et}),link:A._.admin.code_question.root},{name:n("question_bank_management"),"translation-key":"question_bank_management",icon:(0,q.jsx)(nt.Z,{className:et}),link:A._.admin.question_bank.root},{name:n("organization_management"),"translation-key":"organization_management",icon:(0,q.jsx)("img",{className:Xe,src:Ee.Z.admin.organizationIc,alt:"org ic"}),link:A._.admin.organizations.root}],o=(0,S.useRef)(null),{height:l}=(0,tt.Z)({ref:o});return(0,q.jsxs)(s.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,q.jsx)(at.Z,{toggleDrawer:a,ref:o}),(0,q.jsx)($e.ZP,{className:Je,sx:{width:ct,flexShrink:0,"& .MuiDrawer-paper":{width:ct}},variant:"persistent",anchor:"left",open:t,children:(0,q.jsx)(Ye.Z,{sideBarItem:r})}),(0,q.jsx)(dt,{open:t,sx:{marginTop:"".concat(l,"px"),height:"calc(100% - ".concat(l,"px)")},children:i})]})}var ut=a(27268),xt=a(72864),ht=a(84915),pt=a(47892),gt=a(26431),_t=a(72695),ft=a(83703),jt=a(5818),Zt=a(3948),bt=a(1229),yt=a(15067),vt=a(68919),Ct=a(26568),wt=a(31279);const kt=e=>{const{scaleType:t,data:a,startGradientColor:i,endGradientColor:s,series:n}=e,r=n.map(((e,t)=>e&&e.data&&0!==e.data.length?{id:t,data:e.data,label:e.label,area:e.area}:{id:t,data:[],label:"",area:!1}));return(0,q.jsx)(vt.w,{sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},...i.reduce(((e,t,a)=>({...e,["& .MuiAreaElement-series-".concat(a)]:{fill:"url(#swich-color-id-".concat(a,")")}})),{})},colors:i,xAxis:[{scaleType:t,data:0!==a.length?a:[]}],yAxis:[{scaleType:"linear",disableTicks:!0}],series:r,height:320,grid:{horizontal:!0},margin:{left:30,right:20,top:40,bottom:30},slotProps:{legend:{hidden:!0}},children:0!==i.length&&0!==s.length&&i.map(((e,t)=>(0,q.jsx)(St,{startGradientColor:e,endGradientColor:s[t],threshold:0,id:"swich-color-id-".concat(t)},t)))})},St=e=>{let{threshold:t,id:a,endGradientColor:i,startGradientColor:s}=e;const{top:n,height:r,bottom:o}=(0,Ct.z)(),l=n+o+r,c=(0,wt.Ff)()(t),d=void 0!==c?c/l:0;return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)("defs",{children:(0,q.jsxs)("linearGradient",{id:a,x1:"0",x2:"0",y1:"0",y2:"".concat(l,"px"),gradientUnits:"userSpaceOnUse",children:[(0,q.jsx)("stop",{offset:d,stopColor:s,stopOpacity:.4}),(0,q.jsx)("stop",{offset:d,stopColor:i,stopOpacity:0})]})})})};var Nt=a(89102),Pt=a(33060);const It=["#3498db","#e74c3c","#2ecc71","#f1c40f","#9b59b6"],At=()=>{var e;const t=new Date,{t:a}=(0,N.$G)(),n=(0,bt.Z)(),[r,o]=(0,S.useState)(!0),[l,c]=(0,S.useState)(0),[m,u]=(0,S.useState)(0),[x,h]=(0,S.useState)(0),[p,g]=(0,S.useState)(0),_=new Date,f=_.getMonth(),j=_.getFullYear(),[Z,b]=(0,S.useState)({totalUsers:0,activeUsers:0,offlineUsers:0,loginToday:0,registerUser:[],userByRole:[]}),[y,v]=(0,S.useState)({activeCourse:0,activeInactiveCourse:[],courseType:[],inactiveCourse:0,newCourses:void 0,recentAssignments:[],recentExam:[],totalCourse:0,totalEnrollments:0,userEnrollments:[]}),[C,w]=(0,S.useState)({totalContest:0,totalParticipants:0,activeContest:0,closedContest:0,upcomingContest:0,participantTrend:[],popularContest:[],popularContestName:[]}),[k,P]=(0,S.useState)({totalCertificateCourse:0,totalEnrollments:0,averageRating:0,totalParticipantCompletedCourse:0,enrollmentChart:[],topEnrolledCourse:[],chapterResourceType:[]}),[I,A]=(0,S.useState)(new Date(j,f+1,0).getDate()),z=[a("User"),a("Course"),a("Contest"),a("Certificate course")],D=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],M=31===I?["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"]:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],W=["Title","Course name","Type","Created at"],R=["Exam name","Course name","Created at"];return(0,S.useEffect)((()=>{(async()=>{await(async()=>{try{const e=await jt.K.getUserStatistics();b((t=>({...e,registerUser:e.registerUser.map((e=>({...e,area:!0})))})))}catch(e){console.log(e)}})(),await(async()=>{try{const e=await yt.N.getCourseStatistics();v((t=>({...e,userEnrollments:e.userEnrollments.map((e=>({...e,area:!0}))),activeInactiveCourse:e.activeInactiveCourse.map((e=>({...e,area:!0})))})))}catch(e){console.log(e)}})(),await(async()=>{try{const e=await T.c.getAdminContestStatistics();w((t=>({...e,participantTrend:e.participantTrend.map((e=>({...e,area:!0})))})))}catch(e){console.log(e)}})(),await(async()=>{try{const e=await Nt.M.getCertificateCourseStatistics();P((t=>({...e,enrollmentChart:e.enrollmentChart.map((e=>({...e,area:!0})))})))}catch(e){console.log(e)}})()})(),o(!1)}),[]),(0,S.useEffect)((()=>{console.log(k)}),[k]),(0,q.jsxs)(q.Fragment,{children:[r&&(0,q.jsxs)(i.ZP,{container:!0,spacing:2,sx:{padding:3},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(De.Z,{variant:"text",sx:{fontSize:"1rem"}})}),(0,q.jsx)(i.ZP,{item:!0,xs:6,children:(0,q.jsx)(De.Z,{variant:"text",height:50})}),(0,q.jsx)(i.ZP,{item:!0,xs:6}),(0,q.jsx)(i.ZP,{item:!0,xs:5,children:(0,q.jsx)(De.Z,{variant:"text",sx:{fontSize:"1.5rem"}})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(De.Z,{variant:"rounded",height:100})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(De.Z,{variant:"rounded",height:100})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(De.Z,{variant:"rounded",height:100})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,q.jsx)(De.Z,{variant:"rounded",height:100})})]})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:3,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,md:8,children:(0,q.jsx)(De.Z,{variant:"rounded",height:400})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,q.jsx)(De.Z,{variant:"rounded",height:400})})]})})]}),!r&&(0,q.jsxs)(i.ZP,{container:!0,spacing:2,sx:{padding:3},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsxs)(_t.Z,{sx:{height:"200px",display:"flex",flexDirection:"column",justifyContent:"space-between",background:"linear-gradient(145deg, #EDE7F6 30%, #D1C4E9 90%)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",color:"#333"},children:[(0,q.jsxs)(s.Z,{children:[(0,q.jsxs)(Pt.Z,{colorname:"--gray-80",children:["Hello, ",null===(e=n.loggedUser)||void 0===e?void 0:e.firstName,"! Welcome back to your dashboard"]}),(0,q.jsxs)(X.Z,{colorname:"--gray-60",children:["Today is ",["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][t.getDay()-1],", ",t.getDate()," ",["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ",t.getFullYear()]})]}),(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(X.Z,{colorname:"--gray-60",children:"What stats would you like to view today ?"}),(0,q.jsx)(xt.Z,{"aria-label":"tabs",defaultValue:l,value:l,sx:{backgroundColor:"transparent",width:"fit-content",marginTop:"5px"},onChange:(e,t)=>c(Number(t)||0),children:(0,q.jsx)(ht.Z,{disableUnderline:!0,sx:{p:.5,gap:.5,borderRadius:"xl",bgcolor:"background.level1",["& .".concat(pt.Z.root,'[aria-selected="true"]')]:{color:"#FFF",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",bgcolor:"#2196F3"}},children:z.map(((e,t)=>(0,q.jsx)(gt.Z,{disableIndicator:!0,children:e},t)))})})]})]})}),0===l&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:5,children:(0,q.jsx)(ye.Z,{children:"User"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.onlineUser,alt:"online user",style:{width:"35px"}}),title:"Active user",value:Z.activeUsers,mainColor:"#28a745"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.offlineUser,alt:"online user",style:{width:"35px"}}),title:"Offline user",value:Z.offlineUsers,mainColor:"#dc3545"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.totalUser,alt:"online user",style:{width:"35px"}}),title:"Total user",value:Z.totalUsers,mainColor:"#007bff"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.loginTodayUser,alt:"online user",style:{width:"35px"}}),title:"Total login today",value:Z.loginToday,mainColor:"#ffc107"})})]})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:8,children:[(0,q.jsx)(_e.Z,{children:"User register"}),(0,q.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:[(0,q.jsxs)(d.Z,{display:"flex",justifyContent:"flex-end",direction:"row",spacing:2,children:[(0,q.jsx)(E.Z,{variant:0===m?"outlined":"plain",onClick:()=>{0!==m&&u(0)},size:"sm",children:"Week"}),(0,q.jsx)(E.Z,{variant:1===m?"outlined":"plain",onClick:()=>{1!==m&&u(1)},size:"sm",children:"Month"}),(0,q.jsx)(E.Z,{variant:2===m?"outlined":"plain",onClick:()=>{2!==m&&u(2)},size:"sm",children:"Year"})]}),(0,q.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,q.jsx)(kt,{scaleType:"point",data:0===m?D:1===m?M:L,series:0===Z.registerUser.length?[]:0===m?[Z.registerUser[0]]:1===m?[Z.registerUser[1]]:[Z.registerUser[2]],startGradientColor:["#11B678"],endGradientColor:["#FF3143"]}),(0,q.jsx)(Re.Z,{label:"New user",color:"#11B678"})]})]})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:4,children:[(0,q.jsx)(_e.Z,{children:"User role"}),(0,q.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",boxShadow:"lg"},children:[(0,q.jsx)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,q.jsx)(Zt.u,{colors:It,series:[{data:Z.userByRole,innerRadius:10,cornerRadius:10}],height:300,sx:{maxWidth:"100%"},margin:{left:0,right:0,top:0,bottom:0},slotProps:{legend:{hidden:!0}}})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,alignItems:"center",marginTop:2,children:["User","Admin","Student Course","Lecturer","Admin course"].map(((e,t)=>(0,q.jsx)(i.ZP,{item:!0,children:(0,q.jsx)(Re.Z,{label:e,color:It[t]})},t)))})]})]})]})})]}),1===l&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:5,children:(0,q.jsx)(ye.Z,{children:"Course"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.course,alt:"Total course",style:{width:"35px"}}),title:"Total courses",value:y.totalCourse,mainColor:"#3498db"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.userEnrollment,alt:"Enrolled user",style:{width:"35px"}}),title:"Enrollments",value:y.totalEnrollments,mainColor:"#2ecc71"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.activeCourse,alt:"active course",style:{width:"35px"}}),title:"Active Courses",value:y.activeCourse,mainColor:"#f39c12"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.inactiveCourse,alt:"online user",style:{width:"35px"}}),title:"Inactive courses",value:y.inactiveCourse,mainColor:"#e74c3c"})})]})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,q.jsx)(_e.Z,{children:"Course Enrollment"}),(0,q.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:[(0,q.jsxs)(d.Z,{display:"flex",justifyContent:"flex-end",direction:"row",spacing:2,children:[(0,q.jsx)(E.Z,{variant:0===p?"outlined":"plain",onClick:()=>{0!==p&&g(0)},size:"sm",children:"Week"}),(0,q.jsx)(E.Z,{variant:1===p?"outlined":"plain",onClick:()=>{1!==p&&g(1)},size:"sm",children:"Month"}),(0,q.jsx)(E.Z,{variant:2===p?"outlined":"plain",onClick:()=>{2!==p&&g(2)},size:"sm",children:"Year"})]}),(0,q.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,q.jsx)(kt,{data:0===p?D:1===p?M:L,series:0===y.userEnrollments.length?[]:0===p?[y.userEnrollments[0]]:1===p?[y.userEnrollments[1]]:[y.userEnrollments[2]],scaleType:"point",startGradientColor:["#11B678"],endGradientColor:["#FF3143"]}),(0,q.jsx)(Re.Z,{label:"New Enrollment",color:"#11B678"})]})]})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:6,children:[(0,q.jsx)(_e.Z,{children:"Active / Inactive course"}),(0,q.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",boxShadow:"lg"},children:[(0,q.jsx)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,q.jsx)(Zt.u,{colors:It,series:[{data:y.activeInactiveCourse,innerRadius:10,cornerRadius:10}],height:300,sx:{maxWidth:"100%"},margin:{left:0,right:0,top:0,bottom:0},slotProps:{legend:{hidden:!0}}})}),(0,q.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",marginTop:2,children:[(0,q.jsx)(i.ZP,{item:!0,children:(0,q.jsx)(Re.Z,{label:"Active",color:It[0]})}),(0,q.jsx)(i.ZP,{item:!0,children:(0,q.jsx)(Re.Z,{label:"Inactive",color:It[1]})})]})]})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:6,children:[(0,q.jsx)(_e.Z,{children:"Course type"}),(0,q.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",boxShadow:"lg"},children:[(0,q.jsx)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,q.jsx)(Zt.u,{colors:It,series:[{data:y.courseType,innerRadius:10,cornerRadius:10}],height:300,sx:{maxWidth:"100%"},margin:{left:0,right:0,top:0,bottom:0},slotProps:{legend:{hidden:!0}}})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,alignItems:"center",marginTop:2,children:y.courseType.map(((e,t)=>(0,q.jsx)(i.ZP,{item:!0,children:(0,q.jsx)(Re.Z,{label:e.label,color:It[t]})},t)))})]})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:6,children:[(0,q.jsx)(_e.Z,{children:"Recent assignment"}),(0,q.jsx)(_t.Z,{color:"neutral",variant:"outlined",sx:{boxShadow:"lg",height:"400px"},children:(0,q.jsxs)(ft.Z,{variant:"soft",size:"lg",hoverRow:!0,sx:{backgroundColor:"#FBFCFE","& tbody tr:hover":{backgroundColor:"#f3f3f3"}},children:[(0,q.jsx)("thead",{children:(0,q.jsx)("tr",{children:W.map(((e,t)=>(0,q.jsx)("th",{style:{borderBottom:"2px solid rgb(128,128,128)"},children:(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",nonoverflow:!0,children:e})},t)))})}),(0,q.jsxs)("tbody",{children:[0!==y.recentAssignments.length&&(0,q.jsx)(q.Fragment,{children:y.recentAssignments.map(((e,t)=>(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",nonoverflow:!0,children:e.title})}),(0,q.jsx)("td",{children:(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",nonoverflow:!0,children:e.courseName})}),(0,q.jsx)("td",{children:(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",nonoverflow:!0,children:"FILE"===e.type?"File":"TEXT_ONLINE"===e.type?"Text online":"Both"})}),(0,q.jsx)("td",{children:(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",nonoverflow:!0,children:new Date(e.createdAt).toLocaleDateString()})})]},t)))}),0===y.recentAssignments.length&&(0,q.jsx)("tr",{children:(0,q.jsx)(ue.Z,{colSpan:W.length,children:(0,q.jsx)(s.Z,{display:"flex",alignItems:"center",justifyContent:"center",height:"300px",children:(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:"No data to display"})})})})]})]})})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:6,children:[(0,q.jsx)(_e.Z,{children:"Recent exam"}),(0,q.jsx)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",boxShadow:"lg"},children:(0,q.jsxs)(ft.Z,{variant:"soft",size:"lg",hoverRow:!0,sx:{backgroundColor:"#FBFCFE","& tbody tr:hover":{backgroundColor:"#f3f3f3"}},children:[(0,q.jsx)("thead",{children:(0,q.jsx)("tr",{children:R.map(((e,t)=>(0,q.jsx)("th",{style:{borderBottom:"2px solid rgb(128,128,128)"},children:(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e})},t)))})}),(0,q.jsxs)("tbody",{children:[0!==y.recentExam.length&&(0,q.jsx)(q.Fragment,{children:y.recentExam.map(((e,t)=>(0,q.jsxs)("tr",{children:[(0,q.jsx)("td",{children:(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:e.examName})}),(0,q.jsx)("td",{children:(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:e.courseName})}),(0,q.jsx)("td",{children:(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:new Date(e.createdAt).toLocaleDateString()})})]},t)))}),0===y.recentExam.length&&(0,q.jsx)("tr",{children:(0,q.jsx)(ue.Z,{colSpan:R.length,children:(0,q.jsx)(s.Z,{display:"flex",alignItems:"center",justifyContent:"center",height:"300px",children:(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:"No data to display"})})})})]})]})})]})]})})]}),2===l&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:5,children:(0,q.jsx)(ye.Z,{children:"Contest"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.contestDashboard,alt:"Total contest",style:{width:"35px",color:"white"}}),title:"Total contest",value:C.totalContest,mainColor:"#4CAF50"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.contestParticipant,alt:"Participant",style:{width:"35px"}}),title:"Total participants",value:C.totalParticipants,mainColor:"#2196F3"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.happeningContest,alt:"active contest",style:{width:"35px"}}),title:"Happening contest",value:C.activeContest,mainColor:"#FFEB3B"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.upcomingContest,alt:"upcomming contest",style:{width:"35px"}}),title:"Upcomming contest",value:C.upcomingContest,mainColor:"#FF9800"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.closedContest,alt:"closed contest",style:{width:"35px"}}),title:"Closed contest",value:C.closedContest,mainColor:"#F44336"})})]})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,q.jsx)(i.ZP,{container:!0,spacing:4,children:(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,q.jsx)(_e.Z,{children:"Contest Participant Trend"}),(0,q.jsx)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:(0,q.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,q.jsx)(kt,{data:L,series:0===C.participantTrend.length?[]:[C.participantTrend[0],C.participantTrend[1]],scaleType:"point",startGradientColor:["#42A5F5","#66BB6A"],endGradientColor:["#1E88E5","#43A047"]}),(0,q.jsxs)(d.Z,{direction:"row",spacing:2,children:[(0,q.jsx)(Re.Z,{label:"Participant",color:"#42A5F5"}),(0,q.jsx)(Re.Z,{label:"Average Participant",color:"#66BB6A"})]})]})})]})})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:6,children:(0,q.jsx)(i.ZP,{container:!0,spacing:4,children:(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,q.jsx)(_e.Z,{children:"Popular contest"}),(0,q.jsx)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:(0,q.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,q.jsx)(We.v,{borderRadius:10,colors:["#42A5F5","#66BB6A"],height:320,xAxis:[{scaleType:"band",data:C.popularContestName}],series:0===C.popularContest.length?[]:[{...C.popularContest[0],stack:"A",stackOffset:"none"},{...C.popularContest[1],stack:"A",stackOffset:"none"}],sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"}},grid:{horizontal:!0},yAxis:[{scaleType:"linear",disableTicks:!0}],margin:{left:30,right:20,top:40,bottom:30},slotProps:{legend:{hidden:!0}}}),(0,q.jsxs)(d.Z,{direction:"row",spacing:2,children:[(0,q.jsx)(Re.Z,{label:"Participant",color:"#66BB6A"}),(0,q.jsx)(Re.Z,{label:"Submission",color:"#42A5F5"})]})]})})]})})})]}),3===l&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:5,children:(0,q.jsx)(ye.Z,{children:"Certificate course"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:4,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.certificateCourse,alt:"Total certificate course",style:{width:"35px"}}),title:"Total certificate course",value:k.totalCertificateCourse,mainColor:"#6A1B9A"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.certificateEnrollment,alt:"Enrollment",style:{width:"35px"}}),title:"Total enrollment",value:k.totalEnrollments,mainColor:"#2196F3"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.certificateCompleted,alt:"active contest",style:{width:"35px"}}),title:"participant completed course",value:k.totalParticipantCompletedCourse,mainColor:"#4CAF50"})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,q.jsx)(Le.Z,{icon:(0,q.jsx)("img",{src:Ee.Z.admin.certificateRating,alt:"upcomming contest",style:{width:"35px"}}),title:"Average rating",value:Number(k.averageRating.toFixed(2)),mainColor:"#FFC107"})})]})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:12,children:(0,q.jsx)(i.ZP,{container:!0,spacing:4,children:(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,q.jsx)(_e.Z,{children:"Enrollment chart"}),(0,q.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:[(0,q.jsxs)(d.Z,{display:"flex",justifyContent:"flex-end",direction:"row",spacing:2,children:[(0,q.jsx)(E.Z,{variant:0===x?"outlined":"plain",onClick:()=>{0!==x&&h(0)},size:"sm",children:"Week"}),(0,q.jsx)(E.Z,{variant:1===x?"outlined":"plain",onClick:()=>{1!==x&&h(1)},size:"sm",children:"Month"}),(0,q.jsx)(E.Z,{variant:2===x?"outlined":"plain",onClick:()=>{2!==x&&h(2)},size:"sm",children:"Year"})]}),(0,q.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,q.jsx)(kt,{data:0===x?D:1===x?M:L,series:0===k.enrollmentChart.length?[]:0===x?[k.enrollmentChart[0]]:1===x?[k.enrollmentChart[1]]:[k.enrollmentChart[2]],scaleType:"point",startGradientColor:["#42A5F5"],endGradientColor:["#1E88E5"]}),(0,q.jsx)(Re.Z,{label:"New Enrollment",color:"#42A5F5"})]})]})]})})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,md:8,lg:8,children:(0,q.jsx)(i.ZP,{container:!0,spacing:4,children:(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,q.jsx)(_e.Z,{children:"Top Enrolled Course"}),(0,q.jsx)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:(0,q.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,q.jsx)(We.v,{borderRadius:10,colors:["#1E88E5","#1565C0"],height:320,xAxis:[{scaleType:"band",data:k.topEnrolledCourse.map((e=>e.label))}],series:0===k.topEnrolledCourse.length?[]:[{data:k.topEnrolledCourse.map((e=>e.data[0])),label:"Participant(s)"}],sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"}},grid:{horizontal:!0},yAxis:[{scaleType:"linear",disableTicks:!0}],margin:{left:30,right:20,top:40,bottom:30},slotProps:{legend:{hidden:!0}}}),(0,q.jsx)(Re.Z,{label:"Participant",color:"#1E88E5"})]})})]})})}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,md:4,lg:4,children:[(0,q.jsx)(_e.Z,{children:"Course Resource Type"}),(0,q.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",boxShadow:"lg"},children:[(0,q.jsx)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,q.jsx)(Zt.u,{colors:It,series:[{data:k.chapterResourceType,innerRadius:10,cornerRadius:10}],height:300,sx:{maxWidth:"100%"},margin:{left:0,right:0,top:0,bottom:0},slotProps:{legend:{hidden:!0}}})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,alignItems:"center",marginTop:2,children:k.chapterResourceType.map(((e,t)=>(0,q.jsx)(i.ZP,{item:!0,children:(0,q.jsx)(Re.Z,{label:e.label,color:It[t]})},t)))})]})]})]})]})]})};var Tt=a(85543),zt=a(1567),Dt=a(8344);const qt=()=>{const{t:e}=(0,N.$G)(),t=(0,o.s0)(),[a,s]=(0,S.useState)(""),[n,r]=(0,S.useState)((()=>v.ZP.language)),[x,h]=(0,S.useState)([{key:"belongToOrg",value:Tt.c.ALL}]),[C,w]=(0,S.useState)({currentPage:0,totalItems:0,totalPages:0,items:[]}),k=(0,P.v9)((e=>e.loading)),[T,M]=(0,S.useState)(!1),[L,E]=(0,S.useState)(""),W=(0,P.I0)(),R=(0,S.useCallback)((async t=>{let{searchName:a,pageNo:i=0,pageSize:s=10,belongToOrg:n=Tt.c.ALL}=t;W((0,Dt.K4)(!0));try{const e=await jt.K.getAllUser({searchName:a,pageNo:i,pageSize:s,belongToOrg:n});w({currentPage:e.currentPage,totalItems:e.totalItems,totalPages:e.totalPages,items:e.users}),W((0,Dt.K4)(!1))}catch(r){console.error("error",r),401!==r.code&&403!==r.code||W((0,I.lS)(e("common_please_login_to_continue"))),W((0,Dt.K4)(!1))}}),[W,e]),O=(0,S.useCallback)((e=>{R({searchName:e,belongToOrg:x[0].value})}),[R]),U=[{field:"email",headerName:"Email",flex:2.5,renderHeader:()=>(0,q.jsx)(Z.Z,{nonoverflow:!0,width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:"Email"}),renderCell:e=>(0,q.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,q.jsx)(m.Z,{sx:{bgcolor:"".concat((0,z.M)("".concat(e.row.firstName," ").concat(e.row.lastName)))},alt:e.row.email,src:e.row.avatarUrl,children:e.row.firstName.charAt(0)}),(0,q.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"fullname",headerName:e("common_fullname"),flex:1.5,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_fullname")}),renderCell:e=>(0,q.jsxs)(b.Z,{width:"auto",children:[e.row.firstName," ",e.row.lastName]})},{field:"lastLogin",headerName:e("common_last_login"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_last_login")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:(0,D.J$)(e.row.lastLogin,n)})},{field:"isDeleted",headerName:e("common_is_blocked"),flex:.6,align:"center",renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_is_blocked")}),renderCell:e=>(0,q.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isDeleted,sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"isBelongToOrganization",headerName:e("common_is_belong_to_organization"),flex:.6,align:"center",renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_is_belong_to_organization")}),renderCell:e=>(0,q.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isBelongToOrganization,sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"roleName",headerName:e("common_role"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_role")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:e.row.roleName})},{field:"action",headerName:e("common_action"),type:"actions",flex:.8,renderHeader:()=>(0,q.jsx)(y.Z,{width:"auto",sx:{textAlign:"left"},children:e("common_action")}),getActions:e=>[(0,q.jsx)(p.u,{icon:(0,q.jsx)(c.Z,{}),label:"Edit",onClick:()=>{t(A._.admin.users.edit.details.replace(":userId",e.row.userId),{state:{contestName:e.row.name}})}}),(0,q.jsx)(p.u,{onClick:()=>{E(e.row.userId),M(!0)},icon:(0,q.jsx)(l.Z,{}),label:"Delete"})]}],[B,F]=(0,S.useState)(0),[H,G]=(0,S.useState)(10),V=(0,S.useMemo)((()=>C.totalItems||0),[C.totalItems]),Q=(0,S.useMemo)((()=>[{name:zt.W.ADMIN,label:e("role_system_admin")},{name:zt.W.ADMIN_MOODLE,label:e("role_org_admin")},{name:zt.W.LECTURER_MOODLE,label:e("role_lecturer")},{name:zt.W.STUDENT_MOODLE,label:e("role_student")}]),[e]),$=(0,S.useCallback)((t=>{const a=Q.find((e=>null===t||void 0===t?void 0:t.roles.some((t=>(null===t||void 0===t?void 0:t.name)===e.name))));return a?a.label:e("role_user")}),[Q,e]),K=(0,S.useMemo)((()=>C.items.length>0?C.items.map((e=>({id:e.userId,userId:e.userId,email:e.email,firstName:e.firstName,lastName:e.lastName,avatarUrl:e.avatarUrl,lastLogin:e.lastLogin,phone:e.phone,address:e.address,dob:e.dob,isLinkedWithGoogle:e.isLinkedWithGoogle,isLinkedWithMicrosoft:e.isLinkedWithMicrosoft,createdAt:e.createdAt,roleName:$(e),isDeleted:e.isDeleted,isBelongToOrganization:!!e.organization}))):[]),[$,C.items]),Y=(0,S.useCallback)((()=>{R({searchName:a,belongToOrg:x[0].value})}),[R,a,x]),J=(0,S.useCallback)((()=>{R({searchName:a,belongToOrg:Tt.c.ALL})}),[R,a]);(0,S.useEffect)((()=>{r(v.ZP.language)}),[v.ZP.language]),(0,S.useEffect)((()=>{(async()=>{await R({searchName:"",belongToOrg:Tt.c.ALL})})()}),[W,R]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(_.Z,{isOpen:T,title:"Confirm delete",description:"Are you sure you want to delete this user?",onCancel:()=>{M(!1)},onDelete:async()=>{jt.K.deleteUserById(L).then((e=>{W((0,I.kU)("Delete user successfully")),R({searchName:"",belongToOrg:Tt.c.ALL})})).catch((e=>{console.error("error",e),W((0,I.lS)("Delete user failed"))})).finally((()=>{M(!1)}))}}),(0,q.jsxs)(i.ZP,{container:!0,spacing:2,sx:{padding:"0px 20px 20px 20px"},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(j.Z,{"translate-key":"user_management",children:e("user_management")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(f.Z,{isLoading:k.loading,searchValue:a,setSearchValue:s,onHandleChange:O,createBtnText:e("user_create"),onClickCreate:()=>{t(A._.admin.users.create)},numOfResults:V,filterKeyList:[{label:e("common_is_belong_to_organization"),value:"belongToOrg"}],filterValueList:{belongToOrg:[{label:e("common_all"),value:Tt.c.ALL},{label:e("user_belong_to_organization"),value:Tt.c.BELONG_TO_ORGANIZATION},{label:e("user_not_belong_to_organization"),value:Tt.c.NOT_BELONG_TO_ORGANIZATION}]},filters:x,handleChangeFilters:e=>{h(e)},onHandleApplyFilter:Y,onHandleCancelFilter:J})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{loading:k.loading,dataList:K,tableHeader:U,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:B,pageSize:H,totalElement:V,onPaginationModelChange:(e,t)=>{F(e.page),G(e.pageSize),R({searchName:a,pageNo:e.page,pageSize:e.pageSize,belongToOrg:x[0].value})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})},Mt={formBody:"styles_formBody__JisuN",breadcump:"styles_breadcump__irmYW",phoneInput:"styles_phoneInput__AtGfs"};var Lt=a(47006),Et=a(55181);const Wt=()=>{var e,t,a,n,r,l,c,d,m;const{t:u}=(0,N.$G)(),x=(0,o.s0)(),[h,p]=(0,S.useState)(!1),g=(0,P.I0)(),_=(0,S.useMemo)((()=>G.Ry().shape({email:G.Z_().required(u("email_required")).email(u("email_invalid")),password:G.Z_().required(u("password_required")).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,u("password_invalid")),confirmPassword:G.Z_().required(u("password_confirm_required")).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,u("password_invalid")).oneOf([G.iH("password")],u("password_confirm_not_match")),firstName:G.Z_().required(u("first_name_required")),lastName:G.Z_().required(u("last_name_required")),roleName:G.Ry().shape({id:G.Z_().required(u("role_required")),name:G.Z_().required(u("role_required"))}).required(u("role_required")),phone:G.Z_().matches(/^\+?[1-9][0-9]{7,14}$/,u("phone_number_invalid")).required(u("phone_required"))})),[u]),{handleSubmit:f,control:Z,formState:{errors:b},register:v}=(0,H.cI)({resolver:(0,L.X)(_)}),C=(0,S.useCallback)((async e=>{p(!0);try{await jt.K.createUserByAdmin(e),p(!1),g((0,I.kU)("Created user successfully")),x(A._.admin.users.root)}catch(t){console.error("error",t),g((0,I.lS)("User creation failed!!! please check your input information")),401!==t.code&&403!==t.code||g((0,I.lS)(u("common_please_login_to_continue"))),p(!1)}}),[u]),w=(0,S.useMemo)((()=>[{id:zt.W.ADMIN,name:u("role_system_admin")},{id:zt.W.USER,name:u("role_user")},{id:zt.W.LECTURER_MOODLE,name:u("role_lecturer")},{id:zt.W.STUDENT_MOODLE,name:u("role_student")},{id:zt.W.ADMIN_MOODLE,name:u("role_org_admin")}]),[u]);return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(s.Z,{className:Mt.breadcump,children:(0,q.jsx)(s.Z,{id:Mt.breadcumpWrapper,children:(0,q.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.users.root,label:u("user_management")}],lastBreadCrumbLabel:u("user_create")})})}),(0,q.jsxs)(s.Z,{sx:{padding:"0px 20px 20px 20px"},children:[(0,q.jsx)(j.Z,{"translate-key":"user_create",children:u("user_create")}),(0,q.jsxs)(s.Z,{component:"form",className:Mt.formBody,onSubmit:f((async e=>{const t={...e},a={email:t.email,password:t.password,firstName:t.firstName,lastName:t.lastName,roleName:t.roleName.id,phone:t.phone};await C(a)})),children:[(0,q.jsx)(Et.Z,{fullWidth:!0,title:u("common_role"),name:"roleName",control:Z,selectProps:{options:w},errorMessage:null===(e=b.roleName)||void 0===e||null===(t=e.id)||void 0===t?void 0:t.message}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,children:(0,q.jsx)(y.Z,{"translation-key":"common_phone",children:u("common_phone")})}),(0,q.jsxs)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:[(0,q.jsx)(H.Qr,{control:Z,name:"phone",render:e=>{let{field:t}=e;return(0,q.jsx)(Lt.ZP,{value:t.value,placeholder:"Enter phone number",onChange:t.onChange,className:Mt.phoneInput,defaultCountry:"VN"})}}),(null===(a=b.phone)||void 0===a?void 0:a.message)&&(0,q.jsx)(B.Z,{children:null===(n=b.phone)||void 0===n?void 0:n.message})]})]}),(0,q.jsx)(U.Z,{title:u("Email"),type:"text",inputRef:v("email"),errorMessage:null===b||void 0===b||null===(r=b.email)||void 0===r?void 0:r.message,width:"100%"}),(0,q.jsx)(U.Z,{title:u("first_name"),type:"text",inputRef:v("firstName"),errorMessage:null===b||void 0===b||null===(l=b.firstName)||void 0===l?void 0:l.message,width:"100%"}),(0,q.jsx)(U.Z,{title:u("last_name"),type:"text",inputRef:v("lastName"),errorMessage:null===b||void 0===b||null===(c=b.lastName)||void 0===c?void 0:c.message,width:"100%"}),(0,q.jsx)(U.Z,{title:u("common_password"),type:"password",inputRef:v("password"),errorMessage:null===b||void 0===b||null===(d=b.password)||void 0===d?void 0:d.message,width:"100%"}),(0,q.jsx)(U.Z,{title:u("common_password_confirm"),type:"password",inputRef:v("confirmPassword"),errorMessage:null===b||void 0===b||null===(m=b.confirmPassword)||void 0===m?void 0:m.message,width:"100%"}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,q.jsx)(E.Z,{loading:h,variant:"solid",type:"submit","translation-key":"user_create",children:u("user_create")})})]})]})]})})},Rt={formBody:"styles_formBody__TCInU",breadcump:"styles_breadcump__49WDQ",phoneInput:"styles_phoneInput__rGLcO"};var Ot=a(3185),Ut=a(11722),Bt=(a(96304),a(23208)),Ft=a(53781),Ht=a(10658),Gt=a.n(Ht),Vt=a(45904);const Qt=()=>{var e,t,a,n,r,l,c,d,x,p;const{t:g}=(0,N.$G)(),[_,f]=((0,o.s0)(),(0,S.useState)(!1)),Z=(0,P.I0)(),b=(0,S.useMemo)((()=>G.Ry().shape({firstName:G.Z_().required(g("first_name_required")),lastName:G.Z_().required(g("last_name_required")),dob:G.Z_(),phone:G.Z_().matches(/^\+?[1-9][0-9]{7,14}$/,g("phone_number_invalid")).required(g("phone_required")),roleName:G.Ry().shape({id:G.Z_().required(),name:G.Z_().required()}).required(g("role_required")),isDeleted:G.O7().required(g("organization_is_deleted_required"))})),[g]),{userId:C}=(0,o.UO)(),[w,k]=(0,S.useState)((()=>v.ZP.language)),[T,M]=(0,S.useState)(),W=(0,S.useMemo)((()=>[{id:zt.W.ADMIN,name:g("role_system_admin")},{id:zt.W.USER,name:g("role_user")}]),[g]),O=(0,S.useCallback)((e=>{const t=W.find((t=>null===e||void 0===e?void 0:e.roles.some((e=>(null===e||void 0===e?void 0:e.name)===t.id&&(null===e||void 0===e?void 0:e.name)!==zt.W.USER))));return t||W.find((e=>e.id===zt.W.USER))}),[W]),{handleSubmit:F,control:V,formState:{errors:Q},reset:$,register:K}=(0,H.cI)({resolver:(0,L.X)(b)});(0,S.useEffect)((()=>{k(v.ZP.language)}),[v.ZP.language]);const Y=(0,S.useCallback)((async e=>{try{const t=await jt.K.getUserById(e),a=O(t);t&&($({firstName:t.firstName,lastName:t.lastName,dob:(0,Ot.WU)(t.dob?t.dob:Date.now(),"dd-MM-yyyy"),phone:t.phone,roleName:a,isDeleted:t.isDeleted}),M(t))}catch(t){console.error("error",t)}}),[$,O]);(0,S.useEffect)((()=>{!T&&C&&Y(C)}),[T,Y,C]);const J=(0,S.useCallback)((async e=>{f(!0);try{if(!C)return;await jt.K.updateUserByAdmin(C,e),f(!1),Z((0,I.kU)("Updated user successfully"))}catch(t){console.error("error",t),Z((0,I.lS)("User is updated failed!!! please check your input information")),401!==t.code&&403!==t.code||Z((0,I.lS)(g("common_please_login_to_continue"))),f(!1)}}),[Z,g,C]);return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(s.Z,{className:Rt.breadcump,children:(0,q.jsx)(s.Z,{id:Rt.breadcumpWrapper,children:(0,q.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.users.root,label:g("user_management")}],lastBreadCrumbLabel:g("common_account_info")})})}),(0,q.jsxs)(s.Z,{sx:{padding:"0px 20px 20px 20px"},children:[(0,q.jsx)(j.Z,{"translate-key":"common_account_info",children:g("common_account_info")}),(0,q.jsxs)(s.Z,{component:"form",className:Rt.formBody,onSubmit:F((async e=>{const t={...e},a={firstName:t.firstName,lastName:t.lastName,dob:t.dob?(0,Ut.Qc)(t.dob,"dd-MM-yyyy",new Date):void 0,roleName:t.roleName.id,phone:t.phone,isDeleted:t.isDeleted};console.log(a),await J(a)})),children:[(0,q.jsx)(i.ZP,{container:!0,columns:12,justifyContent:"center",children:(0,q.jsx)(m.Z,{sx:{bgcolor:"".concat((0,z.M)("".concat(null===T||void 0===T?void 0:T.firstName," ").concat(null===T||void 0===T?void 0:T.lastName))),width:150,height:150,fontSize:"60px"},alt:null===T||void 0===T?void 0:T.email,src:null===T||void 0===T?void 0:T.avatarUrl,children:null===T||void 0===T?void 0:T.firstName.charAt(0)})}),(0,q.jsx)(Et.Z,{fullWidth:!0,title:g("common_role"),name:"roleName",control:V,selectProps:{options:W,placeholder:"Select role name"},errorMessage:null===(e=Q.roleName)||void 0===e||null===(t=e.id)||void 0===t?void 0:t.message}),(null===T||void 0===T?void 0:T.organization)&&(0,q.jsx)(U.Z,{title:g("common_organization_name"),type:"text",disabled:!0,value:null===T||void 0===T?void 0:T.organization.name,width:"100%"}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,children:(0,q.jsx)(y.Z,{"translation-key":"common_phone",children:g("common_phone")})}),(0,q.jsxs)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:[(0,q.jsx)(H.Qr,{control:V,name:"phone",render:e=>{let{field:t}=e;return(0,q.jsx)(Lt.ZP,{placeholder:"Enter phone number",value:t.value,onChange:t.onChange,className:Rt.phoneInput})}}),(null===(a=Q.phone)||void 0===a?void 0:a.message)&&(0,q.jsx)(B.Z,{children:null===(n=Q.phone)||void 0===n?void 0:n.message})]})]}),(0,q.jsx)(U.Z,{title:g("common_last_login"),type:"text",disabled:!0,value:(0,D.J$)(null===T||void 0===T?void 0:T.lastLogin,w),width:"100%"}),(0,q.jsx)(U.Z,{title:g("Email"),type:"text",disabled:!0,value:null===T||void 0===T?void 0:T.email,width:"100%"}),(0,q.jsx)(U.Z,{title:g("first_name"),type:"text",inputRef:K("firstName"),errorMessage:null===Q||void 0===Q||null===(r=Q.firstName)||void 0===r?void 0:r.message,width:"100%"}),(0,q.jsx)(U.Z,{title:g("last_name"),type:"text",inputRef:K("lastName"),errorMessage:null===Q||void 0===Q||null===(l=Q.lastName)||void 0===l?void 0:l.message,width:"100%"}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,children:(0,q.jsx)(y.Z,{"translation-key":"common_DOB",children:g("common_DOB")})}),(0,q.jsxs)(i.ZP,{item:!0,xs:7,children:[(0,q.jsx)(H.Qr,{control:V,name:"dob",render:e=>{let{field:t}=e;return(0,q.jsx)(Bt._,{dateAdapter:Vt.y,children:(0,q.jsx)(Ft.M,{label:"Date",value:Gt()(t.value,"DD/MM/YYYY"),inputRef:t.ref,onChange:e=>{null!==e&&void 0!==e&&e.isValid()&&t.onChange((0,Ot.WU)(null===e||void 0===e?void 0:e.toDate(),"dd-MM-yyyy"))}})})}}),(null===(c=Q.dob)||void 0===c?void 0:c.message)&&(0,q.jsx)(B.Z,{children:null===(d=Q.dob)||void 0===d?void 0:d.message})]})]}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,display:"flex",flexDirection:"row",alignItems:"center",children:(0,q.jsx)(y.Z,{"translation-key":"common_is_blocked",children:g("common_is_blocked")})}),(0,q.jsxs)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",children:[(0,q.jsx)(H.Qr,{control:V,name:"isDeleted",render:e=>{let{field:t}=e;return(0,q.jsx)(u.Z,{size:"large",checked:!!t.value,...t,name:"isDeleted"})}}),(null===(x=Q.isDeleted)||void 0===x?void 0:x.message)&&(0,q.jsx)(B.Z,{children:null===(p=Q.isDeleted)||void 0===p?void 0:p.message})]})]}),T&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsxs)(i.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center"},children:[Ee.Z.logo.moodleLogo&&(0,q.jsx)(m.Z,{alt:"Google",src:Ee.Z.logo.googleLogo,sx:{width:"40px",height:"40px"}}),(0,q.jsx)(X.Z,{sx:{marginLeft:"5px"},children:"Google"})]}),(0,q.jsx)(i.ZP,{item:!0,xs:7,sx:{display:"flex",alignItems:"center"},children:null!==T&&void 0!==T&&T.isLinkedWithGoogle?(0,q.jsx)(X.Z,{"translation-key":"user_detail_dialog_linked",children:g("user_detail_dialog_linked")}):(0,q.jsx)(X.Z,{"translation-key":"user_detail_dialog_not_linked",children:g("user_detail_dialog_not_linked")})})]}),(0,q.jsx)(h.Z,{}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsxs)(i.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center"},children:[Ee.Z.logo.moodleLogo&&(0,q.jsx)(m.Z,{alt:"Microsoft",src:Ee.Z.logo.microsoftLogo,sx:{width:"40px",height:"40px"}}),(0,q.jsx)(X.Z,{sx:{marginLeft:"5px"},children:"Microsoft"})]}),(0,q.jsx)(i.ZP,{item:!0,xs:7,sx:{display:"flex",alignItems:"center"},children:null!==T&&void 0!==T&&T.isLinkedWithMicrosoft?(0,q.jsx)(X.Z,{"translation-key":"user_detail_dialog_linked",children:g("user_detail_dialog_linked")}):(0,q.jsx)(X.Z,{"translation-key":"user_detail_dialog_not_linked",children:g("user_detail_dialog_not_linked")})})]}),(0,q.jsx)(h.Z,{})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,q.jsx)(E.Z,{loading:_,variant:"solid",type:"submit","translation-key":"user_update",children:g("user_update")})})]})]})]})})};var $t=a(90182),Kt=a(90414);const Yt=()=>{(0,S.useRef)(null);const{t:e}=(0,N.$G)(),t=(0,o.s0)(),[a,n]=(0,S.useState)(""),[r,u]=(0,S.useState)((()=>v.ZP.language)),[h,j]=S.useState([{key:"Status",value:"All"}]),[Z,b]=(0,S.useState)(0),[y,C]=(0,S.useState)(10),w=(0,P.v9)((e=>e.adminCertificateCourse)),k=(0,P.I0)(),T=(0,S.useCallback)((async t=>{let{searchName:a,pageNo:i=0,pageSize:s=10}=t;try{k((0,Dt.K4)(!0));const e=await Nt.M.getAllCertificateCourses({searchName:a,pageNo:i,pageSize:s});k((0,Kt.fm)(e)),k((0,Dt.K4)(!1))}catch(n){console.error("error",n),401!==n.code&&403!==n.code||k((0,I.lS)(e("common_please_login_to_continue"))),k((0,Dt.K4)(!1))}}),[k,e]);(0,S.useEffect)((()=>{(async()=>{k((0,Dt.K4)(!0)),await T({}),k((0,Dt.K4)(!1))})(),console.log("certificate list",w.certificateCourses)}),[k,T]);const z=(0,S.useCallback)((e=>{T({searchName:e})}),[T]),[D,M]=(0,S.useState)(!1),[L,E]=(0,S.useState)(""),W=(0,S.useMemo)((()=>w.certificateCourses.totalItems||0),[w.certificateCourses]),O=(0,S.useMemo)((()=>w.certificateCourses.certificateCourses.map((e=>({...e,id:e.certificateCourseId})))),[w.certificateCourses]),U=(0,S.useMemo)((()=>[{field:"name",headerName:e("common_name"),renderHeader:()=>(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e("common_name")}),flex:1,renderCell:e=>(0,q.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,q.jsx)(m.Z,{alt:e.row.name,src:e.row.topic.thumbnailUrl}),(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:e.row.name})]})},{field:"skillLevel",headerName:e("common_skill"),renderHeader:()=>(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e("common_skill")}),flex:.8,renderCell:e=>(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:e.row.skillLevel})},{field:"programmingLanguages",headerName:e("common_programming_languages"),renderHeader:()=>(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e("common_programming_languages")}),flex:1,renderCell:e=>{var t;return(0,q.jsx)(i.ZP,{container:!0,spacing:1,children:null===(t=e.row.topic.programmingLanguages)||void 0===t?void 0:t.map(((e,t)=>(0,q.jsx)(i.ZP,{item:!0,children:(0,q.jsx)(x.Z,{label:e.name,size:"small"},t)})))})}},{field:"avgRating",headerName:e("common_avg_rating"),renderHeader:()=>(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e("common_avg_rating")}),flex:.3,renderCell:e=>(0,q.jsx)(X.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:e.row.avgRating})},{field:"action",headerName:e("common_action"),type:"actions",flex:.6,renderHeader:()=>(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e("common_action")}),getActions:e=>[(0,q.jsx)(p.u,{icon:(0,q.jsx)(c.Z,{}),label:"Edit",onClick:()=>{}}),(0,q.jsx)(p.u,{icon:(0,q.jsx)(l.Z,{}),label:"Delete",onClick:()=>{E(e.row.certificateCourseId),M(!0)}})]}]),[]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)($t.q,{children:(0,q.jsx)("title",{children:e("certificate_course_management")})}),(0,q.jsx)(_.Z,{isOpen:D,title:e("dialog_confirm_delete_title"),description:e("dialog_confirm_delete_description"),onCancel:()=>{M(!1)},onDelete:async()=>{Nt.M.deleteCertificateCourseById(L).then((t=>{b(0),T({searchName:a,pageNo:0,pageSize:y}),k((0,I.kU)(e("delete_certificate_course_success")))})).catch((t=>{console.error("error",t),k((0,I.lS)(e("delete_certificate_course_failed")))})).finally((()=>{M(!1)}))}}),(0,q.jsx)(s.Z,{sx:{paddingLeft:"13px"},children:(0,q.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.dashboard,label:"Home"}],lastBreadCrumbLabel:"Certificate Course Management"})}),(0,q.jsxs)(i.ZP,{container:!0,spacing:2,sx:{padding:"0 20px"},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(ye.Z,{"translate-key":"certificate_course_management_title",children:e("certificate_course_management_title").toUpperCase()})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(f.Z,{isFilter:!1,isLoading:w.isLoading,searchValue:a,setSearchValue:n,onHandleChange:z,createBtnText:e("certificate_course_create_btn"),onClickCreate:()=>{t(A._.admin.certificate.create)},numOfResults:W,filters:h,handleChangeFilters:e=>{j(e)}})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{loading:w.isLoading,dataList:O,tableHeader:U,onSelectData:()=>{},dataGridToolBar:{enableToolbar:!0},page:Z,pageSize:y,totalElement:W,onPaginationModelChange:(e,t)=>{b(e.page),C(e.pageSize),T({searchName:a,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!1,getRowHeight:()=>"50",sx:{"&.MuiDataGrid-withBorderColor":{border:"1px solid white"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"white",borderBottom:"2px solid var(--gray-50)"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"},minHeight:"500px"},personalSx:!0})})]})]})};var Jt=a(47825),Xt=a(19545),ea=a(51293),ta=a(99140);const aa={root:"styles_root__xDdAG","tab-panel":"styles_tab-panel__WzBof",container:"styles_container__FaGsa",tabWrapper:"styles_tabWrapper__1G6+z",formBody:"styles_formBody__EDP8V",linkLevel:"styles_linkLevel__WSkd-",breadCump:"styles_breadCump__+6Hwz",stickyFooterItem:"styles_stickyFooterItem__OFfcg",phantom:"styles_phantom__D+0dg",stickyFooterContainer:"styles_stickyFooterContainer__XbfH9"};var ia=a(43750),sa=a(72619),na=a(65339),ra=a(39113),oa=a(25231),la=a(571),ca=a(93588),da=a(1550),ma=a(70441);function ua(e){let{open:t,title:a,questionType:s,handleChangeQuestionType:n,handleClose:r,children:o,cancelText:l,confirmText:c,onHandleCancel:d,onHanldeConfirm:m,...u}=e;const{t:x}=(0,N.$G)(),[h,p]=S.useState(Object.values(ia.Z).map((e=>e.code)).some((e=>e===s)));return(0,q.jsx)(be.Z,{open:t,handleClose:r,title:a,cancelText:l,confirmText:c,onHandleCancel:d,onHanldeConfirm:m,confirmDisabled:!h,...u,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,minWidth:"450px",children:[(0,q.jsxs)(i.ZP,{item:!0,xs:6,children:[(0,q.jsx)(y.Z,{paddingBottom:"10px","translation-key":"common_question",children:x("common_question")}),(0,q.jsx)(da.Z,{component:"fieldset",sx:{maxHeight:"200px",overflowY:"auto"},children:(0,q.jsx)(ma.Z,{ariaLabel:"question-type",value:s,handleChange:e=>{p(!0),n(e)},items:[{value:"essay",label:x("common_question_type_essay")},{value:"multiple-choice",label:x("common_question_type_multi_choice")},{value:"short-answer",label:x("common_question_type_short")},{value:"true-false",label:x("common_question_type_yes_no")},{value:"code",label:x("common_question_type_code")}],"translation-key":["common_question_type_essay","common_question_type_short","common_question_type_multi_choice","common_question_type_yes_no","common_question_type_code"]})})]}),(0,q.jsx)(i.ZP,{item:!0,xs:6,children:(0,q.jsxs)(X.Z,{"translation-key":["common_question_type_yes_no","common_question_type_multi_choice","common_question_type_short","common_question","common_question_type_essay","common_question_type_code"],children:["essay"===s&&"".concat(x("common_question_type_essay")," ").concat(x("common_question")),"multiple-choice"===s&&"".concat(x("common_question_type_multi_choice")," ").concat(x("common_question")),"short-answer"===s&&"".concat(x("common_question_type_short")," ").concat(x("common_question")),"true-false"===s&&"".concat(x("common_question_type_yes_no")," ").concat(x("common_question")),"code"===s&&"".concat(x("common_question_type_code")," ").concat(x("common_question"))]})})]})})}var xa=a(43714),ha=a(51344),pa=a(2749),ga=a(80610);const _a=()=>{var e,t,a;const i=(0,P.I0)(),n=(0,P.v9)((e=>e.questionBankCategory)),r=(0,P.v9)((e=>e.questionCategory)),m=(0,o.s0)(),{categoryId:u}=(0,o.UO)(),{t:x}=(0,N.$G)(),[h,_]=(0,S.useState)(""),[f,b]=(0,S.useState)(5),[y,C]=(0,S.useState)(0),[w,k]=(0,S.useState)(!1),[I,T]=(0,S.useState)(ia.Z.essay.code),[z,D]=(0,S.useState)(!1),[M,L]=(0,S.useState)(!1),[E,W]=S.useState(!1),[R,O]=S.useState(!1),[U,B]=S.useState(!1),[F,H]=S.useState(),G=((e,t)=>t.map(((t,a)=>e[a]={...e[a],renderHeader:e=>(0,q.jsx)(X.Z,{fontWeight:700,children:t})})))([{field:"stt",sortable:!1,width:20,align:"center",headerClassName:aa["table-head"],renderCell:e=>(0,q.jsx)(X.Z,{children:e.row.stt})},{field:"questionName",sortable:!1,flex:2,headerClassName:aa["table-head"],renderCell:e=>(0,q.jsx)(X.Z,{children:e.row.name})},{field:"description",sortable:!1,flex:3,headerClassName:aa["table-head"],renderCell:e=>{var t;return(0,q.jsx)(X.Z,{children:(0,q.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==(t=e.row.questionText)&&void 0!==t?t:""}})})}},{field:"qtype",sortable:!1,flex:2,headerClassName:aa["table-head"],renderCell:e=>(0,q.jsx)(X.Z,{children:e.row.qtypeText})},{field:"created",sortable:!1,flex:2,renderCell:e=>(0,q.jsxs)("div",{children:[(0,q.jsxs)(X.Z,{children:[e.row.createdBy.firstName," ",e.row.createdBy.lastName]}),(0,q.jsx)("div",{children:Gt()(e.row.createdAt).format("DD/MM/YYYY")})]}),headerClassName:aa["table-head"]},{field:"updated",sortable:!1,flex:2,renderCell:e=>(0,q.jsxs)("div",{children:[(0,q.jsxs)(X.Z,{children:[e.row.updatedBy.firstName," ",e.row.updatedBy.lastName]}),(0,q.jsx)("div",{children:Gt()(e.row.updatedAt).format("DD/MM/YYYY")})]}),headerClassName:aa["table-head"]},{field:"operation",sortable:!1,flex:2,type:"actions",cellClassName:"actions",getActions:e=>[(0,q.jsx)(p.u,{icon:(0,q.jsx)(Xt.Z,{}),label:"Preview",onClick:()=>{switch(console.log(e.row,"params.row"),e.row.qtype.toString().toUpperCase()){case"MULTIPLE_CHOICE":B(!U);break;case"ESSAY":D(!z);break;case"SHORT_ANSWER":H(e.row),W(!E);break;case"TRUE_FALSE":O(!R)}}}),(0,q.jsx)(p.u,{icon:(0,q.jsx)(c.Z,{}),label:"Edit",sx:{color:"primary.main"},onClick:()=>{k(!1),m("update/".concat(I))}}),(0,q.jsx)(p.u,{icon:(0,q.jsx)(l.Z,{}),label:"Delete",className:"textPrimary",onClick:Q.bind(null,e.row.id.toString()),sx:{color:ea.Z[500]}})],headerClassName:aa["table-head"]}],x("question_bank_category_question_list_header_table",{returnObjects:!0})),V=async e=>{let{categoryId:t,isOrgQuestionBank:a=!0,search:s=h,pageNo:n=y,pageSize:r=f}=e;try{const e=await na.a.getQuestionsByCategoryId({categoryId:t,isOrgQuestionBank:a,search:s,pageNo:n,pageSize:r});i((0,ra.kh)(e))}catch(o){console.error("Failed to fetch questions by category id",o)}},Q=async e=>{try{await na.a.deleteQuestionById(e)&&V({categoryId:u||"",search:h,pageNo:y,pageSize:f})}catch(t){console.error("Failed to delete question",t)}};return(0,S.useEffect)((()=>{u&&((async e=>{try{const t=await la._.getQuestionBankCategoryById(e);i((0,oa.yi)(t))}catch(t){console.log(t)}})(u),V({categoryId:u,isOrgQuestionBank:!0,search:h,pageNo:y,pageSize:f}))}),[u,h,y,f,n.tab]),(0,q.jsxs)("div",{children:[(0,q.jsx)(ua,{open:w,handleClose:()=>k(!1),"transaltion-key":"question_bank_add_question_title",title:x("question_bank_add_question_title"),cancelText:"H\u1ee7y b\u1ecf",confirmText:"Th\xeam",onHanldeConfirm:()=>{var e;k(!1);m("create/".concat(I),{state:{isAdminQuestionBank:!0,isOrgQuestionBank:!0,categoryName:null===(e=n.categoryDetails)||void 0===e?void 0:e.name}})},onHandleCancel:()=>k(!1),questionType:I,handleChangeQuestionType:T}),(0,q.jsx)(ga.Z,{open:U,setOpen:B,"aria-labelledby":"customized-dialog-title1",maxWidth:"md",fullWidth:!0}),(0,q.jsx)(sa.Z,{open:z,setOpen:D,"aria-labelledby":"customized-dialog-title2",maxWidth:"md",fullWidth:!0}),(0,q.jsx)(ha.Z,{open:E,question:F,setOpen:W,"aria-labelledby":"customized-dialog-title3",maxWidth:"md",fullWidth:!0}),(0,q.jsx)(pa.Z,{open:R,setOpen:O,"aria-labelledby":"customized-dialog-title4",maxWidth:"md",fullWidth:!0}),(0,q.jsx)(s.Z,{className:aa.tabWrapper,children:(0,q.jsxs)(X.Z,{className:aa.breadCump,colorname:"--gray-50",fontWeight:"600",children:[(0,q.jsx)("span",{onClick:()=>m(A._.lecturer.question_bank.path),"translation-key":"common_question_bank",children:v.ZP.format(x("common_question_bank"),"firstUppercase")})," ","> ",(0,q.jsx)("span",{onClick:()=>m("."),children:null===(e=n.categoryDetails)||void 0===e?void 0:e.name})]})}),(0,q.jsx)(Jt.Z,{children:(0,q.jsxs)(d.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,q.jsx)(j.Z,{fontWeight:500,children:null===(t=n.categoryDetails)||void 0===t?void 0:t.name}),(0,q.jsxs)(Z.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"question_bank_create_category_info",children:[x("question_bank_create_category_info"),": ",null===(a=n.categoryDetails)||void 0===a?void 0:a.description]}),(0,q.jsxs)(d.Z,{direction:{xs:"column",md:"row"},spacing:1,children:[(0,q.jsx)(ta.Z,{btnType:ta.s.Primary,onClick:()=>k(!0),children:(0,q.jsxs)(X.Z,{paddingX:3,"translation-key":"common_add_question",children:[" ",x("common_add_question")]})}),(0,q.jsx)(ta.Z,{btnType:ta.s.Outlined,onClick:()=>{m("ai/create")},children:(0,q.jsx)(X.Z,{paddingX:3,"translation-key":"question_bank_category_question_list_create_by_AI",children:x("question_bank_category_question_list_create_by_AI")})})]}),(0,q.jsx)(ca.Z,{isLoading:!1,"translation-key":"question_bank_category_question_list_enter_question_name",placeHolder:"".concat(x("question_bank_category_question_list_enter_question_name")," ..."),value:h,setValue:_,options:[],onHandleChange:async e=>{_(e)}}),(0,q.jsx)(g.Z,{sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},dataList:r.questions.map(((e,t)=>({stt:t+1,qtypeText:e.qtype===xa.S.SHORT_ANSWER?"c\xe2u h\u1ecfi ng\u1eafn":e.qtype===xa.S.MULTIPLE_CHOICE?"c\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m":e.qtype===xa.S.ESSAY?"c\xe2u h\u1ecfi t\u1ef1 lu\u1eadn":e.qtype===xa.S.TRUE_FALSE?"c\xe2u h\u1ecfi \u0111\xfang/sai":e.qtype===xa.S.CODE?"c\xe2u h\u1ecfi code":"",...e}))),tableHeader:G,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:y,pageSize:f,totalElement:r.totalItems,onPaginationModelChange:(e,t)=>{C(e.page),b(e.pageSize),u&&V({categoryId:u,isOrgQuestionBank:!0,search:h,pageNo:y,pageSize:f})},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})]})})]})};var fa=a(34754),ja=a(28259),Za=a(45429),ba=a(27271),ya=a(79091),va=a(94469),Ca=a(33604),wa=a(96467),ka=a(4117),Sa=a(15305),Na=a(11198);const Pa={};var Ia=a(33117);const Aa=()=>{const[e,t]=(0,S.useState)(""),{t:a}=(0,N.$G)(),s=(0,P.v9)((e=>e.questionBankCategory)),n=(0,P.v9)(Ia.HF),r=(0,P.v9)((e=>e.questionBankCategory)),m=(0,P.I0)(),u=(0,o.s0)(),[x,h]=(0,S.useState)(5),[Z,b]=(0,S.useState)(0),y=(0,S.useMemo)((()=>s.categories.totalItems||0),[s.categories]),[C,w]=(0,S.useState)(!1),[k,A]=(0,S.useState)(""),[T,z]=(0,S.useState)(),[D,M]=(0,S.useState)({}),[L,E]=(0,S.useState)({}),[W,R]=(0,S.useState)(!1),[O,U]=(0,S.useState)(!1),B=e=>{u("".concat(e.row.id))},F=(0,S.useCallback)((async t=>{let{search:i=e,pageNo:s=Z,pageSize:n=x}=t;m((0,oa.K4)(!0));try{const e=await la._.getQuestionBankCategories({isOrgQuestionBank:!0,search:i,pageNo:s,pageSize:n});m((0,oa.DG)(e)),m((0,oa.K4)(!1))}catch(r){console.error("error",r),401!==r.code&&403!==r.code||m((0,I.lS)(a("common_please_login_to_continue"))),m((0,oa.K4)(!1))}}),[m,a]),H=(0,S.useCallback)((e=>{F({search:e})}),[F]),G=[{field:"stt",sortable:!1,flex:.7,align:"center",headerClassName:Pa["table-head"],renderCell:e=>(0,q.jsx)(X.Z,{children:e.row.stt})},{field:"category",sortable:!1,flex:2,headerClassName:Pa["table-head"],renderCell:e=>(0,q.jsx)(X.Z,{children:e.row.name})},{field:"organizationName",sortable:!1,flex:2,headerClassName:Pa["table-head"],renderCell:e=>(0,q.jsx)(X.Z,{children:e.row.organizationName})},{field:"created",sortable:!1,flex:2,renderCell:e=>(0,q.jsxs)("div",{children:[(0,q.jsx)(X.Z,{children:e.row.createdByName}),(0,q.jsx)("div",{children:Gt()(e.row.createdAt).format("DD/MM/YYYY HH:mm")})]}),headerClassName:Pa["table-head"]},{field:"updated",sortable:!1,flex:2,renderCell:e=>(0,q.jsxs)("div",{children:[(0,q.jsx)(X.Z,{children:e.row.updatedByName}),(0,q.jsx)("div",{children:Gt()(e.row.updatedAt).format("DD/MM/YYYY HH:mm")})]}),headerClassName:Pa["table-head"]},{field:"operation",sortable:!1,flex:1,type:"actions",cellClassName:"actions",getActions:e=>{let{id:t}=e;return[(0,q.jsx)(p.u,{icon:(0,q.jsx)(c.Z,{}),label:"Save",sx:{color:"primary.main"},onClick:()=>{const e=s.categories.questionBankCategories.find((e=>e.id===t));e&&(z(e),M(e),U(!0))}}),(0,q.jsx)(p.u,{icon:(0,q.jsx)(l.Z,{}),label:"Cancel",className:"textPrimary",onClick:()=>{A(t),w(!0)},sx:{color:ea.Z[500]}})]},headerClassName:Pa["table-head"]}];(0,S.useEffect)((()=>{(async()=>{r.categories.questionBankCategories.length>0||(m((0,Dt.K4)(!0)),await F({search:e}),m((0,Dt.K4)(!1)))})()}),[m,F,s.categories.questionBankCategories]);const V=((e,t)=>t.map(((t,a)=>e[a]={...e[a],renderHeader:e=>(0,q.jsx)(X.Z,{fontWeight:700,children:t})})))(G,a("question_bank_category_header_table",{returnObjects:!0}));return(0,q.jsxs)("div",{children:[(0,q.jsx)(Jt.Z,{children:(0,q.jsxs)(d.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,q.jsx)(j.Z,{fontWeight:"500","translation-key":"common_question_bank",children:v.ZP.format(a("common_question_bank"),"firstUppercase")}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(f.Z,{isLoading:r.isLoading,searchValue:e,setSearchValue:t,onHandleChange:H,createBtnText:a("common_add_new"),onClickCreate:()=>{R(!0)},numOfResults:y,isFilter:!1})}),(0,q.jsx)(g.Z,{loading:s.isLoading,dataList:s.categories.questionBankCategories.map(((e,t)=>({stt:t+1,...e}))),tableHeader:V,onSelectData:B,dataGridToolBar:{enableToolbar:!0},page:Z,pageSize:x,totalElement:y,onPaginationModelChange:(t,a)=>{b(t.page),h(t.pageSize),F({search:e,pageNo:t.page,pageSize:t.pageSize})},showVerticalCellBorder:!0,onClickRow:B,sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})]})}),(0,q.jsxs)(va.Z,{"aria-labelledby":"customized-dialog-title",open:W,onClose:()=>R(!1),maxWidth:"sm",fullWidth:!0,children:[(0,q.jsx)(Ca.Z,{sx:{m:0,p:2},id:"customized-dialog-title","translation-key":"question_bank_create_category",children:a("question_bank_create_category")}),(0,q.jsx)(pe.Z,{"aria-label":"close",sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},onClick:()=>R(!1),children:(0,q.jsx)(Na.Z,{})}),(0,q.jsx)(wa.Z,{dividers:!0,children:(0,q.jsxs)(d.Z,{spacing:1,children:[(0,q.jsx)(Sa.Z,{"translation-key":"question_bank_create_category_name",name:"Outlined",placeholder:a("question_bank_create_category_name"),onChange:e=>{E({...L,name:e.target.value})},variant:"outlined",minRows:1}),(0,q.jsx)(Sa.Z,{"transaltion-key":"question_bank_create_category_info",name:"Outlined",placeholder:a("question_bank_create_category_info"),onChange:e=>{E({...L,description:e.target.value})},variant:"outlined",minRows:4})]})}),(0,q.jsx)(ka.Z,{children:(0,q.jsx)(ta.Z,{btnType:ta.s.Primary,onClick:()=>R(!1),children:(0,q.jsxs)(X.Z,{"translation-key":"common_save",onClick:async()=>{try{await la._.createQuestionBankCategory({name:(null===L||void 0===L?void 0:L.name)||"",description:(null===L||void 0===L?void 0:L.description)||"",isOrgQuestionBank:!0,createdBy:n.userId}),F({search:e})}catch(t){console.log(t)}},children:[" ",a("common_save")]})})})]}),(0,q.jsxs)(va.Z,{"aria-labelledby":"customized-dialog-title-edit",open:O,onClose:()=>{U(!1)},maxWidth:"sm",fullWidth:!0,children:[(0,q.jsx)(Ca.Z,{sx:{m:0,p:2},id:"customized-dialog-title-edit","translation-key":"question_bank_edit_category",children:a("question_bank_edit_category")}),(0,q.jsx)(pe.Z,{"aria-label":"close",sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},onClick:()=>U(!1),children:(0,q.jsx)(Na.Z,{})}),(0,q.jsx)(wa.Z,{dividers:!0,children:(0,q.jsxs)(d.Z,{spacing:1,children:[(0,q.jsx)(Sa.Z,{"translation-key":"question_bank_create_category_name",name:"Outlined",defaultValue:(null===T||void 0===T?void 0:T.name)||"",onChange:e=>{M({...D,name:e.target.value})},variant:"outlined",minRows:1}),(0,q.jsx)(Sa.Z,{"transaltion-key":"question_bank_create_category_info",name:"Outlined",defaultValue:(null===T||void 0===T?void 0:T.description)||"",onChange:e=>{M({...D,description:e.target.value})},variant:"outlined",minRows:4})]})}),(0,q.jsx)(ka.Z,{children:(0,q.jsx)(ta.Z,{btnType:ta.s.Primary,onClick:()=>U(!1),children:(0,q.jsxs)(X.Z,{"translation-key":"common_save",onClick:async()=>{try{await la._.updateQuestionBankCategory({id:(null===T||void 0===T?void 0:T.id)||"",name:(null===D||void 0===D?void 0:D.name)||"",description:(null===D||void 0===D?void 0:D.description)||""}),F({search:e})}catch(t){console.log(t)}},children:[" ",a("common_save")]})})})]}),(0,q.jsx)(_.Z,{isOpen:C,title:"Confirm delete",description:"Are you sure you want to delete this category?",onCancel:()=>{w(!1)},onDelete:async()=>{la._.deleteQuestionBankCategory(k).then((()=>{m((0,I.kU)("Delete category successfully")),m((0,oa.mb)())})).catch((e=>{console.error("error",e),m((0,I.lS)("Delete category failed"))})).finally((()=>{w(!1)}))}})]})};var Ta=a(31825),za=a(65033),Da=a(12117),qa=a(30371),Ma=a(91603),La=a(45791),Ea=a(69235),Wa=a(28342),Ra=a(51609),Oa=a(51050),Ua=a(41125),Ba=a(25979),Fa=a(97683),Ha=a(18553),Ga=a(34105),Va=a(8397),Qa=a(20290),$a=a(1716),Ka=a(28502),Ya=a(62755),Ja=a(28538),Xa=a(44829),ei=a(87583),ti=a(41166),ai=a(98542),ii=a(30160),si=a(76132);const ni=e=>{const{onClose:t,onConfirm:a,open:s}=e,{t:n}=(0,N.$G)(),[r,o]=(0,S.useState)({questions:[],totalPages:0,currentPage:0,totalItems:0}),[l,c]=(0,S.useState)(""),d=(0,S.useMemo)((()=>({id:!1,name:!0,difficulty:!0,questionText:!0})),[]),[m,u]=(0,S.useState)(!0),x=(0,S.useCallback)((async e=>{let{searchName:t,pageNo:a=0,pageSize:i=10,qtype:s="CODE"}=e;try{const e=await na.a.getAllQuestionWithPagination({searchName:t,pageNo:a,pageSize:i,qtype:s});o(e)}catch(n){console.error("error",n),401===n.code||n.code}}),[n]);(0,S.useEffect)((()=>{(async()=>{x({searchName:l}),u(!1)})()}),[x,l]);const[h,p]=(0,S.useState)(0),[_,f]=(0,S.useState)(10),j=(0,S.useMemo)((()=>[{field:"id"},{field:"name",headerName:n("common_name"),flex:1,renderHeader:()=>(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:n("common_name")}),renderCell:e=>(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"400",children:e.row.name})},{field:"difficulty",headerName:n("question_difficulty"),flex:1,renderHeader:()=>(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:n("common_name")}),renderCell:e=>(0,q.jsx)(Ja.Z,{children:e.row.difficulty})},{field:"questionText",headerName:n("common_question_text"),flex:1,renderHeader:()=>(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:n("common_question_text")}),renderCell:e=>(0,q.jsx)(X.Z,{fontSize:"12px",color:"#525151",fontWeight:"400",children:e.row.questionText})}]),[]),Z=(0,S.useMemo)((()=>r.totalItems||0),[r]);(0,S.useEffect)((()=>{console.log("questionList",r)}),[r]);return(0,q.jsx)(si.ZP,{open:s,onClose:t,children:(0,q.jsxs)(Xa.Z,{color:"neutral",layout:"center",size:"lg",variant:"outlined",sx:{width:"50%",backgroundColor:"white"},children:[(0,q.jsx)(ei.Z,{}),(0,q.jsx)(ti.Z,{children:(0,q.jsx)(X.Z,{children:n("choose_code_question")})}),(0,q.jsx)(ai.Z,{sx:{width:"100%"},children:(0,q.jsx)(i.ZP,{container:!0,spacing:2,children:(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{onClickRow:(e,t,i)=>{a(e.row)},loading:m,visibleColumn:d,getRowId:e=>e.questionId,dataList:r.questions,tableHeader:j,onSelectData:()=>{},dataGridToolBar:{enableToolbar:!0},page:h,pageSize:_,totalElement:Z,onPaginationModelChange:(e,t)=>{p(e.page),f(e.pageSize),x({searchName:l,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!1,getRowHeight:()=>"50",sx:{"&.MuiDataGrid-withBorderColor":{border:"1px solid white"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"white",borderBottom:"2px solid var(--gray-50)"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"},width:"100%",minHeight:"500px"},personalSx:!0})})})}),(0,q.jsx)(ii.Z,{children:(0,q.jsx)(E.Z,{variant:"soft",color:"danger",onClick:t,children:"Close"})})]})})},ri=e=>{const{t:t}=(0,N.$G)(),{field:a,removeChapter:n,control:r,register:o,parentIndex:l,provided:c,isDragging:m,watch:u,errors:x,setValue:p}=e,[g,_]=(0,S.useState)(!1),[f,j]=(0,S.useState)(!0),{fields:Z,append:b,remove:y,move:v}=(0,H.Dq)({control:r,name:"chapters.".concat(l,".resources")}),C=u("chapters.".concat(l,".title")),[w,k]=(0,S.useState)("Chapter "+l);(0,S.useEffect)((()=>{_(!m)}),[m]),(0,S.useEffect)((()=>{k(C&&""!==C?C:"Chapter "+l)}),[C]),(0,S.useEffect)((()=>{f&&!m&&_(!0)}),[f]);return(0,q.jsxs)(q.Fragment,{children:[!m&&(0,q.jsxs)(s.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-start",marginBottom:"10px",children:[(0,q.jsx)(Ga.ZP,{variant:f?"soft":"solid",onClick:()=>{j(!f)},color:"primary",children:f?(0,q.jsx)(Va.Z,{}):(0,q.jsx)(Qa.Z,{})}),(0,q.jsx)(Ga.ZP,{variant:"soft",sx:{marginLeft:"10px"},color:"danger",onClick:()=>{n()},children:(0,q.jsx)(Ua.Z,{})})]}),(0,q.jsxs)(d.Z,{direction:"row",display:"flex",alignItems:"center",spacing:1,flex:1,sx:{width:"100%"},children:[m&&(0,q.jsx)("div",{...c.dragHandleProps,children:(0,q.jsx)($a.Z,{})}),(0,q.jsxs)(_t.Z,{variant:"soft",color:"neutral",sx:{flexGrow:1,padding:"10px",display:"flex",justifyContent:"space-between",flexDirection:"row","&:hover":{cursor:m?"":"pointer",backgroundColor:"var(--blue-light-4)"}},onClick:()=>{!m&&_(!g)},"translation-key":"question_management_answer",children:[(0,q.jsx)(X.Z,{fontWeight:"600",colorname:"--eerie-black",children:w}),g?(0,q.jsx)(Ra.Z,{}):(0,q.jsx)(Wa.Z,{})]})]}),(0,q.jsxs)(za.Z,{in:g,timeout:"auto",children:[f&&(0,q.jsxs)(i.ZP,{container:!0,spacing:2,sx:{marginBottom:"40px",marginTop:"5px"},children:[(0,q.jsx)(i.ZP,{item:!0,sm:12,md:6,children:(0,q.jsx)(H.Qr,{control:r,name:"chapters.".concat(l,".title"),render:e=>{var t,a,i,s,n;let{field:{ref:r,...o}}=e;return(0,q.jsx)(Ma.Z,{error:Boolean(null===x||void 0===x||null===(t=x.chapters)||void 0===t||null===(a=t[l])||void 0===a?void 0:a.title),errorMessage:null===x||void 0===x||null===(i=x.chapters)||void 0===i||null===(s=i[l])||void 0===s||null===(n=s.title)||void 0===n?void 0:n.message,useDefaultTitleStyle:!0,title:"Chapter Title",inputRef:r,type:"text",placeholder:"Enter Chapter Title",titleRequired:!0,"translation-key":["chapter_title","enter_chapter_title"],...o})}})}),(0,q.jsxs)(i.ZP,{item:!0,sm:12,md:6,children:[(0,q.jsx)(F.Z,{"translation-key":"chapter_description_title",title:"Chapter Description".concat(" "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,q.jsx)(H.Qr,{control:r,name:"chapters.".concat(l,".description"),render:e=>{let{field:t}=e;return(0,q.jsx)(se.Z,{title:"Chapter Description",openDialog:!0,roundedBorder:!0,error:!1,placeholder:"Enter Chapter Description",required:!0,"translation-key":"enter_chapter_description",maxLines:10,...t})}})]})]}),f&&(0,q.jsx)(ta.Z,{margin:"5px 0",variant:"outlined",colorName:"var(--blue-light)",borderRadius:"12px",startIcon:(0,q.jsx)(Ea.Z,{}),onClick:()=>{b({no:Z.length,resourceType:Oa.H.LESSON,title:"",lessonHtml:"",questionId:"",youtubeVideoUrl:""})},children:(0,q.jsx)(X.Z,{fontSize:"12px",fontWeight:"500",colorname:"--blue-light-1",children:t("add_chapter_resource")})}),0!==Z.length&&(0,q.jsx)(_t.Z,{sx:{marginTop:"10px"},children:(0,q.jsx)(Ka.Z5,{onDragEnd:e=>{const t=e.source,a=e.destination;null!==e&&null!==a&&null!==t&&(v(t.index,a.index),Z.forEach(((e,t)=>{p("chapters.".concat(l,".resources.").concat(t,".no"),t)})))},children:(0,q.jsx)(Ka.bK,{droppableId:"resource",children:e=>(0,q.jsx)(d.Z,{spacing:2,...e.droppableProps,ref:e.innerRef,children:Z.map(((e,t)=>(0,q.jsxs)(S.Fragment,{children:[(0,q.jsx)(Ka._l,{draggableId:"item-resource-".concat(t),index:t,children:(a,i)=>(0,q.jsxs)("div",{ref:a.innerRef,...a.draggableProps,children:[(0,q.jsx)("div",{...a.dragHandleProps,children:(0,q.jsx)($a.Z,{})}),(0,q.jsx)(oi,{setValue:p,errors:x,watch:u,parentIndex:l,isEditting:f,index:t,removeResource:()=>(e=>{y(e);const t=u("chapters.".concat(l,".resources"));null===t||void 0===t||t.forEach(((e,t)=>{p("chapters.".concat(l,".resources.").concat(t,".no"),t)}))})(t),control:r,register:o})]},e.id)}),t!==Z.length-1&&(0,q.jsx)(h.Z,{})]},"resources[".concat(t,"]"))))})})})})]})]})},oi=e=>{const{isEditting:t,removeResource:a,index:n,control:r,register:o,parentIndex:l,watch:c,errors:m,setValue:u}=e,{t:x}=(0,N.$G)(),h=(0,S.useMemo)((()=>Object.values(Oa.H).map((e=>({label:x(e),value:e})))),[x]),p=c("chapters.".concat(l,".resources.").concat(n,".title")),g=c("chapters.".concat(l,".resources.").concat(n,".youtubeVideoUrl")),_=c("chapters.".concat(l,".resources.").concat(n,".resourceType")),f=c("chapters.".concat(l,".resources.").concat(n,".lessonHtml")),[j,Z]=(0,S.useState)(!1),[b,y]=(0,S.useState)(_||Oa.H.LESSON),[v,C]=(0,S.useState)("Resource "+n);(0,S.useEffect)((()=>(C(p&&""!==p?p:"Resource "+n),()=>{C("")})),[p]),(0,S.useEffect)((()=>{b===Oa.H.VIDEO?(u("chapters.".concat(l,".resources.").concat(n,".lessonHtml"),""),u("chapters.".concat(l,".resources.").concat(n,".questionId"),"")):b===Oa.H.LESSON?(u("chapters.".concat(l,".resources.").concat(n,".youtubeVideoUrl"),""),u("chapters.".concat(l,".resources.").concat(n,".questionId"),"")):u("chapters.".concat(l,".resources.").concat(n,".youtubeVideoUrl"),"")}),[b]);return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(d.Z,{children:[j&&(0,q.jsx)(ni,{open:j,onClose:()=>{Z(!1)},onConfirm:e=>{u("chapters.".concat(l,".resources.").concat(n,".questionId"),e.questionId),u("chapters.".concat(l,".resources.").concat(n,".lessonHtml"),e.name),Z(!1)}}),(0,q.jsx)(s.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end",children:(0,q.jsx)(Ga.ZP,{variant:"soft",sx:{marginLeft:"10px"},color:"danger",onClick:()=>{a()},children:(0,q.jsx)(Ua.Z,{})})}),(0,q.jsx)(i.ZP,{container:!0,spacing:2,children:t&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(i.ZP,{item:!0,xs:6,children:(0,q.jsx)(H.Qr,{name:"chapters.".concat(l,".resources.").concat(n,".title"),control:r,render:e=>{var t,a,i,s,r,o,c,d,u;let{field:{ref:h,...p}}=e;return(0,q.jsx)(Ma.Z,{error:Boolean(null===m||void 0===m||null===(t=m.chapters)||void 0===t||null===(a=t[l])||void 0===a||null===(i=a.resources)||void 0===i||null===(s=i[n])||void 0===s?void 0:s.title),errorMessage:null===m||void 0===m||null===(r=m.chapters)||void 0===r||null===(o=r[l])||void 0===o||null===(c=o.resources)||void 0===c||null===(d=c[n])||void 0===d||null===(u=d.title)||void 0===u?void 0:u.message,inputRef:h,useDefaultTitleStyle:!0,title:"".concat(x("chapter_resource_title")),type:"text",placeholder:x("enter_chapter_resource_title"),titleRequired:!0,"translation-key":["chapter_resource_title","enter_chapter_resource_title"],...p})}})}),(0,q.jsxs)(i.ZP,{item:!0,xs:6,children:[(0,q.jsx)(F.Z,{"translation-key":"resource_type_title",title:"".concat(x("resource_type_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,q.jsx)(H.Qr,{name:"chapters.".concat(l,".resources.").concat(n,".resourceType"),control:r,defaultValue:h[0].value,render:e=>{let{field:{onChange:t,value:a}}=e;return(0,q.jsx)(La.Z,{value:a,onChange:e=>{y(e),t(e)},options:h})}})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,children:[b===Oa.H.LESSON&&(0,q.jsx)(H.Qr,{name:"chapters.".concat(l,".resources.").concat(n,".lessonHtml"),control:r,render:e=>{let{field:t}=e;return(0,q.jsx)(se.Z,{title:"Lesson",openDialog:!0,roundedBorder:!0,error:!1,placeholder:"Enter Lesson",required:!0,"translation-key":"enter_lesson",maxLines:10,...t})}}),b===Oa.H.VIDEO&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(H.Qr,{name:"chapters.".concat(l,".resources.").concat(n,".youtubeVideoUrl"),control:r,render:e=>{var t,a,i,s,r,o,c,d,u;let{field:{ref:h,...p}}=e;return(0,q.jsx)(Ma.Z,{error:Boolean(null===m||void 0===m||null===(t=m.chapters)||void 0===t||null===(a=t[l])||void 0===a||null===(i=a.resources)||void 0===i||null===(s=i[n])||void 0===s?void 0:s.youtubeVideoUrl),errorMessage:null===m||void 0===m||null===(r=m.chapters)||void 0===r||null===(o=r[l])||void 0===o||null===(c=o.resources)||void 0===c||null===(d=c[n])||void 0===d||null===(u=d.youtubeVideoUrl)||void 0===u?void 0:u.message,inputRef:h,useDefaultTitleStyle:!0,title:"".concat(x("youtube_video_url")),type:"text",placeholder:x("enter_youtube_video_url"),titleRequired:!0,"translation-key":["youtube_video_url","enter_youtube_video_url"],...p})}}),(0,q.jsx)(Ya.Z,{href:g,target:"_blank",rel:"noopener noreferrer",children:(0,q.jsx)(s.Z,{component:"img",sx:{marginTop:"20px",maxWidth:"200px",minWidth:"150px",borderRadius:"8px","&:hover":{cursor:"pointer",transform:"scale(1.05)",transition:"all 0.3s ease",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)",backgroundColor:"var(--blue-light-4)"}},src:"https://img.youtube.com/vi/".concat(mi(g),"/0.jpg"),alt:"Youtube Video"})})]}),b===Oa.H.CODE&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(ta.Z,{variant:"outlined",colorName:"var(--blue-selected)",borderRadius:"12px",startIcon:(0,q.jsx)(Ea.Z,{sx:{color:"var(--blue-selected)",fontSize:"12px"}}),onClick:()=>{Z(!0)},children:(0,q.jsx)(X.Z,{fontSize:"12px",fontWeight:"500",colorname:"--blue-light-1",children:x("choose_code_question")})}),_===Oa.H.CODE&&""!==f&&(0,q.jsxs)(d.Z,{marginTop:"5px",children:[(0,q.jsxs)(X.Z,{children:[x("choose_code_question_title")," "]}),(0,q.jsx)(X.Z,{fontWeight:"600",colorname:"--eerie-black",children:f})]})]})]})]})}),!t&&(0,q.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,q.jsx)(s.Z,{sx:{backgroundColor:b===Oa.H.LESSON?"#E3F2FD":b===Oa.H.VIDEO?"#FFEBEE":"#E8F5E9",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",width:"fit-content",padding:"10px"},children:b===Oa.H.LESSON?(0,q.jsx)(Ha.Z,{sx:{color:"#1976D2"}}):b===Oa.H.VIDEO?(0,q.jsx)(Ba.Z,{sx:{color:"#D32F2F"}}):(0,q.jsx)(Fa.Z,{sx:{color:"#388E3C"}})}),(0,q.jsx)(X.Z,{fontWeight:"600",colorname:"--eerie-black",children:v})]})]})})},li=()=>{var e;const t=(0,o.s0)(),{t:a}=(0,N.$G)(),[n,r]=(0,S.useState)([]),[l,c]=(0,S.useState)(!0),[m,u]=(0,S.useState)(!1),[x,p]=(0,S.useState)(!1),g=[{navLink:A._.admin.dashboard,label:"Home"},{navLink:A._.admin.certificate.root,label:"Certificate Course Management"}];(0,S.useEffect)((()=>{(async()=>{(async()=>{try{const e=await qa.r.getTopics({pageNo:0,pageSize:999999,fetchAll:!0});r(e.topics),200===e.status&&console.log(e)}catch(e){console.error("error",e)}})(),c(!1)})()}),[]);const _=(0,S.useMemo)((()=>Object.values(Da.$).map((e=>({label:a(e),value:e})))),[a]),f=(0,S.useMemo)((()=>G.Ry().shape({name:G.Z_().required(a("certificate_course_name_required")),description:G.Z_(),skillLevel:G.Z_().required(a("skill_level_required")),topicId:G.Z_().required(a("topic_required")),chapters:G.IX().of(G.Ry().shape({no:G.Rx().required(),title:G.Z_().required(a("chapter_title_required")),description:G.Z_(),resources:G.IX().of(G.Ry().shape({no:G.Rx().required(),resourceType:G.Z_().required(),title:G.Z_().required(a("resource_title_required")),questionId:G.Z_(),lessonHtml:G.Z_(),youtubeVideoUrl:G.Z_().test("youtube-url",a("youtube_url_invalid"),(e=>di(e)))})).required()}))})),[a]),{register:j,control:Z,handleSubmit:b,trigger:y,setValue:v,watch:C,formState:{errors:w}}=(0,H.cI)({resolver:(0,L.X)(f)}),{fields:k,append:P,remove:I,move:T}=(0,H.Dq)({control:Z,name:"chapters"});return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)($t.q,{children:(0,q.jsx)("title",{children:a("create_certificate_course")})}),(0,q.jsx)("form",{onSubmit:b((async e=>{p(!0);const t={...e},a={name:t.name,description:t.description||"",skillLevel:t.skillLevel,topicId:t.topicId,startTime:(new Date).toISOString(),endTime:new Date((new Date).getTime()+1e11).toISOString(),email:"",chapters:(t.chapters||[]).map((e=>({title:e.title,no:e.no,description:e.description||"",resources:e.resources.map((e=>({no:e.no,resourceType:e.resourceType,title:e.title,questionId:e.questionId||"",lessonHtml:e.lessonHtml||"",lessonVideo:e.youtubeVideoUrl||""})))})))};try{const e=await Nt.M.createCertificateCourses(a);200===e.status&&console.log("response",e),p(!1)}catch(i){console.error("error",i),p(!1)}})),children:(0,q.jsxs)(Jt.Z,{children:[(0,q.jsx)(s.Z,{sx:{paddingLeft:"13px"},children:(0,q.jsx)(R.Z,{breadCrumbData:g,lastBreadCrumbLabel:"Create Certificate Course"})}),(0,q.jsxs)(i.ZP,{container:!0,spacing:4,sx:{padding:"0 20px"},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(ye.Z,{"translate-key":"create_certificate_course_title",children:a("create_certificate_course_title").toUpperCase()})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(_t.Z,{variant:"soft",color:"primary",sx:{padding:"10px"},children:(0,q.jsx)(X.Z,{fontWeight:"600",colorname:"--blue-2",children:a("common_general").toUpperCase()})})}),(0,q.jsx)(i.ZP,{item:!0,sm:12,md:6,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(H.Qr,{defaultValue:"",control:Z,name:"name",render:e=>{var t;let{field:{ref:i,...s}}=e;return(0,q.jsx)(Ma.Z,{useDefaultTitleStyle:!0,error:Boolean(null===w||void 0===w?void 0:w.name),errorMessage:null===(t=w.name)||void 0===t?void 0:t.message,title:"".concat(a("certificate_course_name")),type:"text",placeholder:a("enter_certificate_course_name"),titleRequired:!0,"translation-key":["certificate_course_name","enter_certificate_course_name"],inputRef:i,...s})}})}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,q.jsx)(F.Z,{"translation-key":"certificate_course_skill_level_title",title:"".concat(a("certificate_course_skill_level_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,q.jsx)(H.Qr,{name:"skillLevel",control:Z,defaultValue:_[0].value,render:e=>{let{field:{onChange:t,value:a}}=e;return(0,q.jsx)(La.Z,{value:a,onChange:t,options:_})}})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,q.jsx)(F.Z,{"translation-key":"certificate_course_topic_title",title:"".concat(a("certificate_course_topic_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,q.jsx)(H.Qr,{name:"topicId",control:Z,defaultValue:null===(e=n[0])||void 0===e?void 0:e.topicId,render:e=>{let{field:{onChange:t,value:a}}=e;return(0,q.jsx)(La.Z,{value:a,onChange:t,options:n.map((e=>({label:e.name,value:e.topicId})))})}})]})]})}),(0,q.jsxs)(i.ZP,{item:!0,sm:12,md:6,children:[(0,q.jsx)(F.Z,{"translation-key":"certificate_course_description_title",title:"".concat(a("certificate_course_description_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,q.jsx)(H.Qr,{defaultValue:"",control:Z,name:"description",render:e=>{let{field:t}=e;return(0,q.jsx)(se.Z,{title:a("certificate_course_description_title"),openDialog:!0,roundedBorder:!0,error:Boolean(null===w||void 0===w?void 0:w.description),placeholder:"".concat(a("enter_certificate_course_description_title"),"..."),required:!0,"translation-key":"enter_certificate_course_description_title",maxLines:10,...t})}})]}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,q.jsx)(_t.Z,{variant:"soft",color:"primary",sx:{padding:"10px",marginTop:"30px"},children:(0,q.jsx)(X.Z,{fontWeight:"600",colorname:"--blue-2",children:a("common_detail").toUpperCase()})}),(0,q.jsx)(ta.Z,{margin:"10px 0",variant:"outlined",colorName:"var(--blue-selected)",borderRadius:"12px",startIcon:(0,q.jsx)(Ea.Z,{sx:{color:"var(--blue-selected)",fontSize:"12px"}}),onClick:()=>{P({no:k.length,title:"",resources:[]})},children:(0,q.jsx)(X.Z,{fontSize:"12px",fontWeight:"500",colorname:"--blue-light-1",children:a("common_add_chapter")})}),(0,q.jsx)(ta.Z,{margin:"10px 0 10px 10px",variant:m?"contained":"outlined",borderRadius:"12px",startIcon:(0,q.jsx)($a.Z,{sx:{color:m?"var(--ghost-white)":"var(--blue-selected)",fontSize:"12px"}}),onClick:()=>u(!m),boxShadow:"0",children:(0,q.jsx)(X.Z,{fontSize:"12px",fontWeight:"500",colorname:m?"--ghost-white":"--blue-selected",children:a(m?"disable_drag_drop_chapter":"enable_drag_drop_chapter")})})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(Ka.Z5,{onDragEnd:e=>{let{source:t,destination:a}=e;a&&(T(t.index,a.index),k.forEach(((e,t)=>{v("chapters.".concat(t,".no"),t)})))},children:(0,q.jsx)(Ka.bK,{droppableId:"chapter",children:e=>(0,q.jsx)(d.Z,{spacing:2,...e.droppableProps,ref:e.innerRef,children:k.map(((e,t)=>(0,q.jsx)(Ka._l,{draggableId:"item-chapter-".concat(t),index:t,children:(a,i)=>(0,q.jsx)("div",{ref:a.innerRef,...a.draggableProps,children:(0,q.jsx)(ri,{setValue:v,errors:w,watch:C,isDragging:m,provided:a,field:e,removeChapter:()=>(e=>{I(e);const t=C("chapters");null===t||void 0===t||t.forEach(((e,t)=>{v("chapters.".concat(t,".no"),t)}))})(t),parentIndex:t,control:Z,register:j})},e.id)},"chapters[".concat(t,"]"))))})})})}),(0,q.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,q.jsx)(h.Z,{}),(0,q.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:1,justifyContent:"center",mt:2,children:[(0,q.jsx)(E.Z,{variant:"outlined",color:"neutral",onClick:()=>{t(A._.admin.certificate.root)},children:(0,q.jsx)(X.Z,{fontWeight:"600",colorname:"--eerie-black",children:a("common_cancel")})}),(0,q.jsx)(E.Z,{variant:"solid",type:"submit",color:"primary",loading:x,children:(0,q.jsx)(X.Z,{fontWeight:"600",colorname:"--white",children:a("common_save")})})]})]})]})]})})]})},ci=/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube(?:-nocookie)?\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|live\/|v\/)?)([\w\-]+)(\S+)?$/;function di(e){return""===e||!(!e||!ci.test(e))}function mi(e){if(!e||!di(e))return"";const t=new URL(e);return new URLSearchParams(t.search).get("v")}var ui=a(53645);const xi="styles_breadcump__5khPw",hi="styles_breadcumpWrapper__6mqDS";var pi=a(66846);const gi=()=>{(0,S.useRef)(null);const{t:e}=(0,N.$G)(),t=(0,o.s0)(),a=(0,P.I0)(),[i,n]=(0,S.useState)(0),[r,l]=(0,S.useState)(10),{contestId:c}=(0,o.UO)(),[u,x]=(0,S.useState)(!1),[h,p]=(0,S.useState)(null),[_,f]=(0,S.useState)([]),Z=(0,S.useCallback)((async e=>{a((0,Dt.K4)(!0));try{const t=await T.c.getContestById(e);t&&p(t),a((0,Dt.K4)(!1))}catch(t){console.log("error",t),a((0,Dt.K4)(!1))}}),[a]),y=(0,S.useCallback)((async e=>{let{contestId:t,pageNo:a,pageSize:i}=e;x(!0);try{const e=await ui.i.getAdminCodeSubmissionList({contestId:t,pageNo:a,pageSize:i});f(e.codeSubmissions),x(!1)}catch(s){console.log("error",s),x(!1)}}),[]),v=(0,S.useMemo)((()=>_.length),[_]),C=[{field:"problem",headerName:e("common_problem"),flex:.5,renderHeader:()=>(0,q.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_problem")}),renderCell:e=>{var t;return(0,q.jsx)(b.Z,{fontWeight:500,width:"auto",children:(null===(t=e.row.codeQuestion)||void 0===t?void 0:t.name)||""})}},{field:"status",headerName:e("common_status"),flex:.5,renderHeader:()=>(0,q.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_status")}),renderCell:e=>{var t;return(0,q.jsx)(_e.Z,{fontWeight:700,colorname:"GRADING"===e.row.gradingStatus?"--orange-4":"Accepted"!==e.row.description?"--red-error":"--green-600",children:"GRADING"===e.row.gradingStatus?e.row.gradingStatus:null!==(t=e.row.description)&&void 0!==t?t:"GRADING_SYSTEM_UNAVAILABLE"===e.row.gradingStatus?"GRADING SYSTEM UNAVAILABLE":""})}},{field:"email",headerName:e("common_email"),flex:.6,minWidth:270,renderHeader:()=>(0,q.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_email")}),renderCell:e=>{var t;return(0,q.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",sx:{textOverflow:"ellipsis"},children:[(0,q.jsx)(m.Z,{sx:{bgcolor:"".concat((0,z.M)("".concat(e.row.firstName," ").concat(e.row.lastName)))},alt:e.row.user.email,src:null===(t=e.row.user)||void 0===t?void 0:t.avatarUrl,children:e.row.user.firstName.charAt(0)}),(0,q.jsx)(b.Z,{fontWeight:500,children:e.row.user.email})]})}},{field:"language",headerName:e("common_programming_language"),flex:.7,renderHeader:()=>(0,q.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_programming_language")}),renderCell:e=>(0,q.jsx)(b.Z,{fontWeight:500,width:"auto",children:e.row.programmingLanguageName})},{field:"runtime",headerName:e("common_runtime"),flex:.5,renderHeader:()=>(0,q.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_runtime")}),renderCell:e=>(0,q.jsx)(b.Z,{fontWeight:500,width:"auto",children:void 0===e.row.avgRuntime||"GRADING"===e.row.gradingStatus?"N/A":"".concat((0,pi.RG)(e.row.avgRuntime,3),"s")})},{field:"memory",headerName:e("common_memory"),flex:.5,renderHeader:()=>(0,q.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_memory")}),renderCell:e=>(0,q.jsx)(b.Z,{fontWeight:500,width:"auto",children:void 0===e.row.avgMemory||"GRADING"===e.row.gradingStatus?"N/A":"".concat((0,pi.RG)((0,pi.ZA)(e.row.avgMemory),3),"MB")})}];return(0,S.useEffect)((()=>{(async()=>{c&&(await Z(c),await y({contestId:c,pageNo:0,pageSize:r}))})()}),[c,y,Z,r]),c&&h?(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(s.Z,{className:xi,children:(0,q.jsx)(s.Z,{id:hi,children:(0,q.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.contest.root,label:e("contest_management_title")},{navLink:A._.admin.contest.edit.details.replace(":contestId",c),label:h.name}],lastBreadCrumbLabel:e("detail_problem_submission")})})}),(0,q.jsxs)(s.Z,{sx:{margin:"0 20px",minHeight:"700px"},children:[(0,q.jsx)(j.Z,{children:e("detail_problem_submission")}),(0,q.jsx)(s.Z,{sx:{margin:"20px 0"},children:(0,q.jsx)(g.Z,{loading:u,dataList:_,tableHeader:C,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:i,pageSize:r,totalElement:v,onPaginationModelChange:(e,t)=>{n(e.page),l(e.pageSize),y({contestId:c,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{t(A._.admin.contest.submission_detail.replace(":submissionId",e.id.toString()||"").replace(":contestId",c||""))},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})}):null},_i={breadcump:"styles_breadcump__64YsK"};var fi=a(46686),ji=a(70978),Zi=a(1995),bi=function(e){return e.ALL="ALL",e.EASY="EASY",e.MEDIUM="MEDIUM",e.HARD="HARD",e}(bi||{});const yi=()=>{const e=(0,S.useRef)(null),{t:t}=(0,N.$G)(),a=(0,o.s0)(),[n,r]=(0,S.useState)(""),d=(0,P.v9)((e=>e.codeQuestion)),[m,u]=S.useState(!0),x=[{field:"stt",sortable:!1,flex:.7,align:"center",headerName:t("common_no")},{field:"name",sortable:!1,flex:2.5,headerName:t("code_question_name")},{field:"difficulty",sortable:!1,flex:1.5,headerName:t("code_question_difficulty"),renderCell:e=>(0,q.jsx)(X.Z,{children:"HARD"===e.row.difficulty?t("common_hard"):"MEDIUM"===e.row.difficulty?t("common_medium"):"EASY"===e.row.difficulty?t("common_easy"):"Kh\xf4ng x\xe1c \u0111\u1ecbnh"})},{field:"updated",sortable:!1,flex:2,headerName:t("code_question_updated"),renderCell:e=>(0,q.jsxs)("div",{children:[(0,q.jsx)(X.Z,{children:e.row.updatedByName}),(0,q.jsx)("div",{children:Gt()(e.row.updatedAt).format("DD/MM/YYYY HH:mm")})]})},{field:"operation",sortable:!1,flex:1,type:"actions",cellClassName:"actions",getActions:e=>{let{id:t}=e;return[(0,q.jsx)(p.u,{icon:(0,q.jsx)(c.Z,{}),label:"Save",sx:{color:"primary.main"},onClick:()=>{}}),(0,q.jsx)(p.u,{icon:(0,q.jsx)(l.Z,{}),label:"Cancel",className:"textPrimary",onClick:()=>{z(t),M(!0)},sx:{color:ea.Z[500]}})]},headerName:t("common_action")}],Z=(0,P.I0)(),y=S.useCallback((async e=>{let{search:t,isPublic:a,difficulty:i,pageNo:s=0,pageSize:n=10}=e;u(!0);try{const e=await Ce.M.getAdminCodeQuestions({search:t,isPublic:a,difficulty:i,pageNo:s,pageSize:n});Z((0,Zi.Dt)(e)),u(!1)}catch(r){console.error("error",r),u(!1)}}),[Z,t]);(0,S.useEffect)((()=>{(async()=>{await y({search:n})})()}),[n]);const[v,C]=(0,S.useState)(10),[w,k]=(0,S.useState)(0),[T,z]=(0,S.useState)(""),[D,M]=(0,S.useState)(!1),L=(0,S.useMemo)((()=>d.totalItems||0),[d.questions]),[E,W]=S.useState([{key:"Difficulty level",value:bi.ALL}]),R=S.useCallback((()=>{var e,t;const a=null===(e=E.find((e=>"Difficulty level"===e.key)))||void 0===e?void 0:e.value,i=null===(t=E.find((e=>"Is public"===e.key)))||void 0===t?void 0:t.value;y({search:n,isPublic:i&&"ALL"!==i?"PUBLIC"===i:void 0,difficulty:a&&a!==bi.ALL?a:void 0})}),[E,y,n]),O=S.useCallback((()=>{W([{key:"Difficulty level",value:bi.ALL}]),y({search:n})}),[y,n]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(_.Z,{isOpen:D,title:"Confirm delete",description:"Are you sure you want to delete this question?",onCancel:()=>{M(!1)},onDelete:async()=>{fi.a.deleteQuestion(T).then((()=>{Z((0,I.kU)("Delete code question successfully")),Z((0,ji.j$)())})).catch((e=>{console.log(e),Z((0,I.kU)("Delete code question failed"))})).finally((()=>{M(!1)}))}}),(0,q.jsxs)(qe.Z,{sx:{margin:"20px","& .MuiDataGrid-root":{border:"1px solid #e0e0e0",borderRadius:"4px"}},children:[(0,q.jsx)(s.Z,{className:_i.breadcump,ref:e,children:(0,q.jsx)(s.Z,{id:_i.breadcumpWrapper,children:(0,q.jsx)(b.Z,{colorname:"--blue-500","translate-key":"code_management_title",children:t("code_management_title")})})}),(0,q.jsx)(h.Z,{}),(0,q.jsxs)(i.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(j.Z,{"translate-key":"code_management_title",children:t("code_management_title")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(f.Z,{isLoading:d.isLoading,searchValue:n,setSearchValue:r,onHandleChange:async e=>{r(e)},createBtnText:t("code_management_create_new_title"),onClickCreate:()=>{a(A._.admin.code_question.create)},numOfResults:L,filterKeyList:[{label:t("common_difficulty_level"),value:"Difficulty level"},{label:t("contest_is_public"),value:"Is public"}],filterValueList:{"Difficulty level":[{label:t("common_all"),value:bi.ALL},{label:t("common_easy"),value:bi.EASY},{label:t("common_medium"),value:bi.MEDIUM},{label:t("common_hard"),value:bi.HARD}],"Is public":[{label:t("common_all"),value:"ALL"},{label:t("common_public"),value:"PUBLIC"},{label:t("common_private"),value:"PRIVATER"}]},filters:E,handleChangeFilters:e=>{W(e)},onHandleApplyFilter:R,onHandleCancelFilter:O})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{loading:d.isLoading,dataList:d.questions.map(((e,t)=>({stt:t+1,id:e.question.id,name:e.question.name,difficulty:e.question.difficulty,updatedByName:e.question.updatedBy.lastName+" "+e.question.updatedBy.firstName,updated:e.question.updatedAt}))),tableHeader:x,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:w,pageSize:v,totalElement:L,onPaginationModelChange:(e,t)=>{k(e.page),C(e.pageSize),y({search:n,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})]})},vi="styles_codequestionCreationBody__mef6N",Ci="styles_tabWrapper__6a1Ga",wi="styles_breadCump__dtmaf",ki="styles_formBody__Y7smA",Si="styles_stickyFooterItem__4ovGW",Ni="styles_phantom__C-G+Y",Pi="styles_stickyFooterContainer__bs6gV",Ii="styles_textEditor__hsgc7",Ai=(0,S.memo)((e=>{const{questionId:t}=(0,o.UO)(),[a,n]=(0,S.useState)({id:"",organizationId:"",difficulty:"",name:"",questionText:"",generalFeedback:"",defaultMark:0,createdAt:"",updatedAt:"",message:"",qtype:""});(0,S.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await fi.a.getQuestionById(e);n(t)}catch(t){console.log(t)}})(null!==t&&void 0!==t?t:"")})()}),[]);const{t:r}=(0,N.$G)(),[l,c]=(0,S.useState)("M\xf4 t\u1ea3 b\xe0i to\xe1n"),[d,m]=(0,S.useState)("T\xednh t\u1ed5ng 2 s\u1ed1"),[u,x]=(0,S.useState)(""),[h,p]=(0,S.useState)("L\xe0 m\u1ed9t s\u1ed1 nguy\xean cho bi\u1ebft t\u1ed5ng c\u1ee7a a v\xe0 b"),[g,_]=(0,S.useState)("a v\xe0 b l\xe0 s\u1ed1 nguy\xean"),[f]=(0,S.useState)("T\u1ed5ng 2 s\u1ed1"),Z=(0,o.s0)();return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(s.Z,{id:vi,children:[(0,q.jsx)(s.Z,{className:Ci,children:(0,q.jsxs)(X.Z,{className:wi,colorname:"--gray-50",fontWeight:"600",children:[(0,q.jsx)("span",{onClick:()=>Z(A._.lecturer.code_question.management),"translation-key":"code_management_title",children:r("code_management_title")})," ",">"," ",(0,q.jsx)("span",{onClick:()=>Z(A._.lecturer.code_question.create),"translation-key":"code_management_create_new_title",children:r("code_management_create_new_title")})]})}),(0,q.jsxs)(s.Z,{component:"form",className:ki,autoComplete:"off",children:[(0,q.jsx)(j.Z,{fontWeight:"500",children:r("code_management_create_new_title")}),(0,q.jsx)(U.Z,{"translation-key":"code_management_create_new_title",title:r("code_management_create_new_title"),type:"text",value:f}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:3,children:(0,q.jsx)(y.Z,{"translation-key":"code_management_create_description",children:r("code_management_create_description")})}),(0,q.jsx)(i.ZP,{item:!0,xs:9,className:Ii,children:(0,q.jsx)(se.Z,{value:l,onChange:c})})]}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:3,"translation-key":"code_management_create_statement",children:(0,q.jsx)(y.Z,{children:r("code_management_create_statement")})}),(0,q.jsx)(i.ZP,{item:!0,xs:9,className:Ii,children:(0,q.jsx)(se.Z,{value:d,onChange:m})})]}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:3,children:(0,q.jsx)(y.Z,{"translation-key":"code_management_create_input_format",children:r("code_management_create_input_format")})}),(0,q.jsx)(i.ZP,{item:!0,xs:9,className:Ii,children:(0,q.jsx)(se.Z,{value:a.name,onChange:x})})]}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:3,children:(0,q.jsx)(y.Z,{"translation-key":"code_management_create_constraint",children:r("code_management_create_constraint")})}),(0,q.jsx)(i.ZP,{item:!0,xs:9,className:Ii,children:(0,q.jsx)(se.Z,{value:g,onChange:_})})]}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:3,children:(0,q.jsx)(y.Z,{"translation-key":"code_management_create_output_format",children:r("code_management_create_output_format")})}),(0,q.jsx)(i.ZP,{item:!0,xs:9,className:Ii,children:(0,q.jsx)(se.Z,{value:h,onChange:p})})]})]})]}),(0,q.jsxs)(s.Z,{className:Pi,children:[(0,q.jsx)(s.Z,{className:Ni}),(0,q.jsx)(s.Z,{className:Si,children:(0,q.jsx)(ta.Z,{btnType:ta.s.Primary,"translation-key":"exam_management_create_new_question",children:r("exam_management_create_new_question")})})]})]})})),Ti=Ai;var zi=a(72106),Di=a(18005),qi=a(16783),Mi=a(19187),Li=a(38476);const Ei={formBody:"styles_formBody__ESro5",breadcump:"styles_breadcump__3ws7K",breadcumpWrapper:"styles_breadcumpWrapper__30u5u",icArrow:"styles_icArrow__dFOuF",cursorPointer:"styles_cursorPointer__SEtL2",tabs:"styles_tabs__0IrZX",stickyBack:"styles_stickyBack__DtOt6",backButton:"styles_backButton__vrVRP",backIcon:"styles_backIcon__H4tWr",submissionContainer:"styles_submissionContainer__N8vex",submissionInfo:"styles_submissionInfo__KWstn",submissionTitle:"styles_submissionTitle__OEPcz",submissionAuthor:"styles_submissionAuthor__40-BX",avatar:"styles_avatar__VzcTl",submissionStatistical:"styles_submissionStatistical__2MvKT",statisticalTime:"styles_statisticalTime__PHeio",statisticalMemory:"styles_statisticalMemory__gwA0L",title:"styles_title__REysx",data:"styles_data__EvA-Z",evaluateText:"styles_evaluateText__PVK3P",markdown:"styles_markdown__LC0Xy",feedbackTitle:"styles_feedbackTitle__kzkRy",submissionText:"styles_submissionText__cqPru"},Wi=()=>{var e,t,a,n,r,l,c,d,u,x,h,p,g,_,f,Z,y,C,w,k,I,M,L;(0,S.useRef)(null);const{t:E}=(0,N.$G)(),W=((0,o.s0)(),(0,P.I0)()),{contestId:O}=(0,o.UO)(),{submissionId:U}=(0,o.UO)(),[B,F]=(0,S.useState)(null),[H,G]=(0,S.useState)(null),V=(0,S.useCallback)((async e=>{try{const t=await T.c.getContestById(e);t&&F(t)}catch(t){console.log("error",t)}}),[]),Q=(0,S.useCallback)((e=>{ui.i.getDetailCodeSubmission(e).then((e=>{console.log("data",e),G(e)})).catch((e=>console.error(e))).finally((()=>{}))}),[]);(0,S.useEffect)((()=>{(async()=>{O&&U&&(W((0,Dt.K4)(!0)),await V(O),await Q(U),W((0,Dt.K4)(!1)))})()}),[O,W,Q,V,U]);const $=(0,S.useMemo)((()=>{var e,t;return{source_code:null!==(e=null===H||void 0===H?void 0:H.sourceCode)&&void 0!==e?e:"",language:null!==(t=null===H||void 0===H?void 0:H.programmingLanguageName)&&void 0!==t?t:""}}),[H]);return O&&B&&H&&U?(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(s.Z,{className:Ei.breadcump,children:(0,q.jsx)(s.Z,{id:Ei.breadcumpWrapper,children:(0,q.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.contest.root,label:E("contest_management_title")},{navLink:A._.admin.contest.edit.details.replace(":contestId",O),label:B.name},{navLink:A._.admin.contest.submissions.replace(":contestId",O),label:E("detail_problem_submission")}],lastBreadCrumbLabel:E("detail_problem_submission_details")})})}),(0,q.jsxs)(s.Z,{sx:{margin:"0 20px",minHeight:"700px"},children:[(0,q.jsx)(j.Z,{children:E("detail_problem_submission_details")}),(0,q.jsx)(s.Z,{sx:{margin:"0"},children:(0,q.jsxs)(s.Z,{className:Ei.submissionContainer,children:[(0,q.jsx)(s.Z,{className:Ei.submissionInfo,children:(0,q.jsxs)(s.Z,{className:Ei.submissionTitle,children:[H&&(0,q.jsx)(X.Z,{fontWeight:"700",colorname:"GRADING"===H.gradingStatus?"--orange-4":"Accepted"!==H.description?"--red-error":"--green-600",children:"GRADING"===H.gradingStatus||void 0===H.description?H.gradingStatus.replace("_"," "):H.description}),(0,q.jsxs)(s.Z,{className:Ei.submissionAuthor,children:[(0,q.jsx)(m.Z,{sx:{bgcolor:"".concat((0,z.M)("".concat(null===H||void 0===H||null===(e=H.user)||void 0===e?void 0:e.firstName," ").concat(null===H||void 0===H||null===(t=H.user)||void 0===t?void 0:t.lastName)))},alt:null===H||void 0===H||null===(a=H.user)||void 0===a?void 0:a.email,src:null===H||void 0===H||null===(n=H.user)||void 0===n?void 0:n.avatarUrl,children:null===H||void 0===H||null===(r=H.user)||void 0===r?void 0:r.firstName.charAt(0)}),(0,q.jsx)(Li.Z,{fontWeight:"700",children:"vi"===v.ZP.language?"".concat(null!==(l=null===H||void 0===H||null===(c=H.user)||void 0===c?void 0:c.lastName)&&void 0!==l?l:""," ").concat(null!==(d=null===H||void 0===H||null===(u=H.user)||void 0===u?void 0:u.firstName)&&void 0!==d?d:""):"".concat(null!==(x=null===H||void 0===H||null===(h=H.user)||void 0===h?void 0:h.firstName)&&void 0!==x?x:""," ").concat(null!==(p=null===H||void 0===H||null===(g=H.user)||void 0===g?void 0:g.lastName)&&void 0!==p?p:"")}),(0,q.jsx)(Li.Z,{"translation-key":"detail_problem_submission_detail_user_submission_time",children:E("detail_problem_submission_detail_user_submission_time",{time:null!==(_=((e,t)=>{try{return void 0===e?e:(0,D.J$)(e,t)}catch(a){return console.error(a),e}})(null===H||void 0===H?void 0:H.createdAt,v.ZP.language))&&void 0!==_?_:"N/A",interpolation:{escapeValue:!1}})})]})]})}),(null===H||void 0===H||null===(f=H.firstFailTestCase)||void 0===f?void 0:f.message)&&H.firstFailTestCase.message.length>0&&(0,q.jsxs)(s.Z,{className:Ei.result,sx:Ri.errorBox,children:[(0,q.jsx)(X.Z,{fontWeight:1e3,colorname:"--red-text",children:"Message"}),(0,q.jsx)(qi.Z,{multiline:!0,InputProps:{readOnly:!0,disableUnderline:!0},fullWidth:!0,size:"small",className:Ei.input,value:null!==(Z=H.firstFailTestCase.message)&&void 0!==Z?Z:"",variant:"standard",inputProps:{style:{color:"var(--red-text)"}}})]}),(null===H||void 0===H||null===(y=H.firstFailTestCase)||void 0===y?void 0:y.stderr)&&H.firstFailTestCase.stderr.length>0&&(0,q.jsxs)(s.Z,{className:Ei.result,sx:Ri.errorBox,children:[(0,q.jsx)(X.Z,{fontWeight:1e3,colorname:"--red-text",children:"Stderr"}),(0,q.jsx)(qi.Z,{multiline:!0,InputProps:{readOnly:!0,disableUnderline:!0},fullWidth:!0,size:"small",className:Ei.input,value:H.firstFailTestCase.stderr.length,variant:"standard",inputProps:{style:{color:"var(--red-text)"}}})]}),(null===H||void 0===H||null===(C=H.firstFailTestCase)||void 0===C?void 0:C.compileOutput)&&H.firstFailTestCase.compileOutput.length>0&&(0,q.jsxs)(s.Z,{className:Ei.result,sx:Ri.errorBox,children:[(0,q.jsx)(X.Z,{fontWeight:1e3,colorname:"--red-text",children:"Complie output"}),(0,q.jsx)(qi.Z,{multiline:!0,InputProps:{readOnly:!0,disableUnderline:!0},fullWidth:!0,size:"small",className:Ei.input,value:H.firstFailTestCase.compileOutput,variant:"standard",inputProps:{style:{color:"var(--red-text)"}}})]}),(null===H||void 0===H?void 0:H.firstFailTestCase)&&"Compilation Error"!==H.description&&(0,q.jsx)(s.Z,{sx:{marginY:1},children:(0,q.jsx)(X.Z,{fontWeight:700,"translation-key":"detail_problem_submission_failed_test_case",children:E("detail_problem_submission_failed_test_case")})}),(null===H||void 0===H||null===(w=H.firstFailTestCase)||void 0===w?void 0:w.input)&&"Compilation Error"!==H.description&&(0,q.jsxs)(s.Z,{className:Ei.result,children:[(0,q.jsxs)(Li.Z,{"translation-key":"detail_problem_input",children:[E("detail_problem_input"),": "]}),(0,q.jsx)(qi.Z,{multiline:!0,InputProps:{readOnly:!0},fullWidth:!0,id:"outlined-basic",variant:"outlined",size:"small",className:Ei.input,value:H.firstFailTestCase.input})]}),(null===H||void 0===H||null===(k=H.firstFailTestCase)||void 0===k?void 0:k.output)&&"Compilation Error"!==H.description&&(0,q.jsxs)(s.Z,{className:Ei.result,children:[(0,q.jsxs)(Li.Z,{"translation-key":"detail_problem_output",children:[E("detail_problem_output"),": "]}),(0,q.jsx)(qi.Z,{multiline:!0,fullWidth:!0,InputProps:{readOnly:!0},id:"outlined-basic",variant:"outlined",size:"small",className:Ei.input,value:H.firstFailTestCase.output})]}),(null===H||void 0===H||null===(I=H.firstFailTestCase)||void 0===I?void 0:I.actualOutput)&&"Compilation Error"!==H.description&&(0,q.jsxs)(s.Z,{className:Ei.result,children:[(0,q.jsxs)(Li.Z,{"translation-key":"detail_problem_actual_result",children:[E("detail_problem_actual_result"),": "]}),(0,q.jsx)(qi.Z,{multiline:!0,InputProps:{readOnly:!0},fullWidth:!0,id:"outlined-basic",variant:"outlined",size:"small",className:Ei.input,value:H.firstFailTestCase.actualOutput})]}),(0,q.jsxs)(i.ZP,{container:!0,className:Ei.submissionStatistical,children:[(0,q.jsxs)(i.ZP,{item:!0,xs:5.75,className:Ei.statisticalTime,children:[(0,q.jsxs)(Jt.Z,{className:Ei.title,children:[(0,q.jsx)(zi.Z,{}),(0,q.jsx)(b.Z,{colorname:"--white","translation-key":"detail_problem_submission_detail_runtime",children:E("detail_problem_submission_detail_runtime")})]}),(0,q.jsx)(Jt.Z,{className:Ei.data,children:(0,q.jsxs)(X.Z,{colorname:"--white",fontSize:"20px",fontWeight:"700",children:[null!==(M=(0,pi.RG)(null===H||void 0===H?void 0:H.avgRuntime,3))&&void 0!==M?M:"N/A",void 0!==(null===H||void 0===H?void 0:H.avgRuntime)?"ms":""]})})]}),(0,q.jsx)(i.ZP,{item:!0,xs:.5}),(0,q.jsxs)(i.ZP,{item:!0,xs:5.75,className:Ei.statisticalMemory,children:[(0,q.jsxs)(Jt.Z,{className:Ei.title,children:[(0,q.jsx)(Di.Z,{}),(0,q.jsx)(b.Z,{colorname:"--white","translation-key":"detail_problem_submission_detail_memory",children:E("detail_problem_submission_detail_memory")})]}),(0,q.jsx)(Jt.Z,{className:Ei.data,children:(0,q.jsxs)(X.Z,{colorname:"--white",fontSize:"20px",fontWeight:"700",children:[null!==(L=(0,pi.RG)((0,pi.ZA)(null===H||void 0===H?void 0:H.avgMemory),3))&&void 0!==L?L:"N/A"," ",void 0!==(null===H||void 0===H?void 0:H.avgMemory)?"MB":""]})})]})]}),(0,q.jsxs)(s.Z,{className:Ei.submissionText,children:[(0,q.jsx)(s.Z,{className:Ei.feedbackTitle,children:(0,q.jsx)(X.Z,{fontWeight:700,"translation-key":"detail_admin_problem_submission_detail_solution",children:E("detail_admin_problem_submission_detail_solution")})}),(0,q.jsx)(s.Z,{"data-color-mode":"light",children:(0,q.jsx)(Mi.ZP.Markdown,{source:"```java\n"+$.source_code})})]})]})})]})]})}):null},Ri={errorBox:{backgroundColor:"var(--red-background)",borderRadius:1,paddingX:1}};var Oi=a(51485);const Ui=()=>{const{t:e}=(0,N.$G)(),t=(0,o.s0)(),[a,n]=(0,S.useState)(""),[r,m]=(0,S.useState)((()=>v.ZP.language)),[x,h]=(0,S.useState)([{key:"Status",value:"ALL"}]),[C,w]=(0,S.useState)(!1),[k,T]=(0,S.useState)(""),[z,M]=(0,S.useState)({currentPage:0,totalItems:0,totalPages:0,items:[]}),L=(0,P.v9)((e=>e.loading)),E=(0,P.I0)(),W=(0,S.useCallback)((async t=>{let{searchName:a,pageNo:i=0,pageSize:s=10}=t;E((0,Dt.K4)(!0));try{const e=await Oi.M.getAllOrganizations({searchName:a,pageNo:i,pageSize:s});M({currentPage:e.currentPage,totalItems:e.totalItems,totalPages:e.totalPages,items:e.organizations}),E((0,Dt.K4)(!1))}catch(n){console.error("error",n),401!==n.code&&403!==n.code||E((0,I.lS)(e("common_please_login_to_continue"))),E((0,Dt.K4)(!1))}}),[E,e]),R=(0,S.useCallback)((e=>{W({searchName:e})}),[W]),O=[{field:"email",headerName:e("organization_email"),flex:2,renderHeader:()=>(0,q.jsx)(Z.Z,{nonoverflow:!0,width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("organization_email")}),renderCell:e=>(0,q.jsx)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:(0,q.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.email})})},{field:"name",headerName:e("organization_name"),flex:2,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("organization_name")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:e.row.name})},{field:"phone",headerName:e("organization_phone"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("organization_phone")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:e.row.phone})},{field:"updatedAt",headerName:e("common_updated_at"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_updated_at")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:(0,D.J$)(e.row.updatedAt,r)})},{field:"isDeleted",headerName:e("common_is_blocked"),flex:.6,align:"center",renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_is_blocked")}),renderCell:e=>(0,q.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isDeleted,sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"isVerified",headerName:e("common_is_verified"),flex:.6,align:"center",renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_is_verified")}),renderCell:e=>(0,q.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isVerified,sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"action",headerName:e("common_action"),type:"actions",flex:.8,renderHeader:()=>(0,q.jsx)(y.Z,{width:"auto",sx:{textAlign:"left"},children:e("common_action")}),getActions:e=>[(0,q.jsx)(p.u,{icon:(0,q.jsx)(c.Z,{}),label:"Edit",onClick:()=>{t(A._.admin.organizations.edit.details.replace(":organizationId",e.row.organizationId),{state:{contestName:e.row.name}})}}),(0,q.jsx)(p.u,{onClick:()=>{T(e.row.organizationId),w(!0)},icon:(0,q.jsx)(l.Z,{}),label:"Delete"})]}],[U,B]=(0,S.useState)(0),[F,H]=(0,S.useState)(10),G=(0,S.useMemo)((()=>(null===z||void 0===z?void 0:z.totalItems)||0),[null===z||void 0===z?void 0:z.totalItems]),V=(0,S.useMemo)((()=>z.items.length>0?z.items.map((e=>({id:e.organizationId,organizationId:e.organizationId,email:e.email,name:e.name,description:e.description,phone:e.phone,address:e.address,apiKey:e.apiKey,moodleUrl:e.moodleUrl,createdAt:e.createdAt,updatedAt:e.updatedAt,isDeleted:e.isDeleted,isVerified:e.isVerified}))):[]),[z.items]),Q=(0,S.useCallback)((()=>{W({searchName:a})}),[W,a]),$=(0,S.useCallback)((()=>{W({searchName:a})}),[W,a]);(0,S.useEffect)((()=>{m(v.ZP.language)}),[v.ZP.language]),(0,S.useEffect)((()=>{(async()=>{await W({searchName:""})})()}),[E,W]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(_.Z,{isOpen:C,title:"Confirm delete",description:"Are you sure you want to delete this organization?",onCancel:()=>{w(!1)},onDelete:async()=>{Oi.M.deleteOrganizationBySystemAdmin(k).then((e=>{E((0,I.kU)("Delete organization successfully")),W({searchName:""})})).catch((e=>{console.error("error",e),E((0,I.lS)("Delete organization failed"))})).finally((()=>{w(!1)}))}}),(0,q.jsx)(s.Z,{children:(0,q.jsxs)(i.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(j.Z,{"translate-key":"organization_management",children:e("organization_management")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(f.Z,{isLoading:L.loading,searchValue:a,setSearchValue:n,onHandleChange:R,createBtnText:e("organization_create"),onClickCreate:()=>{t(A._.admin.organizations.create)},numOfResults:G,filterKeyList:[{label:e("common_status"),value:"Status"}],filterValueList:{Status:[{label:e("common_all"),value:"ALL"},{label:e("common_active"),value:"ACTIVE"},{label:e("common_inactive"),value:"INACTIVE"}]},filters:x,handleChangeFilters:e=>{h(e)},onHandleApplyFilter:Q,onHandleCancelFilter:$})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{loading:L.loading,dataList:V,tableHeader:O,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:U,pageSize:F,totalElement:G,onPaginationModelChange:(e,t)=>{B(e.page),H(e.pageSize),W({searchName:a,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})})]})};var Bi=a(91838);const Fi={formBody:"styles_formBody__-bgFU",breadcump:"styles_breadcump__+GQ-5",phoneInput:"styles_phoneInput__fodxg",textArea:"styles_textArea__TWsC6"},Hi=()=>{var e,t,a,n,r;const l=(0,S.useRef)(null),{t:c}=(0,N.$G)(),d=(0,o.s0)(),[m,u]=(0,S.useState)(!1),x=(0,P.I0)(),h=(0,S.useMemo)((()=>G.Ry().shape({email:G.Z_().required(c("email_required")).email(c("email_invalid")),name:G.Z_().required(c("organization_name_required")),description:G.Z_(),address:G.Z_().required(c("organization_address_required")),phone:G.Z_().matches(/^\+?[1-9][0-9]{7,14}$/,c("phone_number_invalid")).required(c("phone_required"))})),[c]),{handleSubmit:p,control:g,formState:{errors:_},register:f}=(0,H.cI)({resolver:(0,L.X)(h)}),Z=(0,S.useCallback)((async e=>{u(!0);try{await Oi.M.createOrganization(e),u(!1),x((0,I.kU)("Created organization successfully")),d(A._.admin.organizations.root)}catch(t){console.error("error",t),x((0,I.lS)("Organization creation failed!!! please check your input information")),401!==t.code&&403!==t.code||x((0,I.lS)(c("common_please_login_to_continue"))),u(!1)}}),[c]);return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(s.Z,{className:Fi.breadcump,ref:l,children:(0,q.jsx)(s.Z,{id:Fi.breadcumpWrapper,children:(0,q.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.organizations.root,label:c("organization_management")}],lastBreadCrumbLabel:c("organization_create")})})}),(0,q.jsxs)(s.Z,{sx:{padding:"0px 20px 20px 20px"},children:[(0,q.jsx)(j.Z,{"translate-key":"user_create",children:c("organization_create")}),(0,q.jsxs)(s.Z,{component:"form",className:Fi.formBody,onSubmit:p((async e=>{const t={...e},a={email:t.email,description:t.description,name:t.name,address:t.address,phone:t.phone};await Z(a)})),children:[(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,children:(0,q.jsx)(y.Z,{"translation-key":"common_phone",children:c("common_phone")})}),(0,q.jsxs)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:[(0,q.jsx)(H.Qr,{control:g,name:"phone",render:e=>{let{field:t}=e;return(0,q.jsx)(Lt.ZP,{value:t.value,placeholder:"Enter phone number",onChange:t.onChange,className:Fi.phoneInput,defaultCountry:"VN"})}}),(null===(e=_.phone)||void 0===e?void 0:e.message)&&(0,q.jsx)(B.Z,{children:null===(t=_.phone)||void 0===t?void 0:t.message})]})]}),(0,q.jsx)(U.Z,{title:c("Email"),type:"text",inputRef:f("email"),errorMessage:null===_||void 0===_||null===(a=_.email)||void 0===a?void 0:a.message,width:"100%"}),(0,q.jsx)(U.Z,{title:c("organization_name"),type:"text",inputRef:f("name"),errorMessage:null===_||void 0===_||null===(n=_.name)||void 0===n?void 0:n.message,width:"100%"}),(0,q.jsx)(U.Z,{title:c("organization_address"),type:"text",inputRef:f("address"),errorMessage:null===_||void 0===_||null===(r=_.address)||void 0===r?void 0:r.message,width:"100%"}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,children:(0,q.jsx)(y.Z,{"translation-key":"common_description",children:c("common_description")})}),(0,q.jsx)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:(0,q.jsx)(Bi.u,{"aria-label":"empty textarea","translation-key":"common_description",placeholder:c("common_description"),className:Fi.textArea,minRows:5,...f("description"),"aria-invalid":!!_.description})})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,q.jsx)(E.Z,{loading:m,variant:"solid",type:"submit","translation-key":"user_create",children:c("organization_create")})})]})]})]})})},Gi={breadcump:"styles_breadcump__UneXy",tabs:"styles_tabs__cIQWX"},Vi="styles_formBody__r9jA0",Qi="styles_phoneInput__4J9F9",$i="styles_textArea__LKtLr",Ki=e=>{var t,a;const[n,r]=(0,S.useState)(!1),l=(0,P.I0)(),{t:c}=(0,N.$G)(),d=(0,S.useMemo)((()=>G.Ry().shape({isVerified:G.O7().required(c("organization_is_verified_required")),isDeleted:G.O7().required(c("organization_is_deleted_required"))})),[c]),{handleSubmit:m,control:x,formState:{errors:h},reset:p,register:g}=(0,H.cI)({resolver:(0,L.X)(d)}),{organizationId:_}=(0,o.UO)(),[f,j]=(0,S.useState)((()=>v.ZP.language)),[Z,b]=(0,S.useState)();(0,S.useEffect)((()=>{j(v.ZP.language)}),[v.ZP.language]);const C=(0,S.useCallback)((async e=>{try{const t=await Oi.M.getOrganizationById(e);t&&(p({isVerified:t.isVerified,isDeleted:t.isDeleted}),b(t))}catch(t){console.error("error",t)}}),[p]);(0,S.useEffect)((()=>{_&&!Z&&C(_)}),[Z,C,_]);const w=(0,S.useCallback)((async e=>{r(!0);try{if(!_)return;await Oi.M.updateOrganizationBySystemAdmin(_,e),r(!1),l((0,I.kU)("Updated organization successfully"))}catch(t){console.error("error",t),l((0,I.lS)("Organization is updated failed!!! please check your input information")),401!==t.code&&403!==t.code||l((0,I.lS)(c("common_please_login_to_continue"))),r(!1)}}),[l,c,_]);return(0,q.jsxs)(s.Z,{component:"form",className:Vi,onSubmit:m((async e=>{const t={...e},a={isVerified:t.isVerified,isDeleted:t.isDeleted};await w(a)})),children:[(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,children:(0,q.jsx)(y.Z,{"translation-key":"organization_phone",children:c("organization_phone")})}),(0,q.jsx)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:(0,q.jsx)(Lt.ZP,{placeholder:"Enter phone number",value:null===Z||void 0===Z?void 0:Z.phone,onChange:()=>{},disabled:!0,className:Qi})})]}),(0,q.jsx)(U.Z,{title:c("common_created_at"),type:"text",disabled:!0,value:(0,D.J$)(null===Z||void 0===Z?void 0:Z.createdAt,f),width:"100%"}),(null===Z||void 0===Z?void 0:Z.createdBy)&&(0,q.jsx)(U.Z,{title:c("common_created_by"),type:"text",disabled:!0,value:null===Z||void 0===Z?void 0:Z.createdBy.email,width:"100%"}),(0,q.jsx)(U.Z,{title:c("common_updated_at"),type:"text",disabled:!0,value:(0,D.J$)(null===Z||void 0===Z?void 0:Z.updatedAt,f),width:"100%"}),(null===Z||void 0===Z?void 0:Z.updatedBy)&&(0,q.jsx)(U.Z,{title:c("common_updated_by"),type:"text",disabled:!0,value:null===Z||void 0===Z?void 0:Z.updatedBy.email,width:"100%"}),(0,q.jsx)(U.Z,{title:c("organization_email"),type:"text",disabled:!0,value:null===Z||void 0===Z?void 0:Z.email,width:"100%"}),(0,q.jsx)(U.Z,{title:c("organization_url"),type:"text",disabled:!0,value:null===Z||void 0===Z?void 0:Z.moodleUrl,width:"100%"}),(0,q.jsx)(U.Z,{title:c("organization_name"),type:"text",disabled:!0,value:null===Z||void 0===Z?void 0:Z.name,width:"100%"}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,display:"flex",flexDirection:"row",alignItems:"center",children:(0,q.jsx)(y.Z,{"translation-key":"common_description",children:c("common_description")})}),(0,q.jsx)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",children:(0,q.jsx)(Bi.u,{"aria-label":"empty textarea","translation-key":"common_description",placeholder:c("common_description"),className:$i,disabled:!0,minRows:5,value:null===Z||void 0===Z?void 0:Z.description})})]}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,display:"flex",flexDirection:"row",alignItems:"center",children:(0,q.jsx)(y.Z,{"translation-key":"common_is_verified",children:c("common_is_verified")})}),(0,q.jsx)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",children:(0,q.jsx)(H.Qr,{control:x,name:"isVerified",render:e=>{let{field:t}=e;return(0,q.jsx)(u.Z,{size:"large",checked:!!t.value,...t,name:"isVerified"})}})})]}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,display:"flex",flexDirection:"row",alignItems:"center",children:(0,q.jsx)(y.Z,{"translation-key":"common_is_blocked",children:c("common_is_blocked")})}),(0,q.jsxs)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",children:[(0,q.jsx)(H.Qr,{control:x,name:"isDeleted",render:e=>{let{field:t}=e;return(0,q.jsx)(u.Z,{size:"large",checked:!!t.value,...t,name:"isDeleted"})}}),(null===(t=h.isDeleted)||void 0===t?void 0:t.message)&&(0,q.jsx)(B.Z,{children:null===(a=h.isDeleted)||void 0===a?void 0:a.message})]})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,q.jsx)(E.Z,{loading:n,variant:"solid",type:"submit","translation-key":"organization_update",children:c("organization_update")})})]})},Yi="styles_btnWrapper__czTJM",Ji="styles_pleaseVerifiedBody__q+piz";var Xi=a(15756);const es=()=>{const{t:e}=(0,N.$G)(),t=(0,o.s0)(),[a,n]=(0,S.useState)(""),{organizationId:r}=(0,o.UO)(),[x,h]=(0,S.useState)(),[C,w]=(0,S.useState)((()=>v.ZP.language)),[k,T]=(0,S.useState)([{key:"Status",value:"ALL"}]),[M,L]=(0,S.useState)({currentPage:0,totalItems:0,totalPages:0,items:[]}),E=(0,P.v9)((e=>e.loading)),W=(0,P.I0)(),R=(0,S.useCallback)((async e=>{try{W((0,Dt.K4)(!0));const t=await Oi.M.getOrganizationById(e);t&&h(t),W((0,Dt.K4)(!1))}catch(t){console.error("error",t),W((0,Dt.K4)(!1))}}),[]);(0,S.useEffect)((()=>{r&&!x&&R(r)}),[x,R,r]);const O=(0,S.useCallback)((async t=>{let{searchName:a,pageNo:i=0,pageSize:s=10}=t;if(r){W((0,Dt.K4)(!0));try{const e=await jt.K.getAllUserByOrganization({searchName:a,pageNo:i,pageSize:s,id:r});L({currentPage:e.currentPage,totalItems:e.totalItems,totalPages:e.totalPages,items:e.users}),W((0,Dt.K4)(!1))}catch(n){console.error("error",n),401!==n.code&&403!==n.code||W((0,I.lS)(e("common_please_login_to_continue"))),W((0,Dt.K4)(!1))}}}),[W,r,e]),U=(0,S.useCallback)((e=>{O({searchName:e})}),[O]),B=[{field:"email",headerName:"Email",flex:2,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:"Email"}),renderCell:e=>(0,q.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,q.jsx)(m.Z,{sx:{bgcolor:"".concat((0,z.M)("".concat(e.row.firstName," ").concat(e.row.lastName)))},alt:e.row.email,src:e.row.avatarUrl,children:e.row.firstName.charAt(0)}),(0,q.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"fullname",headerName:e("common_fullname"),flex:2,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_fullname")}),renderCell:e=>(0,q.jsxs)(b.Z,{width:"auto",children:[e.row.firstName," ",e.row.lastName]})},{field:"lastLogin",headerName:e("common_last_login"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_last_login")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:(0,D.J$)(e.row.lastLogin,C)})},{field:"isDeleted",headerName:e("common_is_blocked"),flex:.6,align:"center",renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_is_blocked")}),renderCell:e=>(0,q.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isDeleted,color:e.row.isDeleted?"success":"error",sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"roleName",headerName:e("common_role"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_role")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:e.row.roleName})},{field:"action",headerName:e("common_action"),type:"actions",flex:.8,renderHeader:()=>(0,q.jsx)(y.Z,{width:"auto",sx:{textAlign:"left"},children:e("common_action")}),getActions:e=>[(0,q.jsx)(p.u,{icon:(0,q.jsx)(c.Z,{}),label:"Edit",onClick:()=>{r&&t(A._.admin.organizations.edit.edit_user.replace(":userId",e.row.userId).replace(":organizationId",r))}}),(0,q.jsx)(p.u,{onClick:()=>{ie(e.row.userId),te(!0)},icon:(0,q.jsx)(l.Z,{}),label:"Delete"})]}],[F,H]=(0,S.useState)(0),[G,V]=(0,S.useState)(10),Q=(0,S.useMemo)((()=>M.totalItems||0),[M.totalItems]),$=(0,S.useMemo)((()=>[{name:zt.W.ADMIN,label:e("role_system_admin")},{name:zt.W.ADMIN_MOODLE,label:e("role_org_admin")},{name:zt.W.LECTURER_MOODLE,label:e("role_lecturer")},{name:zt.W.STUDENT_MOODLE,label:e("role_student")}]),[e]),K=(0,S.useCallback)((t=>{const a=$.find((e=>null===t||void 0===t?void 0:t.roles.some((t=>(null===t||void 0===t?void 0:t.name)===e.name))));return a?a.label:e("role_user")}),[$,e]),Y=(0,S.useMemo)((()=>M.items.length>0?M.items.map((e=>({id:e.userId,userId:e.userId,email:e.email,firstName:e.firstName,lastName:e.lastName,avatarUrl:e.avatarUrl,lastLogin:e.lastLogin,phone:e.phone,address:e.address,dob:e.dob,isLinkedWithGoogle:e.isLinkedWithGoogle,isLinkedWithMicrosoft:e.isLinkedWithMicrosoft,createdAt:e.createdAt,roleName:K(e),isDeleted:e.isDeleted}))):[]),[K,M.items]),J=(0,S.useCallback)((()=>{O({searchName:a})}),[O,a]),X=(0,S.useCallback)((()=>{O({searchName:a})}),[O,a]);(0,S.useEffect)((()=>{w(v.ZP.language)}),[v.ZP.language]),(0,S.useEffect)((()=>{(async()=>{await O({searchName:""})})()}),[W,O]);const[ee,te]=(0,S.useState)(!1),[ae,ie]=(0,S.useState)("");return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(_.Z,{isOpen:ee,title:"Confirm unassigned user",description:"Are you sure you want to unassigned this user to organization?",onCancel:()=>{te(!1)},onDelete:async()=>{jt.K.unassignedUserToOrganization(ae).then((e=>{W((0,I.kU)("Unassigned user successfully")),O({searchName:a})})).catch((e=>{console.error("error",e),W((0,I.lS)("Delete user failed"))})).finally((()=>{te(!1)}))}}),x&&!0===(null===x||void 0===x?void 0:x.isVerified)?(0,q.jsxs)(i.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,q.jsxs)(i.ZP,{item:!0,xs:12,children:[(0,q.jsx)(f.Z,{isLoading:E.loading,searchValue:a,setSearchValue:n,onHandleChange:U,numOfResults:Q,filterKeyList:[{label:e("common_status"),value:"Status"}],filterValueList:{Status:[{label:e("common_all"),value:"ALL"},{label:e("common_active"),value:"ACTIVE"},{label:e("common_inactive"),value:"INACTIVE"}]},filters:k,handleChangeFilters:e=>{T(e)},onHandleApplyFilter:J,onHandleCancelFilter:X}),(0,q.jsxs)(s.Z,{className:Yi,children:[(0,q.jsx)(ta.Z,{onClick:()=>{r&&t(A._.admin.organizations.edit.create_user.replace(":organizationId",r))},btnType:ta.s.Primary,"translation-key":"user_create",children:e("user_create")}),(0,q.jsx)(ta.Z,{onClick:()=>{r&&t(A._.admin.organizations.edit.assign_user.replace(":organizationId",r))},btnType:ta.s.Secondary,"translation-key":"user_assign_to_organization",children:e("user_assign_to_organization")})]})]}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{loading:E.loading,dataList:Y,tableHeader:B,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:F,pageSize:G,totalElement:Q,onPaginationModelChange:(e,t)=>{H(e.page),V(e.pageSize),O({searchName:a,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]}):(0,q.jsxs)(s.Z,{id:Ji,children:[(0,q.jsx)(Xi.Z,{sx:{fontSize:"100px",color:"var(--green-500)",margin:"0 auto"}}),(0,q.jsx)(j.Z,{children:e("organization_please_verified")})]})]})},ts="styles_formBody__2LxjL",as="styles_phoneInput__6LLBY";var is=a(14647);const ss=()=>{var e,t,a,n,r,l,c,d,m;const{t:u}=(0,N.$G)(),x=(0,o.s0)(),[h,p]=(0,S.useState)(!1),g=(0,P.I0)(),_=(0,S.useMemo)((()=>G.Ry().shape({email:G.Z_().required(u("email_required")).email(u("email_invalid")),password:G.Z_().required(u("password_required")).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,u("password_invalid")),confirmPassword:G.Z_().required(u("password_confirm_required")).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,u("password_invalid")).oneOf([G.iH("password")],u("password_confirm_not_match")),firstName:G.Z_().required(u("first_name_required")),lastName:G.Z_().required(u("last_name_required")),roleName:G.Ry().shape({id:G.Z_().required(u("role_required")),name:G.Z_().required(u("role_required"))}).required(u("role_required")),phone:G.Z_().matches(/^\+?[1-9][0-9]{7,14}$/,u("phone_number_invalid")).required(u("phone_required"))})),[u]),{handleSubmit:f,control:Z,formState:{errors:b},register:v}=(0,H.cI)({resolver:(0,L.X)(_)}),C=(0,S.useCallback)((async e=>{p(!0);try{await jt.K.createUserByAdmin(e),p(!1),g((0,I.kU)("Created user successfully")),k&&x(A._.admin.organizations.edit.list_users.replace(":organizationId",k))}catch(t){console.error("error",t),g((0,I.lS)("User creation failed!!! please check your input information")),401!==t.code&&403!==t.code||g((0,I.lS)(u("common_please_login_to_continue"))),p(!1)}}),[u]),w=(0,S.useMemo)((()=>[{id:zt.W.LECTURER_MOODLE,name:u("role_lecturer")},{id:zt.W.STUDENT_MOODLE,name:u("role_student")},{id:zt.W.ADMIN_MOODLE,name:u("role_org_admin")}]),[u]),{organizationId:k}=(0,o.UO)();return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(ta.Z,{startIcon:(0,q.jsx)(is.Z,{}),btnType:ta.s.Text,onClick:()=>{k&&x(A._.admin.organizations.edit.list_users.replace(":organizationId",k))},children:"Quay l\u1ea1i"}),(0,q.jsx)(j.Z,{"translate-key":"user_create",children:u("user_create")}),(0,q.jsxs)(s.Z,{component:"form",className:ts,onSubmit:f((async e=>{const t={...e},a={organizationId:k,email:t.email,password:t.password,firstName:t.firstName,lastName:t.lastName,roleName:t.roleName.id,phone:t.phone};await C(a)})),children:[(0,q.jsx)(Et.Z,{fullWidth:!0,title:u("common_role"),name:"roleName",control:Z,selectProps:{options:w},errorMessage:null===(e=b.roleName)||void 0===e||null===(t=e.id)||void 0===t?void 0:t.message}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,children:(0,q.jsx)(y.Z,{"translation-key":"common_phone",children:u("common_phone")})}),(0,q.jsxs)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:[(0,q.jsx)(H.Qr,{control:Z,name:"phone",render:e=>{let{field:t}=e;return(0,q.jsx)(Lt.ZP,{value:t.value,placeholder:"Enter phone number",onChange:t.onChange,className:as,defaultCountry:"VN"})}}),(null===(a=b.phone)||void 0===a?void 0:a.message)&&(0,q.jsx)(B.Z,{children:null===(n=b.phone)||void 0===n?void 0:n.message})]})]}),(0,q.jsx)(U.Z,{title:u("Email"),type:"text",inputRef:v("email"),errorMessage:null===b||void 0===b||null===(r=b.email)||void 0===r?void 0:r.message,width:"100%"}),(0,q.jsx)(U.Z,{title:u("first_name"),type:"text",inputRef:v("firstName"),errorMessage:null===b||void 0===b||null===(l=b.firstName)||void 0===l?void 0:l.message,width:"100%"}),(0,q.jsx)(U.Z,{title:u("last_name"),type:"text",inputRef:v("lastName"),errorMessage:null===b||void 0===b||null===(c=b.lastName)||void 0===c?void 0:c.message,width:"100%"}),(0,q.jsx)(U.Z,{title:u("common_password"),type:"password",inputRef:v("password"),errorMessage:null===b||void 0===b||null===(d=b.password)||void 0===d?void 0:d.message,width:"100%"}),(0,q.jsx)(U.Z,{title:u("common_password_confirm"),type:"password",inputRef:v("confirmPassword"),errorMessage:null===b||void 0===b||null===(m=b.confirmPassword)||void 0===m?void 0:m.message,width:"100%"}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,q.jsx)(E.Z,{loading:h,variant:"solid",type:"submit","translation-key":"user_create",children:u("user_create")})})]})]})})},ns="styles_formBody__QcWU1",rs="styles_titleWrapper__vDWgz";function os(e){let{open:t,title:a,handleClose:s,children:n,isConfirmLoading:r=!1,handleUserSelected:l,...c}=e;const{t:x}=(0,N.$G)(),[h,p]=((0,o.s0)(),(0,S.useState)("")),[_,j]=(0,S.useState)((()=>v.ZP.language)),[y,C]=(0,S.useState)({currentPage:0,totalItems:0,totalPages:0,items:[]}),w=(0,P.v9)((e=>e.loading)),[k,A]=(0,S.useState)([{key:"Status",value:"ALL"}]),T=(0,P.I0)(),M=(0,S.useCallback)((async e=>{let{searchName:t,pageNo:a=0,pageSize:i=10,belongToOrg:s=Tt.c.NOT_BELONG_TO_ORGANIZATION}=e;T((0,Dt.K4)(!0));try{const e=await jt.K.getAllUser({searchName:t,pageNo:a,pageSize:i,belongToOrg:s});C({currentPage:e.currentPage,totalItems:e.totalItems,totalPages:e.totalPages,items:e.users}),T((0,Dt.K4)(!1))}catch(n){console.error("error",n),401!==n.code&&403!==n.code||T((0,I.lS)(x("common_please_login_to_continue"))),T((0,Dt.K4)(!1))}}),[T,x]),L=(0,S.useCallback)((e=>{M({searchName:e})}),[M]),E=[{field:"email",headerName:"Email",flex:2.5,renderHeader:()=>(0,q.jsx)(Z.Z,{nonoverflow:!0,width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:"Email"}),renderCell:e=>(0,q.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,q.jsx)(m.Z,{sx:{bgcolor:"".concat((0,z.M)("".concat(e.row.firstName," ").concat(e.row.lastName)))},alt:e.row.email,src:e.row.avatarUrl,children:e.row.firstName.charAt(0)}),(0,q.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"fullname",headerName:x("common_fullname"),flex:1.5,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:x("common_fullname")}),renderCell:e=>(0,q.jsxs)(b.Z,{width:"auto",children:[e.row.firstName," ",e.row.lastName]})},{field:"lastLogin",headerName:x("common_last_login"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:x("common_last_login")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:(0,D.J$)(e.row.lastLogin,_)})},{field:"isDeleted",headerName:x("common_is_blocked"),flex:.6,align:"center",renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:x("common_is_blocked")}),renderCell:e=>(0,q.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isDeleted,color:e.row.isDeleted?"success":"error",sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"isBelongToOrganization",headerName:x("common_is_belong_to_organization"),flex:.6,align:"center",renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:x("common_is_belong_to_organization")}),renderCell:e=>(0,q.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isBelongToOrganization,sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"roleName",headerName:x("common_role"),flex:1,renderHeader:()=>(0,q.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:x("common_role")}),renderCell:e=>(0,q.jsx)(b.Z,{width:"auto",children:e.row.roleName})}],[W,R]=(0,S.useState)(0),[O,U]=(0,S.useState)(10),B=(0,S.useMemo)((()=>y.totalItems||0),[y.totalItems]),F=(0,S.useMemo)((()=>[{name:zt.W.ADMIN,label:x("role_system_admin")},{name:zt.W.ADMIN_MOODLE,label:x("role_org_admin")},{name:zt.W.LECTURER_MOODLE,label:x("role_lecturer")},{name:zt.W.STUDENT_MOODLE,label:x("role_student")}]),[x]),H=(0,S.useCallback)((e=>{const t=F.find((t=>null===e||void 0===e?void 0:e.roles.some((e=>(null===e||void 0===e?void 0:e.name)===t.name))));return t?t.label:x("role_user")}),[F,x]),G=(0,S.useMemo)((()=>y.items.length>0?y.items.map((e=>({id:e.userId,userId:e.userId,email:e.email,firstName:e.firstName,lastName:e.lastName,avatarUrl:e.avatarUrl,lastLogin:e.lastLogin,phone:e.phone,address:e.address,dob:e.dob,isLinkedWithGoogle:e.isLinkedWithGoogle,isLinkedWithMicrosoft:e.isLinkedWithMicrosoft,createdAt:e.createdAt,roleName:H(e),isDeleted:e.isDeleted,isBelongToOrganization:!!e.organization}))):[]),[H,y.items]),V=(0,S.useCallback)((()=>{M({searchName:h})}),[M,h]),Q=(0,S.useCallback)((()=>{M({searchName:h})}),[M,h]);(0,S.useEffect)((()=>{j(v.ZP.language)}),[v.ZP.language]),(0,S.useEffect)((()=>{(async()=>{await M({searchName:""})})()}),[T,M]);return(0,q.jsx)(be.Z,{open:t,handleClose:s,title:a,actionsDisabled:!0,minWidth:"1000px",...c,children:(0,q.jsxs)(i.ZP,{container:!0,spacing:2,children:[(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(ye.Z,{"translate-key":"user_management",children:x("user_management")})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(f.Z,{isLoading:w.loading,searchValue:h,setSearchValue:p,onHandleChange:L,numOfResults:B,filterKeyList:[{label:x("common_status"),value:"Status"}],filterValueList:{Status:[{label:x("common_all"),value:"ALL"},{label:x("common_active"),value:"ACTIVE"},{label:x("common_inactive"),value:"INACTIVE"}]},filters:k,handleChangeFilters:e=>{A(e)},onHandleApplyFilter:V,onHandleCancelFilter:Q})}),(0,q.jsx)(i.ZP,{item:!0,xs:12,children:(0,q.jsx)(g.Z,{loading:w.loading,dataList:G,tableHeader:E,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:W,pageSize:O,totalElement:B,onPaginationModelChange:(e,t)=>{R(e.page),U(e.pageSize),M({searchName:h,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{l(e.row),s()},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})})}const ls=()=>{var e,t;const{t:a}=(0,N.$G)(),n=(0,o.s0)(),[r,l]=(0,S.useState)(!1),[c,d]=(0,S.useState)(),u=(0,P.I0)(),[x,h]=(0,S.useState)((()=>v.ZP.language)),{organizationId:p}=(0,o.UO)(),g=(0,S.useMemo)((()=>G.Ry().shape({roleName:G.Ry().shape({id:G.Z_().required(a("role_required")),name:G.Z_().required(a("role_required"))}).required(a("role_required"))})),[a]),{handleSubmit:_,control:f,formState:{errors:Z},reset:b}=(0,H.cI)({resolver:(0,L.X)(g)}),y=(0,S.useCallback)((async(e,t)=>{l(!0);try{await jt.K.assignUserToOrganization(e,t),l(!1),u((0,I.kU)("User assigned successfully!!!")),p&&n(A._.admin.organizations.edit.list_users.replace(":organizationId",p))}catch(i){console.error("error",i),u((0,I.lS)("User assignation failed!!! please check your input information")),401!==i.code&&403!==i.code||u((0,I.lS)(a("common_please_login_to_continue"))),l(!1)}}),[a]),C=(0,S.useMemo)((()=>[{id:zt.W.LECTURER_MOODLE,name:a("role_lecturer")},{id:zt.W.STUDENT_MOODLE,name:a("role_student")},{id:zt.W.ADMIN_MOODLE,name:a("role_org_admin")}]),[a]),[w,k]=(0,S.useState)(!1);return(0,S.useEffect)((()=>{h(v.ZP.language)}),[v.ZP.language]),(0,q.jsxs)(q.Fragment,{children:[w&&(0,q.jsx)(os,{open:w,title:a("user_select_from_list"),handleClose:()=>{k(!1)},handleUserSelected:e=>{d(e),b({roleName:C.find((t=>t.name===e.roleName))})},maxWidth:"md"}),(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(ta.Z,{startIcon:(0,q.jsx)(is.Z,{}),btnType:ta.s.Text,onClick:()=>{p&&n(A._.admin.organizations.edit.list_users.replace(":organizationId",p))},children:"Quay l\u1ea1i"}),(0,q.jsxs)(s.Z,{id:rs,children:[(0,q.jsx)(j.Z,{"translate-key":"user_assign_to_organization",children:a("user_assign_to_organization")}),(0,q.jsx)(ta.Z,{btnType:ta.s.Outlined,"translate-key":"user_select_from_list",onClick:()=>{k(!0)},children:a("user_select_from_list")})]}),(0,q.jsxs)(s.Z,{component:"form",className:ns,onSubmit:_((async e=>{const t={...e};if(null===c||void 0===c||!c.userId||!p)return void u((0,I.lS)("Please select a user to assign to organization"));const a={roleName:t.roleName.id,organizationId:p};await y(c.userId,a)})),children:[(0,q.jsx)(i.ZP,{container:!0,columns:12,justifyContent:"center",children:(0,q.jsx)(m.Z,{sx:{bgcolor:"".concat((0,z.M)("".concat(null===c||void 0===c?void 0:c.firstName," ").concat(null===c||void 0===c?void 0:c.lastName))),width:150,height:150,fontSize:"60px"},alt:null===c||void 0===c?void 0:c.email,src:null===c||void 0===c?void 0:c.avatarUrl,children:null===c||void 0===c?void 0:c.firstName.charAt(0)})}),(0,q.jsx)(Et.Z,{fullWidth:!0,title:a("common_role"),name:"roleName",control:f,selectProps:{options:C},errorMessage:null===(e=Z.roleName)||void 0===e||null===(t=e.id)||void 0===t?void 0:t.message}),(0,q.jsx)(U.Z,{title:a("common_last_login"),type:"text",disabled:!0,value:(0,D.J$)(null===c||void 0===c?void 0:c.lastLogin,x),width:"100%"}),(0,q.jsx)(U.Z,{title:a("Email"),type:"text",disabled:!0,value:null===c||void 0===c?void 0:c.email,width:"100%"}),(0,q.jsx)(U.Z,{title:a("first_name"),type:"text",disabled:!0,value:null===c||void 0===c?void 0:c.firstName,width:"100%"}),(0,q.jsx)(U.Z,{title:a("last_name"),type:"text",disabled:!0,value:null===c||void 0===c?void 0:c.lastLogin,width:"100%"}),(0,q.jsx)(i.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,q.jsx)(E.Z,{loading:r,variant:"solid",type:"submit","translation-key":"user_assign_to_organization",children:a("user_assign_to_organization")})})]})]})]})},cs="styles_formBody__yN0td",ds="styles_phoneInput__5jKWr",ms=()=>{const{t:e}=(0,N.$G)(),t=(0,o.s0)(),{userId:a}=(0,o.UO)(),[n,r]=(0,S.useState)((()=>v.ZP.language)),[l,c]=(0,S.useState)();(0,S.useEffect)((()=>{r(v.ZP.language)}),[v.ZP.language]);const d=(0,S.useCallback)((async e=>{try{const t=await jt.K.getUserById(e);t&&c(t)}catch(t){console.error("error",t)}}),[]);(0,S.useEffect)((()=>{!l&&a&&d(a)}),[l,d,a]);const{organizationId:u}=(0,o.UO)();return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(ta.Z,{startIcon:(0,q.jsx)(is.Z,{}),btnType:ta.s.Text,onClick:()=>{u&&t(A._.admin.organizations.edit.list_users.replace(":organizationId",u))},children:"Quay l\u1ea1i"}),(0,q.jsxs)(s.Z,{sx:{padding:"0px 20px 20px 20px"},children:[(0,q.jsx)(j.Z,{"translate-key":"common_account_info",children:e("common_account_info")}),(0,q.jsxs)(s.Z,{component:"form",className:cs,children:[(0,q.jsx)(i.ZP,{container:!0,columns:12,justifyContent:"center",children:(0,q.jsx)(m.Z,{sx:{bgcolor:"".concat((0,z.M)("".concat(null===l||void 0===l?void 0:l.firstName," ").concat(null===l||void 0===l?void 0:l.lastName))),width:150,height:150,fontSize:"60px"},alt:null===l||void 0===l?void 0:l.email,src:null===l||void 0===l?void 0:l.avatarUrl,children:null===l||void 0===l?void 0:l.firstName.charAt(0)})}),(0,q.jsx)(U.Z,{title:e("common_organization_name"),type:"text",disabled:!0,value:null===l||void 0===l?void 0:l.organization.name,width:"100%"}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsx)(i.ZP,{item:!0,xs:4,children:(0,q.jsx)(y.Z,{"translation-key":"common_phone",children:e("common_phone")})}),(0,q.jsx)(i.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:(0,q.jsx)(Lt.ZP,{placeholder:"Enter phone number",value:null===l||void 0===l?void 0:l.phone,onChange:()=>{},disabled:!0,className:ds})})]}),(0,q.jsx)(U.Z,{title:e("common_last_login"),type:"text",disabled:!0,value:(0,D.J$)(null===l||void 0===l?void 0:l.lastLogin,n),width:"100%"}),(0,q.jsx)(U.Z,{title:e("Email"),type:"text",disabled:!0,value:null===l||void 0===l?void 0:l.email,width:"100%"}),(0,q.jsx)(U.Z,{title:e("first_name"),type:"text",disabled:!0,value:null===l||void 0===l?void 0:l.firstName,width:"100%"}),(0,q.jsx)(U.Z,{title:e("last_name"),type:"text",disabled:!0,value:null===l||void 0===l?void 0:l.lastName,width:"100%"}),l&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsxs)(i.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center"},children:[Ee.Z.logo.moodleLogo&&(0,q.jsx)(m.Z,{alt:"Google",src:Ee.Z.logo.googleLogo,sx:{width:"40px",height:"40px"}}),(0,q.jsx)(X.Z,{sx:{marginLeft:"5px"},children:"Google"})]}),(0,q.jsx)(i.ZP,{item:!0,xs:7,sx:{display:"flex",alignItems:"center"},children:null!==l&&void 0!==l&&l.isLinkedWithGoogle?(0,q.jsx)(X.Z,{"translation-key":"user_detail_dialog_linked",children:e("user_detail_dialog_linked")}):(0,q.jsx)(X.Z,{"translation-key":"user_detail_dialog_not_linked",children:e("user_detail_dialog_not_linked")})})]}),(0,q.jsx)(h.Z,{}),(0,q.jsxs)(i.ZP,{container:!0,spacing:1,columns:12,children:[(0,q.jsxs)(i.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center"},children:[Ee.Z.logo.moodleLogo&&(0,q.jsx)(m.Z,{alt:"Microsoft",src:Ee.Z.logo.microsoftLogo,sx:{width:"40px",height:"40px"}}),(0,q.jsx)(X.Z,{sx:{marginLeft:"5px"},children:"Microsoft"})]}),(0,q.jsx)(i.ZP,{item:!0,xs:7,sx:{display:"flex",alignItems:"center"},children:null!==l&&void 0!==l&&l.isLinkedWithMicrosoft?(0,q.jsx)(X.Z,{"translation-key":"user_detail_dialog_linked",children:e("user_detail_dialog_linked")}):(0,q.jsx)(X.Z,{"translation-key":"user_detail_dialog_not_linked",children:e("user_detail_dialog_not_linked")})})]}),(0,q.jsx)(h.Z,{})]})]})]})]})})},us=()=>{const{t:e}=(0,N.$G)(),t=(0,S.useMemo)((()=>[A._.admin.organizations.edit.details,A._.admin.organizations.edit.list_users]),[A._]),{pathname:a}=(0,o.TH)(),{organizationId:i}=(0,o.UO)(),n=(0,S.useMemo)((()=>{if(i){const e=t.findIndex((e=>{return t=e.replace(":organizationId",i),!!a.startsWith(t);var t}));return-1===e?0:e}}),[a,t]),r=(0,o.s0)();return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)(s.Z,{children:[(0,q.jsx)(s.Z,{className:Gi.breadcump,children:(0,q.jsx)(s.Z,{id:Gi.breadcumpWrapper,children:(0,q.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.organizations.root,label:e("organization_management")}],lastBreadCrumbLabel:e("organization_information")})})}),(0,q.jsxs)(s.Z,{sx:{padding:"0px 20px 20px 20px"},children:[(0,q.jsx)(j.Z,{"translate-key":"organization_information",children:e("organization_information")}),(0,q.jsx)(s.Z,{sx:{margin:"20px 0px",borderRadius:"5px",border:"1px solid #e0e0e0"},children:(0,q.jsxs)(Y.Z,{value:n,onChange:(e,a)=>{i&&r(t[a].replace(":organizationId",i))},"aria-label":"basic tabs example",className:Gi.tabs,variant:"fullWidth",children:[(0,q.jsx)(J.Z,{sx:{textTransform:"none"},label:(0,q.jsx)(X.Z,{"translate-key":"common_details",children:e("common_details")}),value:0}),(0,q.jsx)(J.Z,{sx:{textTransform:"none"},label:(0,q.jsx)(X.Z,{"translate-key":"organization_list_users",children:e("organization_list_users")}),value:1})]})}),(0,q.jsx)(s.Z,{children:(0,q.jsxs)(o.Z5,{children:[(0,q.jsx)(o.AW,{path:"details",element:(0,q.jsx)(Ki,{})}),(0,q.jsx)(o.AW,{path:"users",element:(0,q.jsx)(es,{})}),(0,q.jsx)(o.AW,{path:"users/create",element:(0,q.jsx)(ss,{})}),(0,q.jsx)(o.AW,{path:"users/:userId",element:(0,q.jsx)(ms,{})}),(0,q.jsx)(o.AW,{path:"users/assign-user",element:(0,q.jsx)(ls,{})}),(0,q.jsx)(o.AW,{path:"*",element:(0,q.jsx)(ee.Z,{})})]})})]})]})})},xs=e=>{const[t,a]=S.useState(!0),l=(0,P.I0)();return(0,q.jsx)(i.ZP,{className:n,children:(0,q.jsx)(mt,{open:t,toggleDrawer:()=>{a((e=>!e)),l((0,Ta.G)())},children:(0,q.jsx)(s.Z,{className:r,children:(0,q.jsxs)(o.Z5,{children:[(0,q.jsx)(o.AW,{path:"contests",element:(0,q.jsx)(M,{})}),(0,q.jsx)(o.AW,{path:"contests/create",element:(0,q.jsx)(K,{})}),(0,q.jsx)(o.AW,{path:"contests/:contestId/submissions",element:(0,q.jsx)(gi,{})}),(0,q.jsx)(o.AW,{path:"contests/:contestId/submissions/:submissionId",element:(0,q.jsx)(Wi,{})}),(0,q.jsx)(o.AW,{path:"contests/edit/:contestId/*",element:(0,q.jsx)(Qe,{isDrawerOpen:t})}),(0,q.jsx)(o.AW,{path:"information",element:(0,q.jsx)(ut.Z,{})}),(0,q.jsx)(o.AW,{path:"/dashboard",element:(0,q.jsx)(At,{})}),(0,q.jsx)(o.AW,{path:"users",element:(0,q.jsx)(qt,{})}),(0,q.jsx)(o.AW,{path:"users/create",element:(0,q.jsx)(Wt,{})}),(0,q.jsx)(o.AW,{path:"users/edit/:userId/*",element:(0,q.jsx)(Qt,{})}),(0,q.jsx)(o.AW,{path:"organizations",element:(0,q.jsx)(Ui,{})}),(0,q.jsx)(o.AW,{path:"organizations/create",element:(0,q.jsx)(Hi,{})}),(0,q.jsx)(o.AW,{path:"organizations/edit/:organizationId/*",element:(0,q.jsx)(us,{})}),(0,q.jsx)(o.AW,{path:"/certificate-course",element:(0,q.jsx)(Yt,{})}),(0,q.jsx)(o.AW,{path:"question-bank-management",element:(0,q.jsx)(Aa,{})}),(0,q.jsx)(o.AW,{path:"question-bank-management/:categoryId",element:(0,q.jsx)(_a,{})}),(0,q.jsx)(o.AW,{path:"question-bank-management/:categoryId/create/short-answer",element:(0,q.jsx)(fa.default,{qtype:ia.Z.short_answer.code})}),(0,q.jsx)(o.AW,{path:"question-bank-management/:categoryId/create/essay",element:(0,q.jsx)(ja.default,{qtype:ia.Z.essay.code})}),(0,q.jsx)(o.AW,{path:"question-bank-management/:categoryId/create/multiple-choice",element:(0,q.jsx)(Za.default,{qtype:ia.Z.multiple_choice.code})}),(0,q.jsx)(o.AW,{path:"question-bank-management/:categoryId/create/true-false",element:(0,q.jsx)(ba.default,{qtype:ia.Z.true_false.code})}),(0,q.jsx)(o.AW,{path:"question-bank-management/:categoryId/create/code",element:(0,q.jsx)(ya.Z,{})}),(0,q.jsx)(o.AW,{path:"/certificate-course/create",element:(0,q.jsx)(li,{})}),(0,q.jsx)(o.AW,{path:"/code-questions",element:(0,q.jsx)(yi,{})}),(0,q.jsx)(o.AW,{path:"/code-questions/create",element:(0,q.jsx)(Ti,{})})]})})})})}},51485:(e,t,a)=>{a.d(t,{M:()=>r});var i=a(66010),s=a(65005);const n="https://api.codedynamite.click";class r{static async getAllOrganizations(e){let{searchName:t,pageNo:a=0,pageSize:r=10}=e;try{const e=await(0,s.Z)({baseURL:n,isAuthorization:!0}).get("".concat(i.b.AUTH.ORGANIZATION.GET_ALL_ORGANIZATIONS),{params:{searchName:t,pageNo:a,pageSize:r}});if(200===e.status)return e.data}catch(o){return Promise.reject({code:o.code||503,status:o.status||"Service Unavailable",message:o.message})}}static async getOrganizationById(e){try{const t=await(0,s.Z)({baseURL:n,isAuthorization:!0}).get("".concat(i.b.AUTH.ORGANIZATION.GET_ORGANIZATION_BY_ID.replace(":id",e)));if(200===t.status)return t.data}catch(t){return Promise.reject({code:t.code||503,status:t.status||"Service Unavailable",message:t.message})}}static async createOrganization(e){try{const t=await(0,s.Z)({baseURL:n,isAuthorization:!0}).post("".concat(i.b.AUTH.ORGANIZATION.CREATE_ORGANIZATION),e);if(201===t.status)return t.data}catch(d){var t,a,r,o,l,c;return Promise.reject({code:(null===(t=d.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.code)||503,status:(null===(r=d.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.status)||"Service Unavailable",message:(null===(l=d.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||d.message})}}static async createOrganizationByContactUs(e){try{const t=await(0,s.Z)({baseURL:n}).post("".concat(i.b.AUTH.ORGANIZATION.CREATE_ORGANIZATION_BY_CONTACT_US),e);if(201===t.status)return t.data}catch(d){var t,a,r,o,l,c;return Promise.reject({code:(null===(t=d.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.code)||503,status:(null===(r=d.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.status)||"Service Unavailable",message:(null===(l=d.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||d.message})}}static async updateOrganizationBySystemAdmin(e,t){try{const a=await(0,s.Z)({baseURL:n,isAuthorization:!0}).put("".concat(i.b.AUTH.ORGANIZATION.UPDATE_ORGANIZATION_BY_ID.replace(":id",e)),t);if(200===a.status)return a.data}catch(m){var a,r,o,l,c,d;return Promise.reject({code:(null===(a=m.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.code)||503,status:(null===(o=m.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.status)||"Service Unavailable",message:(null===(c=m.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)||m.message})}}static async deleteOrganizationBySystemAdmin(e){try{const t=await(0,s.Z)({baseURL:n,isAuthorization:!0}).delete("".concat(i.b.AUTH.ORGANIZATION.DELETE_ORGANIZATION_BY_ID.replace(":id",e)));if(200===t.status)return t.data}catch(d){var t,a,r,o,l,c;return Promise.reject({code:(null===(t=d.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.code)||503,status:(null===(r=d.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.status)||"Service Unavailable",message:(null===(l=d.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||d.message})}}}},30371:(e,t,a)=>{a.d(t,{r:()=>r});var i=a(66010),s=a(65005);const n="https://api.codedynamite.click";class r{static async getTopics(e){let{pageNo:t=0,pageSize:a=10,fetchAll:r}=e;try{const e=await(0,s.Z)({baseURL:n}).get("".concat(i.b.CORE.TOPIC.DEFAULT),{params:{pageNo:t,pageSize:a,fetchAll:r}});if(200===e.status)return e.data}catch(o){return Promise.reject({code:o.code||503,status:o.status||"Service Unavailable",message:o.message})}}static async getTopicById(e){try{const t=await(0,s.Z)({baseURL:n}).get("".concat(i.b.CORE.TOPIC.GET_BY_ID.replace(":id",e)));if(200===t.status)return t.data}catch(t){return Promise.reject({code:t.code||503,status:t.status||"Service Unavailable",message:t.message})}}static async updateTopicById(e,t){try{const a=await(0,s.Z)({baseURL:n,isAuthorization:!0}).put("".concat(i.b.CORE.TOPIC.GET_BY_ID.replace(":id",e)),t);if(200===a.status)return a.data}catch(a){return Promise.reject({code:a.code||503,status:a.status||"Service Unavailable",message:a.message})}}static async deleteTopicById(e){try{const t=await(0,s.Z)({baseURL:n,isAuthorization:!0}).delete("".concat(i.b.CORE.TOPIC.GET_BY_ID.replace(":id",e)));if(200===t.status)return t.data}catch(t){return Promise.reject({code:t.code||503,status:t.status||"Service Unavailable",message:t.message})}}}}}]);