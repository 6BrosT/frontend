"use strict";(self.webpackChunkfrontend_app=self.webpackChunkfrontend_app||[]).push([[157],{12117:(e,t,i)=>{i.d(t,{$:()=>a});let a=function(e){return e.BASIC="BASIC",e.INTERMEDIATE="INTERMEDIATE",e.ADVANCED="ADVANCED",e}({})},80157:(e,t,i)=>{i.r(t),i.d(t,{default:()=>bn});var a=i(9019),n=i(79536);const s="styles_root__zeGk-",r="styles_body__qqtSL";var o=i(58467),l=i(51997),c=i(65954),d=i(42832),m=i(48119),u=i(44758),x=i(66212),h=i(19536),p=i(81127),g=i(11053),_=i(29878),f=i(95326),j=i(31845),Z=i(68464),b=i(63408),v=i(99221),y=i(23885),C=i(68933),w=i(70816),k=i.n(w),S=i(47313),P=i(75590),N=i(65537),I=i(56289),A=i(90469),T=i(3152),D=i(22665),q=i(15162),z=i(46417);const E=()=>{(0,S.useRef)(null);const{t:e}=(0,P.$G)(),t=(0,o.s0)(),[i,n]=(0,S.useState)(""),[s,r]=(0,S.useState)((()=>y.ZP.language)),[w,E]=S.useState([{key:"Status",value:C.m.ALL}]),[L,M]=(0,S.useState)(0),[W,R]=(0,S.useState)(10),O=(0,N.I0)(),[B,U]=(0,S.useState)({isLoading:!1,contests:{contests:[],currentPage:0,totalItems:0,totalPages:0}}),H=(0,S.useCallback)((async t=>{let{searchName:i,startTimeFilter:a=C.m.ALL,pageNo:n=0,pageSize:s=10}=t;U((e=>({...e,isLoading:!0})));try{const e=await T.c.getContestsForAdmin({searchName:i,startTimeFilter:a,pageNo:n,pageSize:s});U((t=>({...t,isLoading:!1,contests:e})))}catch(r){console.error("error",r),401!==r.code&&403!==r.code||O((0,I.lS)(e("common_please_login_to_continue"))),U((e=>({...e,isLoading:!1})))}}),[O,e]),[F,G]=(0,S.useState)(!1),[V,Q]=(0,S.useState)(""),$=(0,S.useCallback)((e=>{M(0),H({searchName:e,startTimeFilter:w[0].value})}),[H,w]),Y=[{field:"name",headerName:e("common_name"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_name")}),renderCell:e=>(0,z.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,z.jsx)(m.Z,{sx:{bgcolor:"".concat((0,D.M)("".concat(e.row.name)))},alt:e.row.name,src:e.row.thumbnailUrl,children:e.row.name.charAt(0)}),(0,z.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.name})]})},{field:"startTime",headerName:e("common_start_time"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_start_time")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:(0,q.J$)(e.row.startTime,s)})},{field:"endTime",headerName:e("common_end_time"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_end_time")}),renderCell:t=>(0,z.jsx)(b.Z,{width:"auto",children:t.row.endTime?(0,q.J$)(t.row.endTime,s):e("contest_details_has_no_end_time")})},{field:"numOfParticipants",headerName:e("common_num_of_participants"),flex:.4,minWidth:100,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_num_of_participants")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:e.row.numOfParticipants})},{field:"isPublic",headerName:e("contest_is_public"),flex:.5,align:"center",renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("contest_is_public")}),renderCell:e=>(0,z.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isPublic,color:e.row.isPublic?"success":"error",sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"status",headerName:e("common_status"),flex:.7,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_status")}),renderCell:t=>(0,z.jsx)(x.Z,{size:"small",label:t.row.status===C.m.UPCOMING?e("common_upcoming"):t.row.status===C.m.HAPPENING?e("common_in_progress"):e("common_ended"),variant:"outlined",color:t.row.status===C.m.UPCOMING?"primary":t.row.status===C.m.HAPPENING?"success":"error",component:b.Z})},{field:"action",headerName:e("common_action"),type:"actions",flex:.6,renderHeader:()=>(0,z.jsx)(v.Z,{width:"auto",sx:{textAlign:"left"},children:e("common_action")}),getActions:e=>[(0,z.jsx)(p.u,{icon:(0,z.jsx)(c.Z,{}),label:"Edit",onClick:()=>{t(A._.admin.contest.edit.details.replace(":contestId",e.row.contestId))}}),(0,z.jsx)(p.u,{icon:(0,z.jsx)(l.Z,{}),label:"Delete",onClick:()=>{Q(e.row.contestId),G(!0)}})]}],K=(0,S.useMemo)((()=>B.contests.totalItems||0),[B.contests]),X=(0,S.useMemo)((()=>B.contests.contests.map((e=>{const t=e.startTime&&k()().utc().isBefore(e.startTime)?C.m.UPCOMING:e.endTime&&k()().utc().isAfter(e.endTime)?C.m.ENDED:C.m.HAPPENING;return{id:e.contestId,contestId:e.contestId,name:e.name,description:e.description,prizes:e.prizes,rules:e.rules,scoring:e.scoring,thumbnailUrl:e.thumbnailUrl,startTime:e.startTime,endTime:e.endTime,questions:e.questions,numOfParticipants:e.numOfParticipants,status:t,isPublic:e.isPublic,isRestrictedForum:e.isRestrictedForum,isDisabledForum:e.isDisabledForum,createdBy:e.createdBy,createdAt:e.createdAt,updatedAt:e.updatedAt,updatedBy:e.updatedBy}}))),[B.contests]),J=(0,S.useCallback)((()=>{H({searchName:i,startTimeFilter:w[0].value})}),[H,i,w]),ee=(0,S.useCallback)((()=>{E([{key:"Status",value:C.m.ALL}]),H({searchName:i,startTimeFilter:C.m.ALL})}),[H,i]);return(0,S.useEffect)((()=>{r(y.ZP.language)}),[y.ZP.language]),(0,S.useEffect)((()=>{(async()=>{H({searchName:"",startTimeFilter:C.m.ALL})})()}),[H]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(_.Z,{isOpen:F,title:e("dialog_confirm_delete_title"),description:e("dialog_confirm_delete_contest_description"),onCancel:()=>{G(!1)},onDelete:async()=>{T.c.deleteContest(V).then((t=>{M(0),H({searchName:i,startTimeFilter:w[0].value,pageNo:0,pageSize:W}),O((0,I.kU)(e("contest_delete_contest_success")))})).catch((t=>{console.error("error",t),O((0,I.lS)(e("contest_delete_contest_fail")))})).finally((()=>{G(!1)}))}}),(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{padding:"0px 20px 20px 20px"},children:[(0,z.jsx)(h.Z,{}),(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(j.Z,{"translate-key":"contest_management_title",children:e("contest_management_title")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(f.Z,{isLoading:B.isLoading,searchValue:i,setSearchValue:n,onHandleChange:$,createBtnText:e("contest_create"),onClickCreate:()=>{t(A._.admin.contest.create)},numOfResults:K,filterKeyList:[{label:e("common_status"),value:"Status"}],filterValueList:{Status:[{label:e("common_all"),value:C.m.ALL},{label:e("common_upcoming"),value:C.m.UPCOMING},{label:e("common_in_progress"),value:C.m.HAPPENING},{label:e("common_ended"),value:C.m.ENDED}]},filters:w,handleChangeFilters:e=>{E(e)},onHandleApplyFilter:J,onHandleCancelFilter:ee})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(g.Z,{loading:B.isLoading,dataList:X,tableHeader:Y,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:L,pageSize:W,totalElement:K,onPaginationModelChange:(e,t)=>{R(e.pageSize),M(e.page),H({searchName:i,startTimeFilter:C.m.ALL,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})]})};var L=i(62563),M=i(65898),W=i(83929),R=i(28765),O=i(15535),B=i(16977),U=i(82098),H=i(82793),F=i(75627),G=i(21933);const V="styles_formBody__4S2B5",Q="styles_breadcump__bLd4l",$="styles_breadcumpWrapper__QNcnk",Y=()=>{(0,S.useRef)(null);const{t:e}=(0,P.$G)(),t=(0,o.s0)(),[i,s]=(0,S.useState)(!1),r=(0,N.I0)(),l=(0,S.useMemo)((()=>G.Ry().shape({isNoEndTime:G.O7().required(e("contest_is_no_end_time_required")),name:G.Z_().required(e("contest_name_required")).trim(""),startTime:G.Z_().required(e("contest_start_time_required")).trim("").test("startTime",e("contest_start_time_greater_than_current_time"),(function(e){return k()(e).isAfter(k()().utc())})),endTime:G.Z_().nullable().test("endTime",e("contest_end_time_required"),(function(e){return!!this.parent.isNoEndTime||!!e})).test("endTime",e("contest_end_time_greater_than_start_time"),(function(e){return!!this.parent.isNoEndTime||k()(e).isAfter(this.parent.startTime)}))})),[e]),{control:c,handleSubmit:m,watch:x,formState:{errors:h},setValue:p}=(0,F.cI)({resolver:(0,L.X)(l),defaultValues:{isNoEndTime:!1,name:"",startTime:k().utc().add(30,"minute").toISOString(),endTime:k().utc().add(1,"hour").toISOString()}}),g=(0,S.useCallback)((async i=>{let{name:a,description:n,thumbnailUrl:o,startTime:l,endTime:c}=i;s(!0);try{const i=await T.c.createContest({name:a,description:n,thumbnailUrl:o,startTime:l,endTime:c});i.name===a&&(r((0,I.kU)(e("contest_create_success"))),s(!1),t(A._.admin.contest.edit.details.replace(":contestId",i.contestId)))}catch(d){console.error("error",d),401!==d.code&&403!==d.code||r((0,I.lS)(e("common_please_login_to_continue"))),s(!1)}}),[r,t,e]);return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(n.Z,{className:Q,children:(0,z.jsx)(n.Z,{id:$,children:(0,z.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.contest.root,label:e("contest_management_title")}],lastBreadCrumbLabel:e("contest_create")})})}),(0,z.jsxs)(n.Z,{sx:{padding:"0 20px"},children:[(0,z.jsx)(j.Z,{"translate-key":"contest_create",children:e("contest_create")}),(0,z.jsxs)(d.Z,{direction:"column",gap:2,sx:{marginTop:"20px"},children:[(0,z.jsx)(b.Z,{fontStyle:"italic","translate-key":"contest_description_message_1",children:e("contest_description_message_1")}),(0,z.jsx)(b.Z,{fontStyle:"italic","translate-key":"contest_description_message_2",children:e("contest_description_message_2")})]}),(0,z.jsxs)(n.Z,{component:"form",className:V,onSubmit:m((async e=>{const t={...e},{isNoEndTime:i,name:a,startTime:n,endTime:s}=t;await g({name:a,description:"",thumbnailUrl:"",startTime:n,endTime:i?null:s})})),children:[(0,z.jsx)(F.Qr,{control:c,name:"name",rules:{required:!0},render:t=>{var i;let{field:{ref:a,...n}}=t;return(0,z.jsx)(B.Z,{error:Boolean(null===h||void 0===h?void 0:h.name),errorMessage:null===(i=h.name)||void 0===i?void 0:i.message,title:"".concat(e("contest_name")),type:"text",placeholder:e("contest_enter_contest_name"),titleRequired:!0,"translation-key":"contest_enter_contest_name",inputRef:a,width:"350px",fullWidth:!0,...n})}}),(0,z.jsx)(a.ZP,{container:!0,spacing:1,columns:12,children:(0,z.jsx)(F.Qr,{control:c,name:"startTime",rules:{required:!0},render:t=>{let{field:{ref:i,...n}}=t;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,children:(0,z.jsx)(H.Z,{"translate-key":"contest_start_time",title:e("contest_start_time"),titleRequired:!0,tooltipDescription:e("contest_start_time_tooltip")})}),(0,z.jsxs)(a.ZP,{item:!0,xs:7,children:[(0,z.jsx)(O.Z,{value:k()(n.value),onHandleValueChange:e=>{e&&p("startTime",e.toISOString())},width:"350px"}),h.startTime&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:h.startTime.message&&(0,z.jsx)(U.Z,{children:h.startTime.message||""})})]})]})}})}),(0,z.jsx)(F.Qr,{control:c,name:"endTime",rules:{required:!0},render:t=>{let{field:{ref:i,...n}}=t;return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,children:(0,z.jsx)(H.Z,{"translate-key":"contest_end_time",title:e("contest_end_time"),titleRequired:!0,tooltipDescription:e("contest_end_time_tooltip")})}),(0,z.jsx)(a.ZP,{item:!0,xs:7,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(O.Z,{value:k()(n.value),disabled:x("isNoEndTime"),onHandleValueChange:e=>{e&&p("endTime",e.toISOString())},width:"350px"}),(0,z.jsx)(F.Qr,{control:c,name:"isNoEndTime",render:t=>{let{field:{ref:i,...a}}=t;return(0,z.jsx)(W.Z,{control:(0,z.jsx)(u.Z,{color:"primary",...a}),label:e("this_contest_has_no_end_time")})}}),h.endTime&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:h.endTime.message&&(0,z.jsx)(U.Z,{children:h.endTime.message||""})})]})})]})})}}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,z.jsx)(M.Z,{loading:i,variant:"solid",type:"submit","translation-key":"common_get_started",children:e("common_get_started")})})]})]})]})})};var K=i(95861),X=i(65280),J=i(80007),ee=i(62614),te=i(38037);const ie=e=>{let{control:t,errors:i,setValue:n,watch:s}=e;const{t:r}=(0,P.$G)();return(0,z.jsxs)(a.ZP,{container:!0,gap:2,direction:"column",sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)",minHeight:"600px"},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(te.Z,{"translate-key":"contest_forum",children:r("contest_forum")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(a.ZP,{container:!0,spacing:2,columns:12,sx:{marginTop:"5px"},children:(0,z.jsx)(F.Qr,{control:t,name:"isDisabledForum",rules:{required:!0},render:e=>{let{field:{ref:n,...s}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:4,children:[(0,z.jsx)(H.Z,{"translate-key":"contest_is_disabled_forum",title:r("contest_is_disabled_forum")}),(0,z.jsx)(b.Z,{sx:{marginTop:"5px"},fontStyle:"italic","translate-key":"contest_is_disabled_forum_tooltip",children:r("contest_is_disabled_forum_tooltip")})]}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:7,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(F.Qr,{control:t,name:"isDisabledForum",render:e=>{let{field:{ref:t,...i}}=e;return(0,z.jsx)(W.Z,{control:(0,z.jsx)(u.Z,{color:"primary",...i,checked:i.value}),label:""})}}),i.isDisabledForum&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:i.isDisabledForum.message&&(0,z.jsx)(U.Z,{children:i.isDisabledForum.message||""})})]})})]})}})})})]})},ae={formBody:"styles_formBody__cwJLB"};var ne=i(92556),se=i(95087);const re=e=>{let{control:t,errors:i,setValue:n,watch:s}=e;const{t:r}=(0,P.$G)(),[o,l]=(0,S.useState)([]);return(0,S.useEffect)((()=>{var e;o.length>0&&n("thumbnailUrl",(null===(e=o[0])||void 0===e?void 0:e.downloadUrl)||"")}),[o,n]),(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(a.ZP,{container:!0,gap:2,direction:"column",className:ae.container,sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)"},children:[(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(te.Z,{"translate-key":"contest_details",children:r("contest_details")}),(0,z.jsx)(b.Z,{fontStyle:"italic",sx:{marginTop:"10px"},"translate-key":"contest_details_description",children:r("contest_details_description")})]}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(a.ZP,{container:!0,gap:2,direction:"column",children:[(0,z.jsx)(F.Qr,{control:t,name:"name",rules:{required:!0},render:e=>{var t;let{field:{ref:a,...n}}=e;return(0,z.jsx)(B.Z,{error:Boolean(null===i||void 0===i?void 0:i.name),errorMessage:null===(t=i.name)||void 0===t?void 0:t.message,title:"".concat(r("contest_name")),type:"text",placeholder:r("contest_enter_contest_name"),titleRequired:!0,"translation-key":"contest_enter_contest_name",inputRef:a,width:"350px",fullWidth:!0,...n})}}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(F.Qr,{control:t,name:"startTime",rules:{required:!0},render:e=>{let{field:{ref:t,...s}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(H.Z,{"translate-key":"contest_start_time",title:r("contest_start_time"),titleRequired:!0})}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:8,children:[(0,z.jsx)(O.Z,{value:k()(s.value),onHandleValueChange:e=>{e&&n("startTime",e.toISOString())},width:"350px"}),i.startTime&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:i.startTime.message&&(0,z.jsx)(U.Z,{children:i.startTime.message||""})})]})]})}})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(F.Qr,{control:t,name:"endTime",rules:{required:!0},render:e=>{let{field:{ref:o,...l}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(H.Z,{"translate-key":"contest_end_time",title:r("contest_end_time"),titleRequired:!0,tooltipDescription:r("contest_end_time_tooltip")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:8,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(O.Z,{value:k()(l.value),disabled:s("isNoEndTime"),onHandleValueChange:e=>{e&&n("endTime",e.toISOString())},width:"350px"}),(0,z.jsx)(F.Qr,{control:t,name:"isNoEndTime",render:e=>{let{field:{ref:t,...i}}=e;return(0,z.jsx)(W.Z,{control:(0,z.jsx)(u.Z,{color:"primary",...i,checked:i.value}),label:r("this_contest_has_no_end_time")})}}),i.endTime&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:i.endTime.message&&(0,z.jsx)(U.Z,{children:i.endTime.message||""})})]})})]})}})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(F.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:n,...s}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(H.Z,{"translate-key":"contest_is_public",title:r("contest_is_public"),titleRequired:!0,tooltipDescription:r("contest_is_public_tooltip")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:8,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(F.Qr,{control:t,name:"isPublic",render:e=>{let{field:{ref:t,...i}}=e;return(0,z.jsx)(W.Z,{control:(0,z.jsx)(u.Z,{color:"primary",...i,checked:i.value}),label:""})}}),i.isPublic&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:i.isPublic.message&&(0,z.jsx)(U.Z,{children:i.isPublic.message||""})})]})})]})}})})]})}),(0,z.jsx)(h.Z,{}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(te.Z,{"translate-key":"contest_metadata_customization",children:r("contest_metadata_customization")}),(0,z.jsx)(b.Z,{fontStyle:"italic",sx:{marginTop:"10px"},"translate-key":"contest_metadata_customization_description",children:r("contest_metadata_customization_description")})]}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(a.ZP,{container:!0,gap:5,direction:"column",children:[(0,z.jsx)(a.ZP,{container:!0,spacing:2,columns:12,sx:{marginBottom:"-20px"},children:(0,z.jsx)(F.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:n,...s}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(H.Z,{"translate-key":"contest_thumbnail",title:r("contest_thumbnail")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:7,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(F.Qr,{control:t,name:"thumbnailUrl",rules:{required:!0},render:e=>{let{field:{ref:t,...i}}=e;return(0,z.jsx)(se.Z,{extFiles:o,setExtFiles:l,maxFileSize:5242880,accept:".bmp, .gif, .jpeg, .jpg, .png, .svg, .tif, .tiff",maxFiles:1})}}),i.thumbnailUrl&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:i.thumbnailUrl.message&&(0,z.jsx)(U.Z,{children:i.thumbnailUrl.message||""})})]})})]})}})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(F.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:s,...o}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(H.Z,{"translate-key":"common_description",title:r("common_description")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:7,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(F.Qr,{control:t,name:"description",render:e=>{let{field:{ref:t,...i}}=e;return(0,z.jsx)(ne.Z,{value:i.value,onChange:e=>{n("description",e)},maxLines:10})}}),i.description&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:i.description.message&&(0,z.jsx)(U.Z,{children:i.description.message||""})})]})})]})}})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(F.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:s,...o}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(H.Z,{"translate-key":"common_prizes",title:r("common_prizes")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:7,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(F.Qr,{control:t,name:"prizes",rules:{required:!0},render:e=>{let{field:{ref:t,...i}}=e;return(0,z.jsx)(ne.Z,{value:i.value,onChange:e=>{n("prizes",e)},maxLines:10})}}),i.prizes&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:i.prizes.message&&(0,z.jsx)(U.Z,{children:i.prizes.message||""})})]})})]})}})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(F.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:s,...o}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(H.Z,{"translate-key":"common_rules",title:r("common_rules")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:7,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(F.Qr,{control:t,name:"rules",rules:{required:!0},render:e=>{let{field:{ref:t,...i}}=e;return(0,z.jsx)(ne.Z,{value:i.value,onChange:e=>{n("rules",e)},maxLines:10})}}),i.rules&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:i.rules.message&&(0,z.jsx)(U.Z,{children:i.rules.message||""})})]})})]})}})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,columns:12,children:(0,z.jsx)(F.Qr,{control:t,name:"isPublic",rules:{required:!0},render:e=>{let{field:{ref:s,...o}}=e;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(H.Z,{"translate-key":"common_scoring",title:r("common_scoring")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:7,children:(0,z.jsxs)(d.Z,{direction:"column",gap:1,children:[(0,z.jsx)(F.Qr,{control:t,name:"scoring",rules:{required:!0},render:e=>{let{field:{ref:t,...i}}=e;return(0,z.jsx)(ne.Z,{value:i.value,onChange:e=>{n("scoring",e)},maxLines:10})}}),i.scoring&&(0,z.jsx)(a.ZP,{item:!0,xs:12,children:i.scoring.message&&(0,z.jsx)(U.Z,{children:i.scoring.message||""})})]})})]})}})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,columns:12,height:"70px"})]})})]})})};var oe=i(51629),le=i(70501),ce=i(66835),de=i(23477),me=i(24076),ue=i(70941),xe=i(57861),he=i(90891),pe=i(47131);const ge={formBody:"styles_formBody__+Pnep",container:"styles_container__SfjDG",icon:"styles_icon__Zatl9",iconCheck:"styles_iconCheck__LD1KI",pagination:"styles_pagination__tt9N9","table-head":"styles_table-head__+4r9Q","table-cell":"styles_table-cell__-Blhe",linkText:"styles_linkText__Nb9Eb",row1:"styles_row1__q+vMZ"};var _e=i(34923),fe=i(2135),je=i(25551),Ze=i(78819),be=i(89990),ve=i(33099);const ye="styles_linkText__et5wk";var Ce=i(21505),we=function(e){return e.ALL="ALL",e.EASY="EASY",e.MEDIUM="MEDIUM",e.HARD="HARD",e}(we||{});function ke(e){let{open:t,title:i,handleClose:n,children:s,cancelText:r,confirmText:o,onHandleCancel:l,onHanldeConfirm:c,isConfirmLoading:m=!1,isReportExisted:x,currentQuestionList:h,handleAddProblem:_,handleDeleteProblem:j,...Z}=e;const{t:v}=(0,P.$G)(),[y,C]=S.useState(!0),[w,k]=S.useState(""),[N,I]=S.useState([{key:"Difficulty level",value:we.ALL}]),[A,T]=S.useState({codeQuestions:[],currentPage:0,totalPage:0,totalItems:0}),D=S.useCallback((async e=>{let{search:t,isPublic:i,difficulty:a,pageNo:n=0,pageSize:s=5}=e;C(!0);try{const e=await Ce.M.getAdminCodeQuestions({search:t,isPublic:i,difficulty:a,pageNo:n,pageSize:s});T({codeQuestions:e.qtypeCodeQuestions.map(((e,t)=>({id:e.id,questionId:e.question.id,no:n*s+t+1,name:e.question.name,difficulty:e.question.difficulty,isPublic:e.isPublic,maxGrade:e.maxGrade,defaultMark:e.question.defaultMark}))),currentPage:e.currentPage,totalPage:e.totalPage,totalItems:e.totalItems}),C(!1)}catch(r){console.error("error",r),C(!1)}}),[]),q=S.useCallback((()=>{var e,t;const i=null===(e=N.find((e=>"Difficulty level"===e.key)))||void 0===e?void 0:e.value,a=null===(t=N.find((e=>"Is public"===e.key)))||void 0===t?void 0:t.value;D({search:w,isPublic:a&&"ALL"!==a?"PUBLIC"===a:void 0,difficulty:i&&i!==we.ALL?i:void 0})}),[N,D,w]),E=S.useCallback((()=>{I([{key:"Difficulty level",value:we.ALL}]),D({search:w})}),[D,w]),L=[{field:"no",headerName:v("common_no"),width:100},{field:"name",headerName:v("list_problem_problem_name"),flex:1.5,renderCell:e=>(0,z.jsx)(b.Z,{fontWeight:"500",className:ye,children:(0,z.jsx)(he.Z,{component:fe.rU,to:"#",underline:"hover",color:"inherit",children:e.row.name})})},{field:"maxGrade",headerName:"Max grade",flex:.6,renderCell:e=>(0,z.jsx)(_e.Z,{fontWeight:600,children:e.row.maxGrade})},{field:"difficulty",headerName:v("common_difficulty_level"),flex:.6,renderCell:e=>(0,z.jsx)(_e.Z,{fontWeight:600,colorname:e.row.difficulty===we.EASY?"--green-500":e.row.difficulty===we.MEDIUM?"--orange-5":"--red-hard",children:e.row.difficulty===we.EASY?v("common_easy"):e.row.difficulty===we.MEDIUM?v("common_medium"):e.row.difficulty===we.HARD?v("common_hard"):e.row.difficulty})},{field:"isPublic",headerName:v("contest_is_public"),flex:.4,align:"center",renderHeader:()=>(0,z.jsx)(_e.Z,{width:"auto",sx:{textAlign:"left"},children:v("contest_is_public")}),renderCell:e=>(0,z.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isPublic,color:e.row.isPublic?"success":"error",sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"action",headerName:v("common_action"),type:"actions",flex:.6,renderHeader:()=>(0,z.jsx)(_e.Z,{width:"auto",sx:{textAlign:"left"},children:v("common_action")}),getActions:e=>[h.find((t=>t.questionId===e.row.questionId))?(0,z.jsx)(p.u,{label:"Remove",onClick:()=>{j(e.row.questionId)},icon:(0,z.jsxs)(d.Z,{direction:"row",gap:1,display:"flex",alignItems:"center",padding:.5,children:[(0,z.jsx)(Ze.Z,{htmlColor:"#EF4743"}),(0,z.jsx)(_e.Z,{fontWeight:"700",colorname:"--red-text","translate-key":"common_remove",children:v("common_remove")})]})}):(0,z.jsx)(p.u,{label:"Add",onClick:()=>{const t={codeQuestionId:e.row.id,questionId:e.row.questionId,difficulty:e.row.difficulty,name:e.row.name,questionText:"",defaultMark:e.row.defaultMark,maxGrade:e.row.maxGrade};_(t)},icon:(0,z.jsxs)(d.Z,{direction:"row",gap:1,display:"flex",alignItems:"center",padding:.5,children:[(0,z.jsx)(je.Z,{htmlColor:"#1976d2"}),(0,z.jsx)(_e.Z,{fontWeight:"700",colorname:"--blue-link","translate-key":"common_add",children:v("common_add")})]})})]}],[M,W]=S.useState(0),[R,O]=S.useState(5),B=A.totalItems,U=S.useCallback((e=>{var t,i;W(0);const a=null===(t=N.find((e=>"Difficulty level"===e.key)))||void 0===t?void 0:t.value,n=null===(i=N.find((e=>"Is public"===e.key)))||void 0===i?void 0:i.value;D({search:e,isPublic:n&&"ALL"!==n?"PUBLIC"===n:void 0,difficulty:a&&a!==we.ALL?a:void 0,pageNo:0,pageSize:R})}),[D,R,N]);return S.useEffect((()=>{D({})}),[D]),(0,z.jsx)(be.Z,{open:t,handleClose:n,title:v("contest_import_problem_button"),actionsDisabled:!0,minWidth:"1000px",...Z,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(ve.Z,{"translate-key":"contest_problem_list",children:v("contest_problem_list")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(f.Z,{isLoading:y,searchValue:w,setSearchValue:k,onHandleChange:U,numOfResults:B,filterKeyList:[{label:v("common_difficulty_level"),value:"Difficulty level"},{label:v("contest_is_public"),value:"Is public"}],filterValueList:{"Difficulty level":[{label:v("common_all"),value:we.ALL},{label:v("common_easy"),value:we.EASY},{label:v("common_medium"),value:we.MEDIUM},{label:v("common_hard"),value:we.HARD}],"Is public":[{label:v("common_all"),value:"ALL"},{label:v("common_public"),value:"PUBLIC"},{label:v("common_private"),value:"PRIVATER"}]},filters:N,handleChangeFilters:e=>{I(e)},onHandleApplyFilter:q,onHandleCancelFilter:E})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(g.Z,{loading:y,dataList:A.codeQuestions,tableHeader:L,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:M,pageSize:R,totalElement:B,onPaginationModelChange:(e,t)=>{W(e.page),O(e.pageSize),D({search:w,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!1,onClickRow:e=>{},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})})}var Se=i(29755),Pe=i(57067),Ne=i(39107),Ie=i(75506),Ae=i(94587);const Te=e=>{let{control:t,errors:i,setValue:n,watch:s}=e;const{t:r}=(0,P.$G)(),o=(0,N.I0)(),c=s("problems"),[d,m]=(0,S.useState)(!1),[u,x]=(0,S.useState)(!1),[h,p]=(0,S.useState)(""),[g,f]=(0,S.useState)(null),[j,Z]=(0,S.useState)(!1);return(0,z.jsxs)(z.Fragment,{children:[j&&(0,z.jsx)(ke,{open:j,title:r("contest_add_problem_button"),handleClose:()=>{Z(!1)},maxWidth:"md",currentQuestionList:c,handleAddProblem:e=>{f(e),x(!0)},handleDeleteProblem:e=>{p(e),m(!0)}}),(0,z.jsx)(_.Z,{isOpen:d,title:r("dialog_confirm_delete_title"),description:r("dialog_confirm_delete_problem_description"),onCancel:()=>{m(!1)},onDelete:async()=>{const e=c.filter((e=>e.questionId!==h));n("problems",e),m(!1),o((0,I.kU)(r("contest_delete_problem_success")))}}),(0,z.jsx)(Ae.Z,{isOpen:u,title:r("dialog_confirm_add_contest_problem_title"),description:r("dialog_confirm_add_contest_problem_description"),onCancel:()=>{x(!1),Z(!0)},onAdd:async()=>{if(x(!1),!g)return void o((0,I.lS)(r("contest_add_problem_error")));const e=[...c,g];n("problems",e),o((0,I.kU)(r("contest_add_problem_success")))}}),(0,z.jsxs)(a.ZP,{container:!0,gap:2,direction:"column",className:ge.container,sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)",minHeight:"600px"},children:[(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(te.Z,{"translate-key":"contest_problems",children:r("contest_problems")}),(0,z.jsx)(b.Z,{fontStyle:"italic",sx:{marginTop:"10px"},"translate-key":"contest_problems_description",children:r("contest_problems_description")})]}),(0,z.jsxs)(Se.L,{children:[(0,z.jsx)(Pe.Z,{color:"primary","translate-key":"contest_add_problem_button",variant:"outlined",sx:{width:"150px"},children:r("contest_add_problem_button")}),(0,z.jsxs)(Ne.Z,{color:"primary",children:[(0,z.jsx)(Ie.Z,{children:r("contest_create_problem_button")}),(0,z.jsx)(Ie.Z,{onClick:()=>{Z(!0)},children:r("contest_import_problem_button")})]})]}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(oe.Z,{component:le.Z,children:(0,z.jsxs)(ce.Z,{"aria-label":"custom table",children:[(0,z.jsx)(de.Z,{className:ge["table-head"],children:(0,z.jsxs)(me.Z,{children:[(0,z.jsx)(ue.Z,{align:"left",sx:{width:"10%"},children:(0,z.jsx)(_e.Z,{fontWeight:"700","translation-key":"common_no",children:r("common_no")})}),(0,z.jsx)(ue.Z,{align:"left",sx:{width:"40%"},children:(0,z.jsx)(_e.Z,{fontWeight:"700","translation-key":"common_name",children:r("common_name")})}),(0,z.jsx)(ue.Z,{align:"left",sx:{width:"15%"},children:(0,z.jsx)(_e.Z,{fontWeight:"700","translation-key":"common_max_score",children:r("common_max_score")})}),(0,z.jsx)(ue.Z,{align:"left",sx:{width:"15%"},children:(0,z.jsx)(_e.Z,{fontWeight:"700","translation-key":"common_max_score",children:r("common_difficulty_level")})}),(0,z.jsx)(ue.Z,{align:"left",className:ge.status,sx:{width:"30%"},children:(0,z.jsx)(_e.Z,{fontWeight:"700"})})]})}),(0,z.jsxs)(xe.Z,{children:[c&&c.length>0&&c.map(((e,t)=>(0,z.jsxs)(me.Z,{className:t%2===0?ge.row:ge.row1,children:[(0,z.jsx)(ue.Z,{align:"left",children:t+1}),(0,z.jsx)(ue.Z,{className:ge.tableCell,children:(0,z.jsx)(b.Z,{fontWeight:"500",className:ge.linkText,children:(0,z.jsx)(he.Z,{component:fe.rU,to:A._.user.problem.detail.description.replace(":problemId",e.codeQuestionId),underline:"hover",color:"inherit",children:e.name})})}),(0,z.jsx)(ue.Z,{children:e.maxGrade}),(0,z.jsx)(ue.Z,{children:(0,z.jsx)(_e.Z,{fontWeight:600,colorname:"EASY"===e.difficulty?"--green-500":"MEDIUM"===e.difficulty?"--orange-5":"--red-hard",children:"EASY"===e.difficulty?r("common_easy"):"MEDIUM"===e.difficulty?r("common_medium"):"HARD"===e.difficulty?r("common_hard"):0})}),(0,z.jsx)(ue.Z,{align:"center",children:(0,z.jsx)(pe.Z,{"translate-key":"contest_edit_problem_button",onClick:()=>{p(e.questionId),m(!0)},children:(0,z.jsx)(l.Z,{})})})]},t))),(!c||0===c.length)&&(0,z.jsx)(me.Z,{children:(0,z.jsx)(ue.Z,{colSpan:4,sx:{textAlign:"center"},children:(0,z.jsx)(J.Z,{className:ge.noList,"translation-key":"list_problem_not_found_data",children:r("list_problem_not_found_data")})})})]})]})})})]})]})},De=()=>{const{t:e}=(0,P.$G)(),{contestId:t}=(0,o.UO)(),[i,n]=(0,S.useState)(!1),[s,r]=(0,S.useState)([]),[l,c]=(0,S.useState)((()=>y.ZP.language));(0,S.useEffect)((()=>{c(y.ZP.language)}),[y.ZP.language]);const u=[{field:"no",headerName:e("common_no"),flex:.4,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_no")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:e.row.no})},{field:"email",headerName:e("common_email"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_email")}),renderCell:e=>(0,z.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,z.jsx)(m.Z,{sx:{bgcolor:"".concat((0,D.M)("".concat(e.row.email)))},alt:e.row.email,src:e.row.avatarUrl,children:e.row.email.charAt(0)}),(0,z.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"createdAt",headerName:e("contest_sign_up_date"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("contest_sign_up_date")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:(0,q.J$)(e.row.createdAt,l)})}],x=(0,S.useCallback)((async(e,t,i)=>{n(!0);try{const a=await T.c.getSignUpsOfContest(e,t,i,!1);r(a.contestUsers),n(!1)}catch(a){console.error("error",a),n(!1)}}),[]),[h,p]=(0,S.useState)(0),[_,f]=(0,S.useState)(10),j=(0,S.useMemo)((()=>s.map(((e,t)=>{var i,a;return{id:"".concat(e.contestId).concat(e.user.userId),no:t+1,email:(null===(i=e.user)||void 0===i?void 0:i.email)||"",createdAt:e.createdAt,avatarUrl:(null===(a=e.user)||void 0===a?void 0:a.avatarUrl)||""}}))),[s]);return(0,S.useEffect)((()=>{t&&x(t,h,_)}),[t,x,h,_]),t?(0,z.jsx)(a.ZP,{container:!0,gap:2,direction:"column",sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)",minHeight:"600px"},children:(0,z.jsx)(a.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(g.Z,{loading:i,dataList:j,tableHeader:u,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:h,pageSize:_,totalElement:100,onPaginationModelChange:(e,i)=>{t&&(p(e.page),f(e.pageSize),x(t,e.page,e.pageSize))},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})})}):null};var qe=i(84488),ze=i(73428);const Ee={};var Le=i(22659),Me=i(37401),We=i(44944),Re=i(36804),Oe=i(66713);const Be=e=>"".concat(e,"%"),Ue=e=>{let{data:t,contestId:i}=e;const{t:s}=(0,P.$G)(),r=(0,o.s0)(),l=(0,S.useMemo)((()=>(e,t)=>0===t?0:e/t*100),[]),c=(0,S.useMemo)((()=>null===t||void 0===t?void 0:t.contestQuestions.map(((e,t)=>"Problem ".concat(t+1)))),[t]),m=(0,S.useMemo)((()=>null===t||void 0===t?void 0:t.contestQuestions.map((e=>l(e.numOfCorrectSubmissions||0,e.numOfSubmissions||0)))),[t,l]),u=(0,S.useMemo)((()=>t?null===t||void 0===t?void 0:t.contestQuestions.map((e=>(0,D.M)("".concat(e.questionId).concat(e.name)))):[]),[t]);return t?(0,z.jsxs)(a.ZP,{container:!0,gap:2,direction:"column",className:Ee.container,sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)",minHeight:"600px"},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(te.Z,{"translate-key":"common_statistics",children:s("common_statistics")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.totalUser,alt:"online user",style:{width:"35px"}}),title:s("common_signups").toUpperCase(),value:t.numOfSignUps,mainColor:"#28a745"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.loginTodayUser,alt:"online user",style:{width:"35px"}}),title:s("common_users_submitted").toUpperCase(),value:t.numOfParticipantsHavingSubmissions,mainColor:"#dc3545"})})]})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,z.jsx)(a.ZP,{container:!0,spacing:4,children:(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,z.jsxs)(n.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,z.jsx)(Z.Z,{"translate-key":"contest_details_problems_success_rates",children:s("contest_details_problems_success_rates")}),(0,z.jsx)(M.Z,{onClick:()=>{r(A._.admin.contest.submissions.replace(":contestId",i))},endDecorator:(0,z.jsx)(Oe.Z,{sx:{width:"17px"}}),"translate-key":"contest_details_view_all_submissions",children:s("contest_details_view_all_submissions")})]}),(0,z.jsx)(ze.Z,{color:"neutral",variant:"outlined",sx:{marginTop:"10px",height:"500px",display:"flex",justifyContent:"center",boxShadow:"lg",paddingBottom:"10px"},children:(0,z.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,z.jsx)(We.v,{borderRadius:10,colors:["#42A5F5","#66BB6A"],height:320,width:900,xAxis:[{scaleType:"band",data:c,colorMap:{type:"ordinal",values:c,colors:u}}],series:[{data:m,valueFormatter:Be,label:"Success Rate (%)"}],sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"}},grid:{horizontal:!0},margin:{top:40,bottom:30},slotProps:{legend:{hidden:!0}}}),(0,z.jsx)(d.Z,{direction:"column",spacing:2,children:t.contestQuestions.map(((e,t)=>(0,z.jsx)(Re.Z,{label:"Problem ".concat(t+1,": ").concat(e.name),color:(0,D.M)("".concat(e.questionId).concat(e.name))},t)))})]})})]})})})]}):(0,z.jsxs)(a.ZP,{container:!0,gap:2,direction:"column",className:Ee.container,sx:{margin:"0px 20px 20px 20px",width:"calc(100% - 40px)",minHeight:"600px"},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(te.Z,{"translate-key":"common_statistics",children:s("common_statistics")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(qe.Z,{variant:"rectangular",width:"100%",height:"100px",sx:{borderRadius:"10px"}})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(qe.Z,{variant:"rectangular",width:"100%",height:"100px",sx:{borderRadius:"10px"}})})]})})]})},He="styles_formBody__ZSG6f",Fe="styles_breadcump__T7a9E",Ge="styles_breadcumpWrapper__R7SGo",Ve="styles_tabs__55ljR",Qe=e=>{let{isDrawerOpen:t}=e;(0,S.useRef)(null);const{t:i}=(0,P.$G)(),a=(0,o.s0)(),{pathname:s}=(0,o.TH)(),[r,l]=(0,S.useState)(null),{contestId:c}=(0,o.UO)(),[d,m]=(0,S.useState)(!1),u=(0,N.I0)(),[x,h]=(0,S.useState)(""),p=(0,S.useMemo)((()=>[A._.admin.contest.edit.details,A._.admin.contest.edit.problems,A._.admin.contest.edit.advanced_settings,A._.admin.contest.edit.signups,A._.admin.contest.edit.statistics]),[A._]),g=(0,S.useMemo)((()=>{if(c){const e=p.findIndex((e=>{return t=e.replace(":contestId",c),!!s.startsWith(t);var t}));return-1===e?0:e}}),[s,p]),_=(0,S.useMemo)((()=>G.Ry().shape({isNoEndTime:G.O7().required(i("contest_is_no_end_time_required")),name:G.Z_().required(i("contest_name_required")).trim(""),startTime:G.Z_().required(i("contest_start_time_required")).trim("").test("startTime",i("contest_start_time_greater_than_current_time"),(function(e){return k()(e).isAfter(k()().utc())})),endTime:G.Z_().nullable().test("endTime",i("contest_end_time_required"),(function(e){return!!this.parent.isNoEndTime||!!e})).test("endTime",i("contest_end_time_greater_than_start_time"),(function(e){return!!this.parent.isNoEndTime||k()(e).isAfter(this.parent.startTime)})),thumbnailUrl:G.Z_().trim(""),description:G.Z_().trim(""),prizes:G.Z_().trim(""),rules:G.Z_().trim(""),scoring:G.Z_().trim(""),isPublic:G.O7().required(i("contest_is_public_required")),isRestrictedForum:G.O7().default(!1),isDisabledForum:G.O7().default(!1),problems:G.IX().of(G.Ry().shape({questionId:G.Z_().required(i("contest_question_id_required")),codeQuestionId:G.Z_().required(i("contest_code_question_id_required")),difficulty:G.Z_().required(i("contest_difficulty_required")),name:G.Z_().default("").trim(""),questionText:G.Z_().default("").trim(""),defaultMark:G.Rx().default(0),maxGrade:G.Rx().default(0)})).default([])})),[i]),{control:f,handleSubmit:Z,watch:b,formState:{errors:v},setValue:y,reset:C}=(0,F.cI)({resolver:(0,L.X)(_),defaultValues:{isNoEndTime:!1,name:"",startTime:k().utc().add(30,"minute").toISOString(),endTime:k().utc().add(1,"hour").toISOString(),thumbnailUrl:"",description:"",prizes:"",rules:"",scoring:"",isPublic:!1,isRestrictedForum:!1,isDisabledForum:!1,problems:[]}}),w=(0,S.useCallback)((async e=>{try{const t=await T.c.getContestById(e);if(t){const e=t.description?t.description:"Please provide a short description of your contest here!",i=t.prizes&&""!==t.prizes?t.prizes:"- Prizes are optional. You may add any prizes that you would like to offer here.",a=t.rules&&""!==t.rules?t.rules:"- Please provide any rules for your contest here.",n=t.scoring&&""!==t.scoring?t.scoring:"- Each challenge has a pre-determined score.<br/>\n              - A participant\u2019s score depends on the number of test cases a participant\u2019s code submission successfully passes.<br/>\n              - If a participant submits more than one solution per challenge, then the participant\u2019s score will reflect the highest score achieved.<br/>\n              - Participants are ranked by score. If two or more participants achieve the same score, then the tie is broken by the total time taken to submit the last solution resulting in a higher score";C({name:t.name,startTime:t.startTime,endTime:t.endTime?t.endTime:null,isNoEndTime:!t.endTime,thumbnailUrl:t.thumbnailUrl,description:e,prizes:i,rules:a,scoring:n,isPublic:t.isPublic,isRestrictedForum:t.isRestrictedForum,isDisabledForum:t.isDisabledForum,problems:t.questions.map((e=>({questionId:e.questionId,codeQuestionId:e.codeQuestionId,difficulty:e.difficulty,name:e.name,questionText:e.questionText,defaultMark:e.defaultMark,maxGrade:e.maxGrade})))}),h(t.name)}const i=await T.c.getAdminContestDetailsStatistics(e);i&&l(i)}catch(t){console.error("error",t)}}),[C]),D=(0,S.useCallback)((async(e,t)=>{m(!0);try{await T.c.updateContest(e,{name:t.name,description:t.description,thumbnailUrl:t.thumbnailUrl,prizes:t.prizes,rules:t.rules,scoring:t.scoring,isPublic:t.isPublic,startTime:t.startTime,endTime:t.isNoEndTime?null:t.endTime,isRestrictedForum:t.isRestrictedForum,isDisabledForum:t.isDisabledForum,questionIds:t.problems.map((e=>e.questionId))})?(u((0,I.kU)("Contest updated successfully")),w(e)):u((0,I.lS)("Failed to update contest")),m(!1)}catch(i){console.error("error",i),401===i.code||403===i.code?u((0,I.lS)("You are not authorized to update this contest")):u((0,I.lS)("Failed to update contest")),m(!1)}}),[u,w]);return(0,S.useEffect)((()=>{c&&w(c)}),[c,w]),c?(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.Z,{component:"form",className:He,onSubmit:Z((async e=>{c&&D(c,e)})),children:[(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(n.Z,{className:Fe,children:(0,z.jsx)(n.Z,{id:Ge,children:(0,z.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.contest.root,label:i("contest_management_title")}],lastBreadCrumbLabel:x})})}),(0,z.jsx)(n.Z,{sx:{margin:"0 20px"},children:(0,z.jsx)(j.Z,{children:x})}),(0,z.jsx)(n.Z,{sx:{margin:"20px",borderRadius:"5px",border:"1px solid #e0e0e0"},children:(0,z.jsxs)(K.Z,{value:g,onChange:(e,t)=>{c&&a(p[t].replace(":contestId",c))},"aria-label":"basic tabs example",className:Ve,variant:"fullWidth",children:[(0,z.jsx)(X.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(J.Z,{"translate-key":"common_details",children:i("common_details")}),value:0}),(0,z.jsx)(X.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(J.Z,{"translate-key":"common_problems",children:i("common_problems")}),value:1}),(0,z.jsx)(X.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(J.Z,{"translate-key":"common_advanced_settings",children:i("common_advanced_settings")}),value:2}),(0,z.jsx)(X.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(J.Z,{"translate-key":"common_signups",children:i("common_signups")}),value:3}),(0,z.jsx)(X.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(J.Z,{"translate-key":"common_statistics",children:i("common_statistics")}),value:4})]})}),(0,z.jsx)(n.Z,{children:(0,z.jsxs)(o.Z5,{children:[(0,z.jsx)(o.AW,{path:"details",element:(0,z.jsx)(re,{control:f,errors:v,setValue:y,watch:b})}),(0,z.jsx)(o.AW,{path:"problems",element:(0,z.jsx)(Te,{control:f,errors:v,setValue:y,watch:b})}),(0,z.jsx)(o.AW,{path:"advanced-settings",element:(0,z.jsx)(ie,{control:f,errors:v,setValue:y,watch:b})}),(0,z.jsx)(o.AW,{path:"signups",element:(0,z.jsx)(De,{})}),(0,z.jsx)(o.AW,{path:"statistics",element:(0,z.jsx)(Ue,{data:r,contestId:c})}),(0,z.jsx)(o.AW,{path:"*",element:(0,z.jsx)(ee.Z,{})})]})})]}),(0,z.jsxs)(n.Z,{sx:{display:"flex",justifyContent:"space-between",position:"fixed",bottom:"0px",padding:"20px",marginLeft:"-25px",backgroundColor:"white",borderTop:"1px solid #E0E0E0",width:t?"calc(100% - 270px)":"100%"},children:[(0,z.jsx)(M.Z,{variant:"outlined","translation-key":"contest_preview_contest_details_page",onClick:()=>a(A._.user.contest.detail.information.replace(":contestId",c)),children:i("contest_preview_contest_details_page")}),(0,z.jsx)(M.Z,{loading:d,variant:"solid",type:"submit","translation-key":"common_save_changes",children:i("common_save_changes")})]})]})}):null};var $e=i(46923),Ye=i(17592),Ke=i(86659);const Xe="styles_drawer__nt9TU",Je="styles_img__CARKn",et="styles_itemIcon__rdsV2";var tt=i(47477),it=i(90200),at=i(25614),nt=i(11163),st=i(34180),rt=i(57838),ot=i(75918),lt=i(74839);const ct=270,dt=(0,Ye.ZP)("main",{shouldForwardProp:e=>"open"!==e})((e=>{let{theme:t,open:i}=e;return{flexGrow:1,width:"calc(100% - ".concat(ct,"px)"),overflow:"auto",padding:t.spacing(3),transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),marginLeft:"-".concat(ct,"px"),...i&&{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),marginLeft:0}}}));function mt(e){let{open:t,toggleDrawer:i,children:a}=e;const{t:s}=(0,P.$G)(),r=[{name:s("common_dashboard"),"translation-key":"common_dashboard",icon:(0,z.jsx)(at.Z,{className:et}),link:A._.admin.dashboard},{name:s("side_bar_contest_management"),"translation-key":"side_bar_contest_management",icon:(0,z.jsx)(rt.Z,{className:et}),link:A._.admin.contest.root},{name:s("user_management"),"translation-key":"user_management",icon:(0,z.jsx)(nt.Z,{className:et}),link:A._.admin.users.root},{name:s("certificate_course_management_title"),"translation-key":"certificate_course_management_title",icon:(0,z.jsx)(ot.Z,{className:et}),link:A._.admin.certificate.root,children:[{name:s("certificate_course_list"),link:A._.admin.certificate.root},{name:s("create_certificate_course_title"),link:A._.admin.certificate.create}]},{name:s("code_management_title"),"translation-key":"code_management_title",icon:(0,z.jsx)(lt.Z,{className:et}),link:A._.admin.code_question.root},{name:s("question_bank_management"),"translation-key":"question_bank_management",icon:(0,z.jsx)(st.Z,{className:et}),link:A._.admin.question_bank.root},{name:s("organization_management"),"translation-key":"organization_management",icon:(0,z.jsx)("img",{className:Je,src:Me.Z.admin.organizationIc,alt:"org ic"}),link:A._.admin.organizations.root}],o=(0,S.useRef)(null),{height:l}=(0,tt.Z)({ref:o});return(0,z.jsxs)(n.Z,{sx:{display:"flex",width:"100%",height:"100%"},children:[(0,z.jsx)(it.Z,{toggleDrawer:i,ref:o}),(0,z.jsx)($e.ZP,{className:Xe,sx:{width:ct,flexShrink:0,"& .MuiDrawer-paper":{width:ct}},variant:"persistent",anchor:"left",open:t,children:(0,z.jsx)(Ke.Z,{sideBarItem:r})}),(0,z.jsx)(dt,{open:t,sx:{marginTop:"".concat(l,"px"),height:"calc(100% - ".concat(l,"px)")},children:a})]})}var ut=i(27268),xt=i(72864),ht=i(84915),pt=i(47892),gt=i(26431),_t=i(72695),ft=i(83703),jt=i(5818),Zt=i(3948),bt=i(1229),vt=i(15067),yt=i(68919),Ct=i(26568),wt=i(31279);const kt=e=>{const{scaleType:t,data:i,startGradientColor:a,endGradientColor:n,series:s}=e,r=s.map(((e,t)=>e&&e.data&&0!==e.data.length?{id:t,data:e.data,label:e.label,area:e.area}:{id:t,data:[],label:"",area:!1}));return(0,z.jsx)(yt.w,{sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},...a.reduce(((e,t,i)=>({...e,["& .MuiAreaElement-series-".concat(i)]:{fill:"url(#swich-color-id-".concat(i,")")}})),{})},colors:a,xAxis:[{scaleType:t,data:0!==i.length?i:[]}],yAxis:[{scaleType:"linear",disableTicks:!0}],series:r,height:320,grid:{horizontal:!0},margin:{left:30,right:20,top:40,bottom:30},slotProps:{legend:{hidden:!0}},children:0!==a.length&&0!==n.length&&a.map(((e,t)=>(0,z.jsx)(St,{startGradientColor:e,endGradientColor:n[t],threshold:0,id:"swich-color-id-".concat(t)},t)))})},St=e=>{let{threshold:t,id:i,endGradientColor:a,startGradientColor:n}=e;const{top:s,height:r,bottom:o}=(0,Ct.z)(),l=s+o+r,c=(0,wt.Ff)()(t),d=void 0!==c?c/l:0;return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)("defs",{children:(0,z.jsxs)("linearGradient",{id:i,x1:"0",x2:"0",y1:"0",y2:"".concat(l,"px"),gradientUnits:"userSpaceOnUse",children:[(0,z.jsx)("stop",{offset:d,stopColor:n,stopOpacity:.4}),(0,z.jsx)("stop",{offset:d,stopColor:a,stopOpacity:0})]})})})};var Pt=i(89102),Nt=i(33060);const It=["#3498db","#e74c3c","#2ecc71","#f1c40f","#9b59b6"],At=()=>{var e;const t=new Date,{t:i}=(0,P.$G)(),s=(0,bt.Z)(),[r,o]=(0,S.useState)(!0),[l,c]=(0,S.useState)(0),[m,u]=(0,S.useState)(0),[x,h]=(0,S.useState)(0),[p,g]=(0,S.useState)(0),_=new Date,f=_.getMonth(),j=_.getFullYear(),[Z,b]=(0,S.useState)({totalUsers:0,activeUsers:0,offlineUsers:0,loginToday:0,registerUser:[],userByRole:[]}),[v,y]=(0,S.useState)({activeCourse:0,activeInactiveCourse:[],courseType:[],inactiveCourse:0,newCourses:void 0,recentAssignments:[],recentExam:[],totalCourse:0,totalEnrollments:0,userEnrollments:[]}),[C,w]=(0,S.useState)({totalContest:0,totalParticipants:0,activeContest:0,closedContest:0,upcomingContest:0,participantTrend:[],popularContest:[],popularContestName:[]}),[k,N]=(0,S.useState)({totalCertificateCourse:0,totalEnrollments:0,averageRating:0,totalParticipantCompletedCourse:0,enrollmentChart:[],topEnrolledCourse:[],chapterResourceType:[]}),[I,A]=(0,S.useState)(new Date(j,f+1,0).getDate()),D=[i("User"),i("Course"),i("Contest"),i("Certificate course")],q=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],E=31===I?["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31"]:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30"],L=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],W=["Title","Course name","Type","Created at"],R=["Exam name","Course name","Created at"];return(0,S.useEffect)((()=>{(async()=>{await(async()=>{try{const e=await jt.K.getUserStatistics();b((t=>({...e,registerUser:e.registerUser.map((e=>({...e,area:!0})))})))}catch(e){console.log(e)}})(),await(async()=>{try{const e=await vt.N.getCourseStatistics();y((t=>({...e,userEnrollments:e.userEnrollments.map((e=>({...e,area:!0}))),activeInactiveCourse:e.activeInactiveCourse.map((e=>({...e,area:!0})))})))}catch(e){console.log(e)}})(),await(async()=>{try{const e=await T.c.getAdminContestStatistics();w((t=>({...e,participantTrend:e.participantTrend.map((e=>({...e,area:!0})))})))}catch(e){console.log(e)}})(),await(async()=>{try{const e=await Pt.M.getCertificateCourseStatistics();N((t=>({...e,enrollmentChart:e.enrollmentChart.map((e=>({...e,area:!0})))})))}catch(e){console.log(e)}})()})(),o(!1)}),[]),(0,S.useEffect)((()=>{console.log(k)}),[k]),(0,z.jsxs)(z.Fragment,{children:[r&&(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{padding:3},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(qe.Z,{variant:"text",sx:{fontSize:"1rem"}})}),(0,z.jsx)(a.ZP,{item:!0,xs:6,children:(0,z.jsx)(qe.Z,{variant:"text",height:50})}),(0,z.jsx)(a.ZP,{item:!0,xs:6}),(0,z.jsx)(a.ZP,{item:!0,xs:5,children:(0,z.jsx)(qe.Z,{variant:"text",sx:{fontSize:"1.5rem"}})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,z.jsx)(qe.Z,{variant:"rounded",height:100})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,z.jsx)(qe.Z,{variant:"rounded",height:100})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,z.jsx)(qe.Z,{variant:"rounded",height:100})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,z.jsx)(qe.Z,{variant:"rounded",height:100})})]})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,md:8,children:(0,z.jsx)(qe.Z,{variant:"rounded",height:400})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(qe.Z,{variant:"rounded",height:400})})]})})]}),!r&&(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{padding:3},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(_t.Z,{sx:{height:"200px",display:"flex",flexDirection:"column",justifyContent:"space-between",background:"linear-gradient(145deg, #EDE7F6 30%, #D1C4E9 90%)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",color:"#333"},children:[(0,z.jsxs)(n.Z,{children:[(0,z.jsxs)(Nt.Z,{colorname:"--gray-80",children:["Hello, ",null===(e=s.loggedUser)||void 0===e?void 0:e.firstName,"! Welcome back to your dashboard"]}),(0,z.jsxs)(J.Z,{colorname:"--gray-60",children:["Today is ",["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][t.getDay()-1],", ",t.getDate()," ",["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]," ",t.getFullYear()]})]}),(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(J.Z,{colorname:"--gray-60",children:"What stats would you like to view today ?"}),(0,z.jsx)(xt.Z,{"aria-label":"tabs",defaultValue:l,value:l,sx:{backgroundColor:"transparent",width:"fit-content",marginTop:"5px"},onChange:(e,t)=>c(Number(t)||0),children:(0,z.jsx)(ht.Z,{disableUnderline:!0,sx:{p:.5,gap:.5,borderRadius:"xl",bgcolor:"background.level1",["& .".concat(pt.Z.root,'[aria-selected="true"]')]:{color:"#FFF",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",bgcolor:"#2196F3"}},children:D.map(((e,t)=>(0,z.jsx)(gt.Z,{disableIndicator:!0,children:e},t)))})})]})]})}),0===l&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:5,children:(0,z.jsx)(ve.Z,{children:"User"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.onlineUser,alt:"online user",style:{width:"35px"}}),title:"Active user",value:Z.activeUsers,mainColor:"#28a745"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.offlineUser,alt:"online user",style:{width:"35px"}}),title:"Offline user",value:Z.offlineUsers,mainColor:"#dc3545"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.totalUser,alt:"online user",style:{width:"35px"}}),title:"Total user",value:Z.totalUsers,mainColor:"#007bff"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.loginTodayUser,alt:"online user",style:{width:"35px"}}),title:"Total login today",value:Z.loginToday,mainColor:"#ffc107"})})]})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:8,children:[(0,z.jsx)(_e.Z,{children:"User register"}),(0,z.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:[(0,z.jsxs)(d.Z,{display:"flex",justifyContent:"flex-end",direction:"row",spacing:2,children:[(0,z.jsx)(M.Z,{variant:0===m?"outlined":"plain",onClick:()=>{0!==m&&u(0)},size:"sm",children:"Week"}),(0,z.jsx)(M.Z,{variant:1===m?"outlined":"plain",onClick:()=>{1!==m&&u(1)},size:"sm",children:"Month"}),(0,z.jsx)(M.Z,{variant:2===m?"outlined":"plain",onClick:()=>{2!==m&&u(2)},size:"sm",children:"Year"})]}),(0,z.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,z.jsx)(kt,{scaleType:"point",data:0===m?q:1===m?E:L,series:0===Z.registerUser.length?[]:0===m?[Z.registerUser[0]]:1===m?[Z.registerUser[1]]:[Z.registerUser[2]],startGradientColor:["#11B678"],endGradientColor:["#FF3143"]}),(0,z.jsx)(Re.Z,{label:"New user",color:"#11B678"})]})]})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:4,children:[(0,z.jsx)(_e.Z,{children:"User role"}),(0,z.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",boxShadow:"lg"},children:[(0,z.jsx)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,z.jsx)(Zt.u,{colors:It,series:[{data:Z.userByRole,innerRadius:10,cornerRadius:10}],height:300,sx:{maxWidth:"100%"},margin:{left:0,right:0,top:0,bottom:0},slotProps:{legend:{hidden:!0}}})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,alignItems:"center",marginTop:2,children:["User","Admin","Student Course","Lecturer","Admin course"].map(((e,t)=>(0,z.jsx)(a.ZP,{item:!0,children:(0,z.jsx)(Re.Z,{label:e,color:It[t]})},t)))})]})]})]})})]}),1===l&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:5,children:(0,z.jsx)(ve.Z,{children:"Course"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.course,alt:"Total course",style:{width:"35px"}}),title:"Total courses",value:v.totalCourse,mainColor:"#3498db"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.userEnrollment,alt:"Enrolled user",style:{width:"35px"}}),title:"Enrollments",value:v.totalEnrollments,mainColor:"#2ecc71"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.activeCourse,alt:"active course",style:{width:"35px"}}),title:"Active Courses",value:v.activeCourse,mainColor:"#f39c12"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.inactiveCourse,alt:"online user",style:{width:"35px"}}),title:"Inactive courses",value:v.inactiveCourse,mainColor:"#e74c3c"})})]})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,z.jsx)(_e.Z,{children:"Course Enrollment"}),(0,z.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:[(0,z.jsxs)(d.Z,{display:"flex",justifyContent:"flex-end",direction:"row",spacing:2,children:[(0,z.jsx)(M.Z,{variant:0===p?"outlined":"plain",onClick:()=>{0!==p&&g(0)},size:"sm",children:"Week"}),(0,z.jsx)(M.Z,{variant:1===p?"outlined":"plain",onClick:()=>{1!==p&&g(1)},size:"sm",children:"Month"}),(0,z.jsx)(M.Z,{variant:2===p?"outlined":"plain",onClick:()=>{2!==p&&g(2)},size:"sm",children:"Year"})]}),(0,z.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,z.jsx)(kt,{data:0===p?q:1===p?E:L,series:0===v.userEnrollments.length?[]:0===p?[v.userEnrollments[0]]:1===p?[v.userEnrollments[1]]:[v.userEnrollments[2]],scaleType:"point",startGradientColor:["#11B678"],endGradientColor:["#FF3143"]}),(0,z.jsx)(Re.Z,{label:"New Enrollment",color:"#11B678"})]})]})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:6,children:[(0,z.jsx)(_e.Z,{children:"Active / Inactive course"}),(0,z.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",boxShadow:"lg"},children:[(0,z.jsx)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,z.jsx)(Zt.u,{colors:It,series:[{data:v.activeInactiveCourse,innerRadius:10,cornerRadius:10}],height:300,sx:{maxWidth:"100%"},margin:{left:0,right:0,top:0,bottom:0},slotProps:{legend:{hidden:!0}}})}),(0,z.jsxs)(a.ZP,{container:!0,spacing:2,alignItems:"center",marginTop:2,children:[(0,z.jsx)(a.ZP,{item:!0,children:(0,z.jsx)(Re.Z,{label:"Active",color:It[0]})}),(0,z.jsx)(a.ZP,{item:!0,children:(0,z.jsx)(Re.Z,{label:"Inactive",color:It[1]})})]})]})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:6,children:[(0,z.jsx)(_e.Z,{children:"Course type"}),(0,z.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",boxShadow:"lg"},children:[(0,z.jsx)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,z.jsx)(Zt.u,{colors:It,series:[{data:v.courseType,innerRadius:10,cornerRadius:10}],height:300,sx:{maxWidth:"100%"},margin:{left:0,right:0,top:0,bottom:0},slotProps:{legend:{hidden:!0}}})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,alignItems:"center",marginTop:2,children:v.courseType.map(((e,t)=>(0,z.jsx)(a.ZP,{item:!0,children:(0,z.jsx)(Re.Z,{label:e.label,color:It[t]})},t)))})]})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:6,children:[(0,z.jsx)(_e.Z,{children:"Recent assignment"}),(0,z.jsx)(_t.Z,{color:"neutral",variant:"outlined",sx:{boxShadow:"lg",height:"400px"},children:(0,z.jsxs)(ft.Z,{variant:"soft",size:"lg",hoverRow:!0,sx:{backgroundColor:"#FBFCFE","& tbody tr:hover":{backgroundColor:"#f3f3f3"}},children:[(0,z.jsx)("thead",{children:(0,z.jsx)("tr",{children:W.map(((e,t)=>(0,z.jsx)("th",{style:{borderBottom:"2px solid rgb(128,128,128)"},children:(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",nonoverflow:!0,children:e})},t)))})}),(0,z.jsxs)("tbody",{children:[0!==v.recentAssignments.length&&(0,z.jsx)(z.Fragment,{children:v.recentAssignments.map(((e,t)=>(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",nonoverflow:!0,children:e.title})}),(0,z.jsx)("td",{children:(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",nonoverflow:!0,children:e.courseName})}),(0,z.jsx)("td",{children:(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",nonoverflow:!0,children:"FILE"===e.type?"File":"TEXT_ONLINE"===e.type?"Text online":"Both"})}),(0,z.jsx)("td",{children:(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",nonoverflow:!0,children:new Date(e.createdAt).toLocaleDateString()})})]},t)))}),0===v.recentAssignments.length&&(0,z.jsx)("tr",{children:(0,z.jsx)(ue.Z,{colSpan:W.length,children:(0,z.jsx)(n.Z,{display:"flex",alignItems:"center",justifyContent:"center",height:"300px",children:(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:"No data to display"})})})})]})]})})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:6,children:[(0,z.jsx)(_e.Z,{children:"Recent exam"}),(0,z.jsx)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",boxShadow:"lg"},children:(0,z.jsxs)(ft.Z,{variant:"soft",size:"lg",hoverRow:!0,sx:{backgroundColor:"#FBFCFE","& tbody tr:hover":{backgroundColor:"#f3f3f3"}},children:[(0,z.jsx)("thead",{children:(0,z.jsx)("tr",{children:R.map(((e,t)=>(0,z.jsx)("th",{style:{borderBottom:"2px solid rgb(128,128,128)"},children:(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e})},t)))})}),(0,z.jsxs)("tbody",{children:[0!==v.recentExam.length&&(0,z.jsx)(z.Fragment,{children:v.recentExam.map(((e,t)=>(0,z.jsxs)("tr",{children:[(0,z.jsx)("td",{children:(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:e.examName})}),(0,z.jsx)("td",{children:(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:e.courseName})}),(0,z.jsx)("td",{children:(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:new Date(e.createdAt).toLocaleDateString()})})]},t)))}),0===v.recentExam.length&&(0,z.jsx)("tr",{children:(0,z.jsx)(ue.Z,{colSpan:R.length,children:(0,z.jsx)(n.Z,{display:"flex",alignItems:"center",justifyContent:"center",height:"300px",children:(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:"No data to display"})})})})]})]})})]})]})})]}),2===l&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:5,children:(0,z.jsx)(ve.Z,{children:"Contest"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.contestDashboard,alt:"Total contest",style:{width:"35px",color:"white"}}),title:"Total contest",value:C.totalContest,mainColor:"#4CAF50"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.contestParticipant,alt:"Participant",style:{width:"35px"}}),title:"Total participants",value:C.totalParticipants,mainColor:"#2196F3"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.happeningContest,alt:"active contest",style:{width:"35px"}}),title:"Happening contest",value:C.activeContest,mainColor:"#FFEB3B"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.upcomingContest,alt:"upcomming contest",style:{width:"35px"}}),title:"Upcomming contest",value:C.upcomingContest,mainColor:"#FF9800"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.closedContest,alt:"closed contest",style:{width:"35px"}}),title:"Closed contest",value:C.closedContest,mainColor:"#F44336"})})]})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,z.jsx)(a.ZP,{container:!0,spacing:4,children:(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,z.jsx)(_e.Z,{children:"Contest Participant Trend"}),(0,z.jsx)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:(0,z.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,z.jsx)(kt,{data:L,series:0===C.participantTrend.length?[]:[C.participantTrend[0],C.participantTrend[1]],scaleType:"point",startGradientColor:["#42A5F5","#66BB6A"],endGradientColor:["#1E88E5","#43A047"]}),(0,z.jsxs)(d.Z,{direction:"row",spacing:2,children:[(0,z.jsx)(Re.Z,{label:"Participant",color:"#42A5F5"}),(0,z.jsx)(Re.Z,{label:"Average Participant",color:"#66BB6A"})]})]})})]})})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,z.jsx)(a.ZP,{container:!0,spacing:4,children:(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,z.jsx)(_e.Z,{children:"Popular contest"}),(0,z.jsx)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:(0,z.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,z.jsx)(We.v,{borderRadius:10,colors:["#42A5F5","#66BB6A"],height:320,xAxis:[{scaleType:"band",data:C.popularContestName}],series:0===C.popularContest.length?[]:[{...C.popularContest[0],stack:"A",stackOffset:"none"},{...C.popularContest[1],stack:"A",stackOffset:"none"}],sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"}},grid:{horizontal:!0},yAxis:[{scaleType:"linear",disableTicks:!0}],margin:{left:30,right:20,top:40,bottom:30},slotProps:{legend:{hidden:!0}}}),(0,z.jsxs)(d.Z,{direction:"row",spacing:2,children:[(0,z.jsx)(Re.Z,{label:"Participant",color:"#66BB6A"}),(0,z.jsx)(Re.Z,{label:"Submission",color:"#42A5F5"})]})]})})]})})})]}),3===l&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:5,children:(0,z.jsx)(ve.Z,{children:"Certificate course"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.certificateCourse,alt:"Total certificate course",style:{width:"35px"}}),title:"Total certificate course",value:k.totalCertificateCourse,mainColor:"#6A1B9A"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.certificateEnrollment,alt:"Enrollment",style:{width:"35px"}}),title:"Total enrollment",value:k.totalEnrollments,mainColor:"#2196F3"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.certificateCompleted,alt:"active contest",style:{width:"35px"}}),title:"participant completed course",value:k.totalParticipantCompletedCourse,mainColor:"#4CAF50"})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:3,children:(0,z.jsx)(Le.Z,{icon:(0,z.jsx)("img",{src:Me.Z.admin.certificateRating,alt:"upcomming contest",style:{width:"35px"}}),title:"Average rating",value:Number(k.averageRating.toFixed(2)),mainColor:"#FFC107"})})]})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:12,children:(0,z.jsx)(a.ZP,{container:!0,spacing:4,children:(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,z.jsx)(_e.Z,{children:"Enrollment chart"}),(0,z.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:[(0,z.jsxs)(d.Z,{display:"flex",justifyContent:"flex-end",direction:"row",spacing:2,children:[(0,z.jsx)(M.Z,{variant:0===x?"outlined":"plain",onClick:()=>{0!==x&&h(0)},size:"sm",children:"Week"}),(0,z.jsx)(M.Z,{variant:1===x?"outlined":"plain",onClick:()=>{1!==x&&h(1)},size:"sm",children:"Month"}),(0,z.jsx)(M.Z,{variant:2===x?"outlined":"plain",onClick:()=>{2!==x&&h(2)},size:"sm",children:"Year"})]}),(0,z.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,z.jsx)(kt,{data:0===x?q:1===x?E:L,series:0===k.enrollmentChart.length?[]:0===x?[k.enrollmentChart[0]]:1===x?[k.enrollmentChart[1]]:[k.enrollmentChart[2]],scaleType:"point",startGradientColor:["#42A5F5"],endGradientColor:["#1E88E5"]}),(0,z.jsx)(Re.Z,{label:"New Enrollment",color:"#42A5F5"})]})]})]})})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,md:8,lg:8,children:(0,z.jsx)(a.ZP,{container:!0,spacing:4,children:(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:12,lg:12,children:[(0,z.jsx)(_e.Z,{children:"Top Enrolled Course"}),(0,z.jsx)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",display:"flex",justifyContent:"center",boxShadow:"lg"},children:(0,z.jsxs)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:[(0,z.jsx)(We.v,{borderRadius:10,colors:["#1E88E5","#1565C0"],height:320,xAxis:[{scaleType:"band",data:k.topEnrolledCourse.map((e=>e.label))}],series:0===k.topEnrolledCourse.length?[]:[{data:k.topEnrolledCourse.map((e=>e.data[0])),label:"Participant(s)"}],sx:{"& .MuiChartsAxis-bottom .MuiChartsAxis-line":{stroke:"var(--gray-40)",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-line":{stroke:"white",strokeWidth:.4},"& .MuiChartsAxis-left .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tickLabel":{strokeWidth:"0.4",fill:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"},"& .MuiChartsAxis-bottom .MuiChartsAxis-tick":{strokeWidth:"1",stroke:"var(--gray-40)",fontSize:12,fontFamily:"Roboto"}},grid:{horizontal:!0},yAxis:[{scaleType:"linear",disableTicks:!0}],margin:{left:30,right:20,top:40,bottom:30},slotProps:{legend:{hidden:!0}}}),(0,z.jsx)(Re.Z,{label:"Participant",color:"#1E88E5"})]})})]})})}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,md:4,lg:4,children:[(0,z.jsx)(_e.Z,{children:"Course Resource Type"}),(0,z.jsxs)(_t.Z,{color:"neutral",variant:"outlined",sx:{height:"400px",boxShadow:"lg"},children:[(0,z.jsx)(d.Z,{direction:"column",spacing:1,alignItems:"center",sx:{width:"100%"},children:(0,z.jsx)(Zt.u,{colors:It,series:[{data:k.chapterResourceType,innerRadius:10,cornerRadius:10}],height:300,sx:{maxWidth:"100%"},margin:{left:0,right:0,top:0,bottom:0},slotProps:{legend:{hidden:!0}}})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,alignItems:"center",marginTop:2,children:k.chapterResourceType.map(((e,t)=>(0,z.jsx)(a.ZP,{item:!0,children:(0,z.jsx)(Re.Z,{label:e.label,color:It[t]})},t)))})]})]})]})]})]})};var Tt=i(85543),Dt=i(1567);const qt=()=>{const{t:e}=(0,P.$G)(),t=(0,o.s0)(),[i,n]=(0,S.useState)(""),[s,r]=(0,S.useState)((()=>y.ZP.language)),[x,h]=(0,S.useState)([{key:"belongToOrg",value:Tt.c.ALL}]),[C,w]=(0,S.useState)({currentPage:0,totalItems:0,totalPages:0,items:[]}),[k,T]=(0,S.useState)(!1),[E,L]=(0,S.useState)(!1),[M,W]=(0,S.useState)(""),R=(0,N.I0)(),O=(0,S.useCallback)((async t=>{let{searchName:i,pageNo:a=0,pageSize:n=10,belongToOrg:s=Tt.c.ALL}=t;T(!0);try{const e=await jt.K.getAllUser({searchName:i,pageNo:a,pageSize:n,belongToOrg:s});w({currentPage:e.currentPage,totalItems:e.totalItems,totalPages:e.totalPages,items:e.users}),T(!1)}catch(r){console.error("error",r),401!==r.code&&403!==r.code||R((0,I.lS)(e("common_please_login_to_continue"))),T(!1)}}),[R,e]),B=(0,S.useCallback)((e=>{O({searchName:e,belongToOrg:x[0].value})}),[O]),U=[{field:"email",headerName:"Email",flex:2.5,renderHeader:()=>(0,z.jsx)(Z.Z,{nonoverflow:!0,width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:"Email"}),renderCell:e=>(0,z.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,z.jsx)(m.Z,{sx:{bgcolor:"".concat((0,D.M)("".concat(e.row.firstName," ").concat(e.row.lastName)))},alt:e.row.email,src:e.row.avatarUrl,children:e.row.firstName.charAt(0)}),(0,z.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"fullname",headerName:e("common_fullname"),flex:1.5,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_fullname")}),renderCell:e=>(0,z.jsxs)(b.Z,{width:"auto",children:[e.row.firstName," ",e.row.lastName]})},{field:"lastLogin",headerName:e("common_last_login"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_last_login")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:(0,q.J$)(e.row.lastLogin,s)})},{field:"isDeleted",headerName:e("common_is_blocked"),flex:.6,align:"center",renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_is_blocked")}),renderCell:e=>(0,z.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isDeleted,sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"isBelongToOrganization",headerName:e("common_is_belong_to_organization"),flex:.6,align:"center",renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_is_belong_to_organization")}),renderCell:e=>(0,z.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isBelongToOrganization,sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"roleName",headerName:e("common_role"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_role")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:e.row.roleName})},{field:"action",headerName:e("common_action"),type:"actions",flex:.8,renderHeader:()=>(0,z.jsx)(v.Z,{width:"auto",sx:{textAlign:"left"},children:e("common_action")}),getActions:e=>[(0,z.jsx)(p.u,{icon:(0,z.jsx)(c.Z,{}),label:"Edit",onClick:()=>{t(A._.admin.users.edit.details.replace(":userId",e.row.userId),{state:{contestName:e.row.name}})}}),(0,z.jsx)(p.u,{onClick:()=>{W(e.row.userId),L(!0)},icon:(0,z.jsx)(l.Z,{}),label:"Delete"})]}],[H,F]=(0,S.useState)(0),[G,V]=(0,S.useState)(10),Q=(0,S.useMemo)((()=>C.totalItems||0),[C.totalItems]),$=(0,S.useMemo)((()=>[{name:Dt.W.ADMIN,label:e("role_system_admin")},{name:Dt.W.ADMIN_MOODLE,label:e("role_org_admin")},{name:Dt.W.LECTURER_MOODLE,label:e("role_lecturer")},{name:Dt.W.STUDENT_MOODLE,label:e("role_student")}]),[e]),Y=(0,S.useCallback)((t=>{const i=$.find((e=>null===t||void 0===t?void 0:t.roles.some((t=>(null===t||void 0===t?void 0:t.name)===e.name))));return i?i.label:e("role_user")}),[$,e]),K=(0,S.useMemo)((()=>C.items.length>0?C.items.map((e=>({id:e.userId,userId:e.userId,email:e.email,firstName:e.firstName,lastName:e.lastName,avatarUrl:e.avatarUrl,lastLogin:e.lastLogin,phone:e.phone,address:e.address,dob:e.dob,isLinkedWithGoogle:e.isLinkedWithGoogle,isLinkedWithMicrosoft:e.isLinkedWithMicrosoft,createdAt:e.createdAt,roleName:Y(e),isDeleted:e.isDeleted,isBelongToOrganization:!!e.organization}))):[]),[Y,C.items]),X=(0,S.useCallback)((()=>{O({searchName:i,belongToOrg:x[0].value})}),[O,i,x]),J=(0,S.useCallback)((()=>{O({searchName:i,belongToOrg:Tt.c.ALL})}),[O,i]);(0,S.useEffect)((()=>{r(y.ZP.language)}),[y.ZP.language]),(0,S.useEffect)((()=>{(async()=>{await O({searchName:"",belongToOrg:Tt.c.ALL})})()}),[R,O]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(_.Z,{isOpen:E,title:"Confirm delete",description:"Are you sure you want to delete this user?",onCancel:()=>{L(!1)},onDelete:async()=>{jt.K.deleteUserById(M).then((e=>{R((0,I.kU)("Delete user successfully")),O({searchName:"",belongToOrg:Tt.c.ALL})})).catch((e=>{console.error("error",e),R((0,I.lS)("Delete user failed"))})).finally((()=>{L(!1)}))}}),(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{padding:"0px 20px 20px 20px"},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(j.Z,{"translate-key":"user_management",children:e("user_management")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(f.Z,{isLoading:k,searchValue:i,setSearchValue:n,onHandleChange:B,createBtnText:e("user_create"),onClickCreate:()=>{t(A._.admin.users.create)},numOfResults:Q,filterKeyList:[{label:e("common_is_belong_to_organization"),value:"belongToOrg"}],filterValueList:{belongToOrg:[{label:e("common_all"),value:Tt.c.ALL},{label:e("user_belong_to_organization"),value:Tt.c.BELONG_TO_ORGANIZATION},{label:e("user_not_belong_to_organization"),value:Tt.c.NOT_BELONG_TO_ORGANIZATION}]},filters:x,handleChangeFilters:e=>{h(e)},onHandleApplyFilter:X,onHandleCancelFilter:J})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(g.Z,{loading:k,dataList:K,tableHeader:U,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:H,pageSize:G,totalElement:Q,onPaginationModelChange:(e,t)=>{F(e.page),V(e.pageSize),O({searchName:i,pageNo:e.page,pageSize:e.pageSize,belongToOrg:x[0].value})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})},zt={formBody:"styles_formBody__JisuN",breadcump:"styles_breadcump__irmYW",phoneInput:"styles_phoneInput__AtGfs"};var Et=i(47006),Lt=i(55181);const Mt=()=>{var e,t,i,s,r,l,c,d,m;const{t:u}=(0,P.$G)(),x=(0,o.s0)(),[h,p]=(0,S.useState)(!1),g=(0,N.I0)(),_=(0,S.useMemo)((()=>G.Ry().shape({email:G.Z_().required(u("email_required")).email(u("email_invalid")),password:G.Z_().required(u("password_required")).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,u("password_invalid")),confirmPassword:G.Z_().required(u("password_confirm_required")).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,u("password_invalid")).oneOf([G.iH("password")],u("password_confirm_not_match")),firstName:G.Z_().required(u("first_name_required")),lastName:G.Z_().required(u("last_name_required")),roleName:G.Ry().shape({id:G.Z_().required(u("role_required")),name:G.Z_().required(u("role_required"))}).required(u("role_required")),phone:G.Z_().matches(/^\+?[1-9][0-9]{7,14}$/,u("phone_number_invalid")).required(u("phone_required"))})),[u]),{handleSubmit:f,control:Z,formState:{errors:b},register:y}=(0,F.cI)({resolver:(0,L.X)(_)}),C=(0,S.useCallback)((async e=>{p(!0);try{await jt.K.createUserByAdmin(e),p(!1),g((0,I.kU)("Created user successfully")),x(A._.admin.users.root)}catch(t){console.error("error",t),g((0,I.lS)("User creation failed!!! please check your input information")),401!==t.code&&403!==t.code||g((0,I.lS)(u("common_please_login_to_continue"))),p(!1)}}),[u]),w=(0,S.useMemo)((()=>[{id:Dt.W.ADMIN,name:u("role_system_admin")},{id:Dt.W.USER,name:u("role_user")},{id:Dt.W.LECTURER_MOODLE,name:u("role_lecturer")},{id:Dt.W.STUDENT_MOODLE,name:u("role_student")},{id:Dt.W.ADMIN_MOODLE,name:u("role_org_admin")}]),[u]);return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(n.Z,{className:zt.breadcump,children:(0,z.jsx)(n.Z,{id:zt.breadcumpWrapper,children:(0,z.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.users.root,label:u("user_management")}],lastBreadCrumbLabel:u("user_create")})})}),(0,z.jsxs)(n.Z,{sx:{padding:"0px 20px 20px 20px"},children:[(0,z.jsx)(j.Z,{"translate-key":"user_create",children:u("user_create")}),(0,z.jsxs)(n.Z,{component:"form",className:zt.formBody,onSubmit:f((async e=>{const t={...e},i={email:t.email,password:t.password,firstName:t.firstName,lastName:t.lastName,roleName:t.roleName.id,phone:t.phone};await C(i)})),children:[(0,z.jsx)(Lt.Z,{fullWidth:!0,title:u("common_role"),name:"roleName",control:Z,selectProps:{options:w},errorMessage:null===(e=b.roleName)||void 0===e||null===(t=e.id)||void 0===t?void 0:t.message}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,children:(0,z.jsx)(v.Z,{"translation-key":"common_phone",children:u("common_phone")})}),(0,z.jsxs)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:[(0,z.jsx)(F.Qr,{control:Z,name:"phone",render:e=>{let{field:t}=e;return(0,z.jsx)(Et.ZP,{value:t.value,placeholder:"Enter phone number",onChange:t.onChange,className:zt.phoneInput,defaultCountry:"VN"})}}),(null===(i=b.phone)||void 0===i?void 0:i.message)&&(0,z.jsx)(U.Z,{children:null===(s=b.phone)||void 0===s?void 0:s.message})]})]}),(0,z.jsx)(B.Z,{title:u("Email"),type:"text",inputRef:y("email"),errorMessage:null===b||void 0===b||null===(r=b.email)||void 0===r?void 0:r.message,width:"100%"}),(0,z.jsx)(B.Z,{title:u("first_name"),type:"text",inputRef:y("firstName"),errorMessage:null===b||void 0===b||null===(l=b.firstName)||void 0===l?void 0:l.message,width:"100%"}),(0,z.jsx)(B.Z,{title:u("last_name"),type:"text",inputRef:y("lastName"),errorMessage:null===b||void 0===b||null===(c=b.lastName)||void 0===c?void 0:c.message,width:"100%"}),(0,z.jsx)(B.Z,{title:u("common_password"),type:"password",inputRef:y("password"),errorMessage:null===b||void 0===b||null===(d=b.password)||void 0===d?void 0:d.message,width:"100%"}),(0,z.jsx)(B.Z,{title:u("common_password_confirm"),type:"password",inputRef:y("confirmPassword"),errorMessage:null===b||void 0===b||null===(m=b.confirmPassword)||void 0===m?void 0:m.message,width:"100%"}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,z.jsx)(M.Z,{loading:h,variant:"solid",type:"submit","translation-key":"user_create",children:u("user_create")})})]})]})]})})},Wt={formBody:"styles_formBody__TCInU",breadcump:"styles_breadcump__49WDQ",phoneInput:"styles_phoneInput__rGLcO"};var Rt=i(3185),Ot=i(11722),Bt=(i(96304),i(23208)),Ut=i(53781),Ht=i(10658),Ft=i.n(Ht),Gt=i(45904);const Vt=()=>{var e,t,i,s,r,l,c,d,x,p;const{t:g}=(0,P.$G)(),[_,f]=((0,o.s0)(),(0,S.useState)(!1)),Z=(0,N.I0)(),b=(0,S.useMemo)((()=>G.Ry().shape({firstName:G.Z_().required(g("first_name_required")),lastName:G.Z_().required(g("last_name_required")),dob:G.Z_(),phone:G.Z_().matches(/^\+?[1-9][0-9]{7,14}$/,g("phone_number_invalid")).required(g("phone_required")),roleName:G.Ry().shape({id:G.Z_().required(),name:G.Z_().required()}).required(g("role_required")),isDeleted:G.O7().required(g("organization_is_deleted_required"))})),[g]),{userId:C}=(0,o.UO)(),[w,k]=(0,S.useState)((()=>y.ZP.language)),[T,E]=(0,S.useState)(),W=(0,S.useMemo)((()=>[{id:Dt.W.ADMIN,name:g("role_system_admin")},{id:Dt.W.USER,name:g("role_user")}]),[g]),O=(0,S.useCallback)((e=>{const t=W.find((t=>null===e||void 0===e?void 0:e.roles.some((e=>(null===e||void 0===e?void 0:e.name)===t.id&&(null===e||void 0===e?void 0:e.name)!==Dt.W.USER))));return t||W.find((e=>e.id===Dt.W.USER))}),[W]),{handleSubmit:H,control:V,formState:{errors:Q},reset:$,register:Y}=(0,F.cI)({resolver:(0,L.X)(b)});(0,S.useEffect)((()=>{k(y.ZP.language)}),[y.ZP.language]);const K=(0,S.useCallback)((async e=>{try{const t=await jt.K.getUserById(e),i=O(t);t&&($({firstName:t.firstName,lastName:t.lastName,dob:(0,Rt.WU)(t.dob?t.dob:Date.now(),"dd-MM-yyyy"),phone:t.phone,roleName:i,isDeleted:t.isDeleted}),E(t))}catch(t){console.error("error",t)}}),[$,O]);(0,S.useEffect)((()=>{!T&&C&&K(C)}),[T,K,C]);const X=(0,S.useCallback)((async e=>{f(!0);try{if(!C)return;await jt.K.updateUserByAdmin(C,e),f(!1),Z((0,I.kU)("Updated user successfully"))}catch(t){console.error("error",t),Z((0,I.lS)("User is updated failed!!! please check your input information")),401!==t.code&&403!==t.code||Z((0,I.lS)(g("common_please_login_to_continue"))),f(!1)}}),[Z,g,C]);return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(n.Z,{className:Wt.breadcump,children:(0,z.jsx)(n.Z,{id:Wt.breadcumpWrapper,children:(0,z.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.users.root,label:g("user_management")}],lastBreadCrumbLabel:g("common_account_info")})})}),(0,z.jsxs)(n.Z,{sx:{padding:"0px 20px 20px 20px"},children:[(0,z.jsx)(j.Z,{"translate-key":"common_account_info",children:g("common_account_info")}),(0,z.jsxs)(n.Z,{component:"form",className:Wt.formBody,onSubmit:H((async e=>{const t={...e},i={firstName:t.firstName,lastName:t.lastName,dob:t.dob?(0,Ot.Qc)(t.dob,"dd-MM-yyyy",new Date):void 0,roleName:t.roleName.id,phone:t.phone,isDeleted:t.isDeleted};console.log(i),await X(i)})),children:[(0,z.jsx)(a.ZP,{container:!0,columns:12,justifyContent:"center",children:(0,z.jsx)(m.Z,{sx:{bgcolor:"".concat((0,D.M)("".concat(null===T||void 0===T?void 0:T.firstName," ").concat(null===T||void 0===T?void 0:T.lastName))),width:150,height:150,fontSize:"60px"},alt:null===T||void 0===T?void 0:T.email,src:null===T||void 0===T?void 0:T.avatarUrl,children:null===T||void 0===T?void 0:T.firstName.charAt(0)})}),(0,z.jsx)(Lt.Z,{fullWidth:!0,title:g("common_role"),name:"roleName",control:V,selectProps:{options:W,placeholder:"Select role name"},errorMessage:null===(e=Q.roleName)||void 0===e||null===(t=e.id)||void 0===t?void 0:t.message}),(null===T||void 0===T?void 0:T.organization)&&(0,z.jsx)(B.Z,{title:g("common_organization_name"),type:"text",disabled:!0,value:null===T||void 0===T?void 0:T.organization.name,width:"100%"}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,children:(0,z.jsx)(v.Z,{"translation-key":"common_phone",children:g("common_phone")})}),(0,z.jsxs)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:[(0,z.jsx)(F.Qr,{control:V,name:"phone",render:e=>{let{field:t}=e;return(0,z.jsx)(Et.ZP,{placeholder:"Enter phone number",value:t.value,onChange:t.onChange,className:Wt.phoneInput})}}),(null===(i=Q.phone)||void 0===i?void 0:i.message)&&(0,z.jsx)(U.Z,{children:null===(s=Q.phone)||void 0===s?void 0:s.message})]})]}),(0,z.jsx)(B.Z,{title:g("common_last_login"),type:"text",disabled:!0,value:(0,q.J$)(null===T||void 0===T?void 0:T.lastLogin,w),width:"100%"}),(0,z.jsx)(B.Z,{title:g("Email"),type:"text",disabled:!0,value:null===T||void 0===T?void 0:T.email,width:"100%"}),(0,z.jsx)(B.Z,{title:g("first_name"),type:"text",inputRef:Y("firstName"),errorMessage:null===Q||void 0===Q||null===(r=Q.firstName)||void 0===r?void 0:r.message,width:"100%"}),(0,z.jsx)(B.Z,{title:g("last_name"),type:"text",inputRef:Y("lastName"),errorMessage:null===Q||void 0===Q||null===(l=Q.lastName)||void 0===l?void 0:l.message,width:"100%"}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,children:(0,z.jsx)(v.Z,{"translation-key":"common_DOB",children:g("common_DOB")})}),(0,z.jsxs)(a.ZP,{item:!0,xs:7,children:[(0,z.jsx)(F.Qr,{control:V,name:"dob",render:e=>{let{field:t}=e;return(0,z.jsx)(Bt._,{dateAdapter:Gt.y,children:(0,z.jsx)(Ut.M,{label:"Date",value:Ft()(t.value,"DD/MM/YYYY"),inputRef:t.ref,onChange:e=>{null!==e&&void 0!==e&&e.isValid()&&t.onChange((0,Rt.WU)(null===e||void 0===e?void 0:e.toDate(),"dd-MM-yyyy"))}})})}}),(null===(c=Q.dob)||void 0===c?void 0:c.message)&&(0,z.jsx)(U.Z,{children:null===(d=Q.dob)||void 0===d?void 0:d.message})]})]}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,display:"flex",flexDirection:"row",alignItems:"center",children:(0,z.jsx)(v.Z,{"translation-key":"common_is_blocked",children:g("common_is_blocked")})}),(0,z.jsxs)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",children:[(0,z.jsx)(F.Qr,{control:V,name:"isDeleted",render:e=>{let{field:t}=e;return(0,z.jsx)(u.Z,{size:"large",checked:!!t.value,...t,name:"isDeleted"})}}),(null===(x=Q.isDeleted)||void 0===x?void 0:x.message)&&(0,z.jsx)(U.Z,{children:null===(p=Q.isDeleted)||void 0===p?void 0:p.message})]})]}),T&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsxs)(a.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center"},children:[Me.Z.logo.moodleLogo&&(0,z.jsx)(m.Z,{alt:"Google",src:Me.Z.logo.googleLogo,sx:{width:"40px",height:"40px"}}),(0,z.jsx)(J.Z,{sx:{marginLeft:"5px"},children:"Google"})]}),(0,z.jsx)(a.ZP,{item:!0,xs:7,sx:{display:"flex",alignItems:"center"},children:null!==T&&void 0!==T&&T.isLinkedWithGoogle?(0,z.jsx)(J.Z,{"translation-key":"user_detail_dialog_linked",children:g("user_detail_dialog_linked")}):(0,z.jsx)(J.Z,{"translation-key":"user_detail_dialog_not_linked",children:g("user_detail_dialog_not_linked")})})]}),(0,z.jsx)(h.Z,{}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsxs)(a.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center"},children:[Me.Z.logo.moodleLogo&&(0,z.jsx)(m.Z,{alt:"Microsoft",src:Me.Z.logo.microsoftLogo,sx:{width:"40px",height:"40px"}}),(0,z.jsx)(J.Z,{sx:{marginLeft:"5px"},children:"Microsoft"})]}),(0,z.jsx)(a.ZP,{item:!0,xs:7,sx:{display:"flex",alignItems:"center"},children:null!==T&&void 0!==T&&T.isLinkedWithMicrosoft?(0,z.jsx)(J.Z,{"translation-key":"user_detail_dialog_linked",children:g("user_detail_dialog_linked")}):(0,z.jsx)(J.Z,{"translation-key":"user_detail_dialog_not_linked",children:g("user_detail_dialog_not_linked")})})]}),(0,z.jsx)(h.Z,{})]}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,z.jsx)(M.Z,{loading:_,variant:"solid",type:"submit","translation-key":"user_update",children:g("user_update")})})]})]})]})})};var Qt=i(90182),$t=i(8344),Yt=i(90414);const Kt=()=>{const{t:e}=(0,P.$G)(),t=(0,o.s0)(),[i,s]=(0,S.useState)(""),[r,u]=S.useState([{key:"Status",value:"All"}]),[h,j]=(0,S.useState)(0),[Z,b]=(0,S.useState)(10),v=(0,N.v9)((e=>e.adminCertificateCourse)),y=(0,N.I0)(),C=(0,S.useCallback)((async t=>{let{searchName:i,pageNo:a=0,pageSize:n=10}=t;try{y((0,$t.K4)(!0));const e=await Pt.M.getAllCertificateCourses({searchName:i,pageNo:a,pageSize:n});y((0,Yt.fm)(e)),y((0,$t.K4)(!1))}catch(s){console.error("error",s),401!==s.code&&403!==s.code||y((0,I.lS)(e("common_please_login_to_continue"))),y((0,$t.K4)(!1))}}),[y,e]);(0,S.useEffect)((()=>{(async()=>{y((0,$t.K4)(!0)),await C({}),y((0,$t.K4)(!1))})(),console.log("certificate list",v.certificateCourses)}),[y,C]);const w=(0,S.useCallback)((e=>{C({searchName:e})}),[C]),[k,T]=(0,S.useState)(!1),[D,q]=(0,S.useState)(""),E=(0,S.useMemo)((()=>v.certificateCourses.totalItems||0),[v.certificateCourses]),L=(0,S.useMemo)((()=>v.certificateCourses.certificateCourses.map((e=>({...e,id:e.certificateCourseId})))),[v.certificateCourses]),M=(0,S.useMemo)((()=>[{field:"name",headerName:e("common_name"),renderHeader:()=>(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e("common_name")}),flex:1,renderCell:e=>(0,z.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,z.jsx)(m.Z,{alt:e.row.name,src:e.row.topic.thumbnailUrl}),(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:e.row.name})]})},{field:"skillLevel",headerName:e("common_skill"),renderHeader:()=>(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e("common_skill")}),flex:.8,renderCell:e=>(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:e.row.skillLevel})},{field:"programmingLanguages",headerName:e("common_programming_languages"),renderHeader:()=>(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e("common_programming_languages")}),flex:1,renderCell:e=>{var t;return(0,z.jsx)(a.ZP,{container:!0,spacing:1,children:null===(t=e.row.topic.programmingLanguages)||void 0===t?void 0:t.map(((e,t)=>(0,z.jsx)(a.ZP,{item:!0,children:(0,z.jsx)(x.Z,{label:e.name,size:"small"},t)})))})}},{field:"avgRating",headerName:e("common_avg_rating"),renderHeader:()=>(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e("common_avg_rating")}),flex:.3,renderCell:e=>(0,z.jsx)(J.Z,{fontSize:".875rem",color:"#212121",fontWeight:"600",children:e.row.avgRating})},{field:"action",headerName:e("common_action"),type:"actions",flex:.6,renderHeader:()=>(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:e("common_action")}),getActions:e=>[(0,z.jsx)(p.u,{icon:(0,z.jsx)(c.Z,{}),label:"Edit",onClick:()=>{t(A._.admin.certificate.detail.replace(":id",e.row.certificateCourseId))}}),(0,z.jsx)(p.u,{icon:(0,z.jsx)(l.Z,{}),label:"Delete",onClick:()=>{q(e.row.certificateCourseId),T(!0)}})]}]),[]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Qt.q,{children:(0,z.jsx)("title",{children:e("certificate_course_management")})}),(0,z.jsx)(_.Z,{isOpen:k,title:e("dialog_confirm_delete_title"),description:e("dialog_confirm_delete_description"),onCancel:()=>{T(!1)},onDelete:async()=>{Pt.M.deleteCertificateCourseById(D).then((t=>{j(0),C({searchName:i,pageNo:0,pageSize:Z}),y((0,I.kU)(e("delete_certificate_course_success")))})).catch((t=>{console.error("error",t),y((0,I.lS)(e("delete_certificate_course_failed")))})).finally((()=>{T(!1)}))}}),(0,z.jsx)(n.Z,{sx:{paddingLeft:"13px"},children:(0,z.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.dashboard,label:"Home"}],lastBreadCrumbLabel:"Certificate Course Management"})}),(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{padding:"0 20px"},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(ve.Z,{"translate-key":"certificate_course_management_title",children:e("certificate_course_management_title").toUpperCase()})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(f.Z,{isFilter:!1,isLoading:v.isLoading,searchValue:i,setSearchValue:s,onHandleChange:w,createBtnText:e("certificate_course_create_btn"),onClickCreate:()=>{t(A._.admin.certificate.create)},numOfResults:E,filters:r,handleChangeFilters:e=>{u(e)}})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(g.Z,{loading:v.isLoading,dataList:L,tableHeader:M,onSelectData:()=>{},dataGridToolBar:{enableToolbar:!0},page:h,pageSize:Z,totalElement:E,onPaginationModelChange:(e,t)=>{j(e.page),b(e.pageSize),C({searchName:i,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!1,getRowHeight:()=>"50",sx:{"&.MuiDataGrid-withBorderColor":{border:"1px solid white"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"white",borderBottom:"2px solid var(--gray-50)"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"},minHeight:"500px"},personalSx:!0})})]})]})};var Xt=i(47825),Jt=i(19545),ei=i(51293),ti=i(99140);const ii={root:"styles_root__xDdAG","tab-panel":"styles_tab-panel__WzBof",container:"styles_container__FaGsa",tabWrapper:"styles_tabWrapper__1G6+z",formBody:"styles_formBody__EDP8V",linkLevel:"styles_linkLevel__WSkd-",breadCump:"styles_breadCump__+6Hwz",stickyFooterItem:"styles_stickyFooterItem__OFfcg",phantom:"styles_phantom__D+0dg",stickyFooterContainer:"styles_stickyFooterContainer__XbfH9"};var ai=i(43750),ni=i(72619),si=i(65339),ri=i(39113),oi=i(25231),li=i(571),ci=i(93588),di=i(1550),mi=i(70441);function ui(e){let{open:t,title:i,questionType:n,handleChangeQuestionType:s,handleClose:r,children:o,cancelText:l,confirmText:c,onHandleCancel:d,onHanldeConfirm:m,...u}=e;const{t:x}=(0,P.$G)(),[h,p]=S.useState(Object.values(ai.Z).map((e=>e.code)).some((e=>e===n)));return(0,z.jsx)(be.Z,{open:t,handleClose:r,title:i,cancelText:l,confirmText:c,onHandleCancel:d,onHanldeConfirm:m,confirmDisabled:!h,...u,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,minWidth:"450px",children:[(0,z.jsxs)(a.ZP,{item:!0,xs:6,children:[(0,z.jsx)(v.Z,{paddingBottom:"10px","translation-key":"common_question",children:x("common_question")}),(0,z.jsx)(di.Z,{component:"fieldset",sx:{maxHeight:"200px",overflowY:"auto"},children:(0,z.jsx)(mi.Z,{ariaLabel:"question-type",value:n,handleChange:e=>{p(!0),s(e)},items:[{value:"essay",label:x("common_question_type_essay")},{value:"multiple-choice",label:x("common_question_type_multi_choice")},{value:"short-answer",label:x("common_question_type_short")},{value:"true-false",label:x("common_question_type_yes_no")},{value:"code",label:x("common_question_type_code")}],"translation-key":["common_question_type_essay","common_question_type_short","common_question_type_multi_choice","common_question_type_yes_no","common_question_type_code"]})})]}),(0,z.jsx)(a.ZP,{item:!0,xs:6,children:(0,z.jsxs)(J.Z,{"translation-key":["common_question_type_yes_no","common_question_type_multi_choice","common_question_type_short","common_question","common_question_type_essay","common_question_type_code"],children:["essay"===n&&"".concat(x("common_question_type_essay")," ").concat(x("common_question")),"multiple-choice"===n&&"".concat(x("common_question_type_multi_choice")," ").concat(x("common_question")),"short-answer"===n&&"".concat(x("common_question_type_short")," ").concat(x("common_question")),"true-false"===n&&"".concat(x("common_question_type_yes_no")," ").concat(x("common_question")),"code"===n&&"".concat(x("common_question_type_code")," ").concat(x("common_question"))]})})]})})}var xi=i(43714),hi=i(51344),pi=i(2749),gi=i(80610);const _i=()=>{var e,t,i;const a=(0,N.I0)(),s=(0,N.v9)((e=>e.questionBankCategory)),r=(0,N.v9)((e=>e.questionCategory)),m=(0,o.s0)(),{categoryId:u}=(0,o.UO)(),{t:x}=(0,P.$G)(),[h,_]=(0,S.useState)(""),[f,b]=(0,S.useState)(5),[v,C]=(0,S.useState)(0),[w,k]=(0,S.useState)(!1),[I,T]=(0,S.useState)(ai.Z.essay.code),[D,q]=(0,S.useState)(!1),[E,L]=(0,S.useState)(!1),[M,W]=S.useState(!1),[R,O]=S.useState(!1),[B,U]=S.useState(!1),[H,F]=S.useState(),G=((e,t)=>t.map(((t,i)=>e[i]={...e[i],renderHeader:e=>(0,z.jsx)(J.Z,{fontWeight:700,children:t})})))([{field:"stt",sortable:!1,width:20,align:"center",headerClassName:ii["table-head"],renderCell:e=>(0,z.jsx)(J.Z,{children:e.row.stt})},{field:"questionName",sortable:!1,flex:2,headerClassName:ii["table-head"],renderCell:e=>(0,z.jsx)(J.Z,{children:e.row.name})},{field:"description",sortable:!1,flex:3,headerClassName:ii["table-head"],renderCell:e=>{var t;return(0,z.jsx)(J.Z,{children:(0,z.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==(t=e.row.questionText)&&void 0!==t?t:""}})})}},{field:"qtype",sortable:!1,flex:2,headerClassName:ii["table-head"],renderCell:e=>(0,z.jsx)(J.Z,{children:e.row.qtypeText})},{field:"created",sortable:!1,flex:2,renderCell:e=>(0,z.jsxs)("div",{children:[(0,z.jsxs)(J.Z,{children:[e.row.createdBy.firstName," ",e.row.createdBy.lastName]}),(0,z.jsx)("div",{children:Ft()(e.row.createdAt).format("DD/MM/YYYY")})]}),headerClassName:ii["table-head"]},{field:"updated",sortable:!1,flex:2,renderCell:e=>(0,z.jsxs)("div",{children:[(0,z.jsxs)(J.Z,{children:[e.row.updatedBy.firstName," ",e.row.updatedBy.lastName]}),(0,z.jsx)("div",{children:Ft()(e.row.updatedAt).format("DD/MM/YYYY")})]}),headerClassName:ii["table-head"]},{field:"operation",sortable:!1,flex:2,type:"actions",cellClassName:"actions",getActions:e=>[(0,z.jsx)(p.u,{icon:(0,z.jsx)(Jt.Z,{}),label:"Preview",onClick:()=>{switch(console.log(e.row,"params.row"),e.row.qtype.toString().toUpperCase()){case"MULTIPLE_CHOICE":U(!B);break;case"ESSAY":q(!D);break;case"SHORT_ANSWER":F(e.row),W(!M);break;case"TRUE_FALSE":O(!R)}}}),(0,z.jsx)(p.u,{icon:(0,z.jsx)(c.Z,{}),label:"Edit",sx:{color:"primary.main"},onClick:()=>{k(!1),m("update/".concat(I))}}),(0,z.jsx)(p.u,{icon:(0,z.jsx)(l.Z,{}),label:"Delete",className:"textPrimary",onClick:Q.bind(null,e.row.id.toString()),sx:{color:ei.Z[500]}})],headerClassName:ii["table-head"]}],x("question_bank_category_question_list_header_table",{returnObjects:!0})),V=async e=>{let{categoryId:t,isOrgQuestionBank:i=!0,search:n=h,pageNo:s=v,pageSize:r=f}=e;try{const e=await si.a.getQuestionsByCategoryId({categoryId:t,isOrgQuestionBank:i,search:n,pageNo:s,pageSize:r});a((0,ri.kh)(e))}catch(o){console.error("Failed to fetch questions by category id",o)}},Q=async e=>{try{await si.a.deleteQuestionById(e)&&V({categoryId:u||"",search:h,pageNo:v,pageSize:f})}catch(t){console.error("Failed to delete question",t)}};return(0,S.useEffect)((()=>{u&&((async e=>{try{const t=await li._.getQuestionBankCategoryById(e);a((0,oi.yi)(t))}catch(t){console.log(t)}})(u),V({categoryId:u,isOrgQuestionBank:!0,search:h,pageNo:v,pageSize:f}))}),[u,h,v,f,s.tab]),(0,z.jsxs)("div",{children:[(0,z.jsx)(ui,{open:w,handleClose:()=>k(!1),"transaltion-key":"question_bank_add_question_title",title:x("question_bank_add_question_title"),cancelText:"H\u1ee7y b\u1ecf",confirmText:"Th\xeam",onHanldeConfirm:()=>{var e;k(!1);m("create/".concat(I),{state:{isAdminQuestionBank:!0,isOrgQuestionBank:!0,categoryName:null===(e=s.categoryDetails)||void 0===e?void 0:e.name}})},onHandleCancel:()=>k(!1),questionType:I,handleChangeQuestionType:T}),(0,z.jsx)(gi.Z,{open:B,setOpen:U,"aria-labelledby":"customized-dialog-title1",maxWidth:"md",fullWidth:!0}),(0,z.jsx)(ni.Z,{open:D,setOpen:q,"aria-labelledby":"customized-dialog-title2",maxWidth:"md",fullWidth:!0}),(0,z.jsx)(hi.Z,{open:M,question:H,setOpen:W,"aria-labelledby":"customized-dialog-title3",maxWidth:"md",fullWidth:!0}),(0,z.jsx)(pi.Z,{open:R,setOpen:O,"aria-labelledby":"customized-dialog-title4",maxWidth:"md",fullWidth:!0}),(0,z.jsx)(n.Z,{className:ii.tabWrapper,children:(0,z.jsxs)(J.Z,{className:ii.breadCump,colorname:"--gray-50",fontWeight:"600",children:[(0,z.jsx)("span",{onClick:()=>m(A._.lecturer.question_bank.path),"translation-key":"common_question_bank",children:y.ZP.format(x("common_question_bank"),"firstUppercase")})," ","> ",(0,z.jsx)("span",{onClick:()=>m("."),children:null===(e=s.categoryDetails)||void 0===e?void 0:e.name})]})}),(0,z.jsx)(Xt.Z,{children:(0,z.jsxs)(d.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,z.jsx)(j.Z,{fontWeight:500,children:null===(t=s.categoryDetails)||void 0===t?void 0:t.name}),(0,z.jsxs)(Z.Z,{fontStyle:"italic",fontWeight:"400",colorname:"--gray-50","translation-key":"question_bank_create_category_info",children:[x("question_bank_create_category_info"),": ",null===(i=s.categoryDetails)||void 0===i?void 0:i.description]}),(0,z.jsxs)(d.Z,{direction:{xs:"column",md:"row"},spacing:1,children:[(0,z.jsx)(ti.Z,{btnType:ti.s.Primary,onClick:()=>k(!0),children:(0,z.jsxs)(J.Z,{paddingX:3,"translation-key":"common_add_question",children:[" ",x("common_add_question")]})}),(0,z.jsx)(ti.Z,{btnType:ti.s.Outlined,onClick:()=>{m("ai/create")},children:(0,z.jsx)(J.Z,{paddingX:3,"translation-key":"question_bank_category_question_list_create_by_AI",children:x("question_bank_category_question_list_create_by_AI")})})]}),(0,z.jsx)(ci.Z,{isLoading:!1,"translation-key":"question_bank_category_question_list_enter_question_name",placeHolder:"".concat(x("question_bank_category_question_list_enter_question_name")," ..."),value:h,setValue:_,options:[],onHandleChange:async e=>{_(e)}}),(0,z.jsx)(g.Z,{sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},dataList:r.questions.map(((e,t)=>({stt:t+1,qtypeText:e.qtype===xi.S.SHORT_ANSWER?"c\xe2u h\u1ecfi ng\u1eafn":e.qtype===xi.S.MULTIPLE_CHOICE?"c\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m":e.qtype===xi.S.ESSAY?"c\xe2u h\u1ecfi t\u1ef1 lu\u1eadn":e.qtype===xi.S.TRUE_FALSE?"c\xe2u h\u1ecfi \u0111\xfang/sai":e.qtype===xi.S.CODE?"c\xe2u h\u1ecfi code":"",...e}))),tableHeader:G,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:v,pageSize:f,totalElement:r.totalItems,onPaginationModelChange:(e,t)=>{C(e.page),b(e.pageSize),u&&V({categoryId:u,isOrgQuestionBank:!0,search:h,pageNo:v,pageSize:f})},showVerticalCellBorder:!1,onClickRow:e=>{console.log(e)}})]})})]})};var fi=i(34754),ji=i(28259),Zi=i(45429),bi=i(27271),vi=i(79091),yi=i(94469),Ci=i(33604),wi=i(96467),ki=i(4117),Si=i(15305),Pi=i(11198);const Ni={};var Ii=i(33117);const Ai=()=>{const[e,t]=(0,S.useState)(""),{t:i}=(0,P.$G)(),n=(0,N.v9)((e=>e.questionBankCategory)),s=(0,N.v9)(Ii.HF),r=(0,N.v9)((e=>e.questionBankCategory)),m=(0,N.I0)(),u=(0,o.s0)(),[x,h]=(0,S.useState)(5),[Z,b]=(0,S.useState)(0),v=(0,S.useMemo)((()=>n.categories.totalItems||0),[n.categories]),[C,w]=(0,S.useState)(!1),[k,A]=(0,S.useState)(""),[T,D]=(0,S.useState)(),[q,E]=(0,S.useState)({}),[L,M]=(0,S.useState)({}),[W,R]=(0,S.useState)(!1),[O,B]=(0,S.useState)(!1),U=e=>{u("".concat(e.row.id))},H=(0,S.useCallback)((async t=>{let{search:a=e,pageNo:n=Z,pageSize:s=x}=t;m((0,oi.K4)(!0));try{const e=await li._.getQuestionBankCategories({isOrgQuestionBank:!0,search:a,pageNo:n,pageSize:s});m((0,oi.DG)(e)),m((0,oi.K4)(!1))}catch(r){console.error("error",r),401!==r.code&&403!==r.code||m((0,I.lS)(i("common_please_login_to_continue"))),m((0,oi.K4)(!1))}}),[m,i]),F=(0,S.useCallback)((e=>{H({search:e})}),[H]),G=[{field:"stt",sortable:!1,flex:.7,align:"center",headerClassName:Ni["table-head"],renderCell:e=>(0,z.jsx)(J.Z,{children:e.row.stt})},{field:"category",sortable:!1,flex:2,headerClassName:Ni["table-head"],renderCell:e=>(0,z.jsx)(J.Z,{children:e.row.name})},{field:"organizationName",sortable:!1,flex:2,headerClassName:Ni["table-head"],renderCell:e=>(0,z.jsx)(J.Z,{children:e.row.organizationName})},{field:"created",sortable:!1,flex:2,renderCell:e=>(0,z.jsxs)("div",{children:[(0,z.jsx)(J.Z,{children:e.row.createdByName}),(0,z.jsx)("div",{children:Ft()(e.row.createdAt).format("DD/MM/YYYY HH:mm")})]}),headerClassName:Ni["table-head"]},{field:"updated",sortable:!1,flex:2,renderCell:e=>(0,z.jsxs)("div",{children:[(0,z.jsx)(J.Z,{children:e.row.updatedByName}),(0,z.jsx)("div",{children:Ft()(e.row.updatedAt).format("DD/MM/YYYY HH:mm")})]}),headerClassName:Ni["table-head"]},{field:"operation",sortable:!1,flex:1,type:"actions",cellClassName:"actions",getActions:e=>{let{id:t}=e;return[(0,z.jsx)(p.u,{icon:(0,z.jsx)(c.Z,{}),label:"Save",sx:{color:"primary.main"},onClick:()=>{const e=n.categories.questionBankCategories.find((e=>e.id===t));e&&(D(e),E(e),B(!0))}}),(0,z.jsx)(p.u,{icon:(0,z.jsx)(l.Z,{}),label:"Cancel",className:"textPrimary",onClick:()=>{A(t),w(!0)},sx:{color:ei.Z[500]}})]},headerClassName:Ni["table-head"]}];(0,S.useEffect)((()=>{(async()=>{r.categories.questionBankCategories.length>0||(m((0,$t.K4)(!0)),await H({search:e}),m((0,$t.K4)(!1)))})()}),[m,H,n.categories.questionBankCategories]);const V=((e,t)=>t.map(((t,i)=>e[i]={...e[i],renderHeader:e=>(0,z.jsx)(J.Z,{fontWeight:700,children:t})})))(G,i("question_bank_category_header_table",{returnObjects:!0}));return(0,z.jsxs)("div",{children:[(0,z.jsx)(Xt.Z,{children:(0,z.jsxs)(d.Z,{spacing:2,marginBottom:3,paddingTop:1,children:[(0,z.jsx)(j.Z,{fontWeight:"500","translation-key":"common_question_bank",children:y.ZP.format(i("common_question_bank"),"firstUppercase")}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(f.Z,{isLoading:r.isLoading,searchValue:e,setSearchValue:t,onHandleChange:F,createBtnText:i("common_add_new"),onClickCreate:()=>{R(!0)},numOfResults:v,isFilter:!1})}),(0,z.jsx)(g.Z,{loading:n.isLoading,dataList:n.categories.questionBankCategories.map(((e,t)=>({stt:t+1,...e}))),tableHeader:V,onSelectData:U,dataGridToolBar:{enableToolbar:!0},page:Z,pageSize:x,totalElement:v,onPaginationModelChange:(t,i)=>{b(t.page),h(t.pageSize),H({search:e,pageNo:t.page,pageSize:t.pageSize})},showVerticalCellBorder:!0,onClickRow:U,sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})]})}),(0,z.jsxs)(yi.Z,{"aria-labelledby":"customized-dialog-title",open:W,onClose:()=>R(!1),maxWidth:"sm",fullWidth:!0,children:[(0,z.jsx)(Ci.Z,{sx:{m:0,p:2},id:"customized-dialog-title","translation-key":"question_bank_create_category",children:i("question_bank_create_category")}),(0,z.jsx)(pe.Z,{"aria-label":"close",sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},onClick:()=>R(!1),children:(0,z.jsx)(Pi.Z,{})}),(0,z.jsx)(wi.Z,{dividers:!0,children:(0,z.jsxs)(d.Z,{spacing:1,children:[(0,z.jsx)(Si.Z,{"translation-key":"question_bank_create_category_name",name:"Outlined",placeholder:i("question_bank_create_category_name"),onChange:e=>{M({...L,name:e.target.value})},variant:"outlined",minRows:1}),(0,z.jsx)(Si.Z,{"transaltion-key":"question_bank_create_category_info",name:"Outlined",placeholder:i("question_bank_create_category_info"),onChange:e=>{M({...L,description:e.target.value})},variant:"outlined",minRows:4})]})}),(0,z.jsx)(ki.Z,{children:(0,z.jsx)(ti.Z,{btnType:ti.s.Primary,onClick:()=>R(!1),children:(0,z.jsxs)(J.Z,{"translation-key":"common_save",onClick:async()=>{try{await li._.createQuestionBankCategory({name:(null===L||void 0===L?void 0:L.name)||"",description:(null===L||void 0===L?void 0:L.description)||"",isOrgQuestionBank:!0,createdBy:s.userId}),H({search:e})}catch(t){console.log(t)}},children:[" ",i("common_save")]})})})]}),(0,z.jsxs)(yi.Z,{"aria-labelledby":"customized-dialog-title-edit",open:O,onClose:()=>{B(!1)},maxWidth:"sm",fullWidth:!0,children:[(0,z.jsx)(Ci.Z,{sx:{m:0,p:2},id:"customized-dialog-title-edit","translation-key":"question_bank_edit_category",children:i("question_bank_edit_category")}),(0,z.jsx)(pe.Z,{"aria-label":"close",sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},onClick:()=>B(!1),children:(0,z.jsx)(Pi.Z,{})}),(0,z.jsx)(wi.Z,{dividers:!0,children:(0,z.jsxs)(d.Z,{spacing:1,children:[(0,z.jsx)(Si.Z,{"translation-key":"question_bank_create_category_name",name:"Outlined",defaultValue:(null===T||void 0===T?void 0:T.name)||"",onChange:e=>{E({...q,name:e.target.value})},variant:"outlined",minRows:1}),(0,z.jsx)(Si.Z,{"transaltion-key":"question_bank_create_category_info",name:"Outlined",defaultValue:(null===T||void 0===T?void 0:T.description)||"",onChange:e=>{E({...q,description:e.target.value})},variant:"outlined",minRows:4})]})}),(0,z.jsx)(ki.Z,{children:(0,z.jsx)(ti.Z,{btnType:ti.s.Primary,onClick:()=>B(!1),children:(0,z.jsxs)(J.Z,{"translation-key":"common_save",onClick:async()=>{try{await li._.updateQuestionBankCategory({id:(null===T||void 0===T?void 0:T.id)||"",name:(null===q||void 0===q?void 0:q.name)||"",description:(null===q||void 0===q?void 0:q.description)||""}),H({search:e})}catch(t){console.log(t)}},children:[" ",i("common_save")]})})})]}),(0,z.jsx)(_.Z,{isOpen:C,title:"Confirm delete",description:"Are you sure you want to delete this category?",onCancel:()=>{w(!1)},onDelete:async()=>{li._.deleteQuestionBankCategory(k).then((()=>{m((0,I.kU)("Delete category successfully")),m((0,oi.mb)())})).catch((e=>{console.error("error",e),m((0,I.lS)("Delete category failed"))})).finally((()=>{w(!1)}))}})]})};var Ti=i(31825),Di=i(65033),qi=i(12117),zi=i(30371),Ei=i(91603),Li=i(45791),Mi=i(69235),Wi=i(28342),Ri=i(51609),Oi=i(51050),Bi=i(41125),Ui=i(25979),Hi=i(97683),Fi=i(18553),Gi=i(34105),Vi=i(8397),Qi=i(20290),$i=i(1716),Yi=i(28502),Ki=i(62755),Xi=i(28538),Ji=i(44829),ea=i(87583),ta=i(41166),ia=i(98542),aa=i(30160),na=i(76132);const sa=e=>{const{onClose:t,onConfirm:i,open:n}=e,{t:s}=(0,P.$G)(),[r,o]=(0,S.useState)({questions:[],totalPages:0,currentPage:0,totalItems:0}),[l,c]=(0,S.useState)(""),d=(0,S.useMemo)((()=>({id:!1,name:!0,difficulty:!0,questionText:!0})),[]),[m,u]=(0,S.useState)(!0),x=(0,S.useCallback)((async e=>{let{searchName:t,pageNo:i=0,pageSize:a=10,qtype:n="CODE"}=e;try{const e=await si.a.getAllQuestionWithPagination({searchName:t,pageNo:i,pageSize:a,qtype:n});o(e)}catch(s){console.error("error",s),401===s.code||s.code}}),[s]);(0,S.useEffect)((()=>{(async()=>{x({searchName:l}),u(!1)})()}),[x,l]);const[h,p]=(0,S.useState)(0),[_,f]=(0,S.useState)(10),j=(0,S.useMemo)((()=>[{field:"id"},{field:"name",headerName:s("common_name"),flex:1,renderHeader:()=>(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:s("common_name")}),renderCell:e=>(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"400",children:e.row.name})},{field:"difficulty",headerName:s("question_difficulty"),flex:1,renderHeader:()=>(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:s("common_name")}),renderCell:e=>(0,z.jsx)(Xi.Z,{children:e.row.difficulty})},{field:"questionText",headerName:s("common_question_text"),flex:1,renderHeader:()=>(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"500",children:s("common_question_text")}),renderCell:e=>(0,z.jsx)(J.Z,{fontSize:"12px",color:"#525151",fontWeight:"400",children:e.row.questionText})}]),[]),Z=(0,S.useMemo)((()=>r.totalItems||0),[r]);(0,S.useEffect)((()=>{console.log("questionList",r)}),[r]);return(0,z.jsx)(na.ZP,{open:n,onClose:t,children:(0,z.jsxs)(Ji.Z,{color:"neutral",layout:"center",size:"lg",variant:"outlined",sx:{width:"50%",backgroundColor:"white"},children:[(0,z.jsx)(ea.Z,{}),(0,z.jsx)(ta.Z,{children:(0,z.jsx)(J.Z,{children:s("choose_code_question")})}),(0,z.jsx)(ia.Z,{sx:{width:"100%"},children:(0,z.jsx)(a.ZP,{container:!0,spacing:2,children:(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(g.Z,{onClickRow:(e,t,a)=>{i(e.row)},loading:m,visibleColumn:d,getRowId:e=>e.questionId,dataList:r.questions,tableHeader:j,onSelectData:()=>{},dataGridToolBar:{enableToolbar:!0},page:h,pageSize:_,totalElement:Z,onPaginationModelChange:(e,t)=>{p(e.page),f(e.pageSize),x({searchName:l,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!1,getRowHeight:()=>"50",sx:{"&.MuiDataGrid-withBorderColor":{border:"1px solid white"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"white",borderBottom:"2px solid var(--gray-50)"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"},width:"100%",minHeight:"500px"},personalSx:!0})})})}),(0,z.jsx)(aa.Z,{children:(0,z.jsx)(M.Z,{variant:"soft",color:"danger",onClick:t,children:"Close"})})]})})},ra=e=>{const{t:t}=(0,P.$G)(),{field:i,removeChapter:s,control:r,register:o,parentIndex:l,provided:c,isDragging:m,watch:u,errors:x,setValue:p}=e,[g,_]=(0,S.useState)(!1),[f,j]=(0,S.useState)(!0),{fields:Z,append:b,remove:v,move:y}=(0,F.Dq)({control:r,name:"chapters.".concat(l,".resources")}),C=u("chapters.".concat(l,".title")),[w,k]=(0,S.useState)("Chapter "+l);(0,S.useEffect)((()=>{_(!m)}),[m]),(0,S.useEffect)((()=>{k(C&&""!==C?C:"Chapter "+l)}),[C]),(0,S.useEffect)((()=>{f&&!m&&_(!0)}),[f]);return(0,z.jsxs)(z.Fragment,{children:[!m&&(0,z.jsxs)(n.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-start",marginBottom:"10px",children:[(0,z.jsx)(Gi.ZP,{variant:f?"soft":"solid",onClick:()=>{j(!f)},color:"primary",children:f?(0,z.jsx)(Vi.Z,{}):(0,z.jsx)(Qi.Z,{})}),(0,z.jsx)(Gi.ZP,{variant:"soft",sx:{marginLeft:"10px"},color:"danger",onClick:()=>{s()},children:(0,z.jsx)(Bi.Z,{})})]}),(0,z.jsxs)(d.Z,{direction:"row",display:"flex",alignItems:"center",spacing:1,flex:1,sx:{width:"100%"},children:[m&&(0,z.jsx)("div",{...c.dragHandleProps,children:(0,z.jsx)($i.Z,{})}),(0,z.jsxs)(_t.Z,{variant:"soft",color:"neutral",sx:{flexGrow:1,padding:"10px",display:"flex",justifyContent:"space-between",flexDirection:"row","&:hover":{cursor:m?"":"pointer",backgroundColor:"var(--blue-light-4)"}},onClick:()=>{!m&&_(!g)},"translation-key":"question_management_answer",children:[(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--eerie-black",children:w}),g?(0,z.jsx)(Ri.Z,{}):(0,z.jsx)(Wi.Z,{})]})]}),(0,z.jsxs)(Di.Z,{in:g,timeout:"auto",children:[f&&(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{marginBottom:"40px",marginTop:"5px"},children:[(0,z.jsx)(a.ZP,{item:!0,sm:12,md:6,children:(0,z.jsx)(F.Qr,{control:r,name:"chapters.".concat(l,".title"),render:e=>{var t,i,a,n,s;let{field:{ref:r,...o}}=e;return(0,z.jsx)(Ei.Z,{error:Boolean(null===x||void 0===x||null===(t=x.chapters)||void 0===t||null===(i=t[l])||void 0===i?void 0:i.title),errorMessage:null===x||void 0===x||null===(a=x.chapters)||void 0===a||null===(n=a[l])||void 0===n||null===(s=n.title)||void 0===s?void 0:s.message,useDefaultTitleStyle:!0,title:"Chapter Title",inputRef:r,type:"text",placeholder:"Enter Chapter Title",titleRequired:!0,"translation-key":["chapter_title","enter_chapter_title"],...o})}})}),(0,z.jsxs)(a.ZP,{item:!0,sm:12,md:6,children:[(0,z.jsx)(H.Z,{"translation-key":"chapter_description_title",title:"Chapter Description".concat(" "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,z.jsx)(F.Qr,{control:r,name:"chapters.".concat(l,".description"),render:e=>{let{field:t}=e;return(0,z.jsx)(ne.Z,{title:"Chapter Description",openDialog:!0,roundedBorder:!0,error:!1,placeholder:"Enter Chapter Description",required:!0,"translation-key":"enter_chapter_description",maxLines:10,...t})}})]})]}),f&&(0,z.jsx)(ti.Z,{margin:"5px 0",variant:"outlined",colorName:"var(--blue-light)",borderRadius:"12px",startIcon:(0,z.jsx)(Mi.Z,{}),onClick:()=>{b({no:Z.length,resourceType:Oi.H.LESSON,title:"",lessonHtml:"",questionId:"",youtubeVideoUrl:""})},children:(0,z.jsx)(J.Z,{fontSize:"12px",fontWeight:"500",colorname:"--blue-light-1",children:t("add_chapter_resource")})}),0!==Z.length&&(0,z.jsx)(_t.Z,{sx:{marginTop:"10px"},children:(0,z.jsx)(Yi.Z5,{onDragEnd:e=>{const t=e.source,i=e.destination;null!==e&&null!==i&&null!==t&&(y(t.index,i.index),Z.forEach(((e,t)=>{p("chapters.".concat(l,".resources.").concat(t,".no"),t)})))},children:(0,z.jsx)(Yi.bK,{droppableId:"resource",children:e=>(0,z.jsx)(d.Z,{spacing:2,...e.droppableProps,ref:e.innerRef,children:Z.map(((e,t)=>(0,z.jsxs)(S.Fragment,{children:[(0,z.jsx)(Yi._l,{draggableId:"item-resource-".concat(t),index:t,children:(i,a)=>(0,z.jsxs)("div",{ref:i.innerRef,...i.draggableProps,children:[(0,z.jsx)("div",{...i.dragHandleProps,children:(0,z.jsx)($i.Z,{})}),(0,z.jsx)(oa,{setValue:p,errors:x,watch:u,parentIndex:l,isEditting:f,index:t,removeResource:()=>(e=>{v(e);const t=u("chapters.".concat(l,".resources"));null===t||void 0===t||t.forEach(((e,t)=>{p("chapters.".concat(l,".resources.").concat(t,".no"),t)}))})(t),control:r,register:o})]},e.id)}),t!==Z.length-1&&(0,z.jsx)(h.Z,{})]},"resources[".concat(t,"]"))))})})})})]})]})},oa=e=>{const{isEditting:t,removeResource:i,index:s,control:r,register:o,parentIndex:l,watch:c,errors:m,setValue:u}=e,{t:x}=(0,P.$G)(),h=(0,S.useMemo)((()=>Object.values(Oi.H).map((e=>({label:x(e),value:e})))),[x]),p=c("chapters.".concat(l,".resources.").concat(s,".title")),g=c("chapters.".concat(l,".resources.").concat(s,".youtubeVideoUrl")),_=c("chapters.".concat(l,".resources.").concat(s,".resourceType")),f=c("chapters.".concat(l,".resources.").concat(s,".lessonHtml")),[j,Z]=(0,S.useState)(!1),[b,v]=(0,S.useState)(_||Oi.H.LESSON),[y,C]=(0,S.useState)("Resource "+s);(0,S.useEffect)((()=>(C(p&&""!==p?p:"Resource "+s),()=>{C("")})),[p]),(0,S.useEffect)((()=>{b===Oi.H.VIDEO?(u("chapters.".concat(l,".resources.").concat(s,".lessonHtml"),""),u("chapters.".concat(l,".resources.").concat(s,".questionId"),"")):b===Oi.H.LESSON?(u("chapters.".concat(l,".resources.").concat(s,".youtubeVideoUrl"),""),u("chapters.".concat(l,".resources.").concat(s,".questionId"),"")):u("chapters.".concat(l,".resources.").concat(s,".youtubeVideoUrl"),"")}),[b]);return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(d.Z,{children:[j&&(0,z.jsx)(sa,{open:j,onClose:()=>{Z(!1)},onConfirm:e=>{u("chapters.".concat(l,".resources.").concat(s,".questionId"),e.questionId),u("chapters.".concat(l,".resources.").concat(s,".lessonHtml"),e.name),Z(!1)}}),(0,z.jsx)(n.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end",children:(0,z.jsx)(Gi.ZP,{variant:"soft",sx:{marginLeft:"10px"},color:"danger",onClick:()=>{i()},children:(0,z.jsx)(Bi.Z,{})})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,children:t&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:6,children:(0,z.jsx)(F.Qr,{name:"chapters.".concat(l,".resources.").concat(s,".title"),control:r,render:e=>{var t,i,a,n,r,o,c,d,u;let{field:{ref:h,...p}}=e;return(0,z.jsx)(Ei.Z,{error:Boolean(null===m||void 0===m||null===(t=m.chapters)||void 0===t||null===(i=t[l])||void 0===i||null===(a=i.resources)||void 0===a||null===(n=a[s])||void 0===n?void 0:n.title),errorMessage:null===m||void 0===m||null===(r=m.chapters)||void 0===r||null===(o=r[l])||void 0===o||null===(c=o.resources)||void 0===c||null===(d=c[s])||void 0===d||null===(u=d.title)||void 0===u?void 0:u.message,inputRef:h,useDefaultTitleStyle:!0,title:"".concat(x("chapter_resource_title")),type:"text",placeholder:x("enter_chapter_resource_title"),titleRequired:!0,"translation-key":["chapter_resource_title","enter_chapter_resource_title"],...p})}})}),(0,z.jsxs)(a.ZP,{item:!0,xs:6,children:[(0,z.jsx)(H.Z,{"translation-key":"resource_type_title",title:"".concat(x("resource_type_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,z.jsx)(F.Qr,{name:"chapters.".concat(l,".resources.").concat(s,".resourceType"),control:r,defaultValue:h[0].value,render:e=>{let{field:{onChange:t,value:i}}=e;return(0,z.jsx)(Li.Z,{value:i,onChange:e=>{v(e),t(e)},options:h})}})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[b===Oi.H.LESSON&&(0,z.jsx)(F.Qr,{name:"chapters.".concat(l,".resources.").concat(s,".lessonHtml"),control:r,render:e=>{let{field:t}=e;return(0,z.jsx)(ne.Z,{title:"Lesson",openDialog:!0,roundedBorder:!0,error:!1,placeholder:"Enter Lesson",required:!0,"translation-key":"enter_lesson",maxLines:10,...t})}}),b===Oi.H.VIDEO&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(F.Qr,{name:"chapters.".concat(l,".resources.").concat(s,".youtubeVideoUrl"),control:r,render:e=>{var t,i,a,n,r,o,c,d,u;let{field:{ref:h,...p}}=e;return(0,z.jsx)(Ei.Z,{error:Boolean(null===m||void 0===m||null===(t=m.chapters)||void 0===t||null===(i=t[l])||void 0===i||null===(a=i.resources)||void 0===a||null===(n=a[s])||void 0===n?void 0:n.youtubeVideoUrl),errorMessage:null===m||void 0===m||null===(r=m.chapters)||void 0===r||null===(o=r[l])||void 0===o||null===(c=o.resources)||void 0===c||null===(d=c[s])||void 0===d||null===(u=d.youtubeVideoUrl)||void 0===u?void 0:u.message,inputRef:h,useDefaultTitleStyle:!0,title:"".concat(x("youtube_video_url")),type:"text",placeholder:x("enter_youtube_video_url"),titleRequired:!0,"translation-key":["youtube_video_url","enter_youtube_video_url"],...p})}}),(0,z.jsx)(Ki.Z,{href:g,target:"_blank",rel:"noopener noreferrer",children:(0,z.jsx)(n.Z,{component:"img",sx:{marginTop:"20px",maxWidth:"200px",minWidth:"150px",borderRadius:"8px","&:hover":{cursor:"pointer",transform:"scale(1.05)",transition:"all 0.3s ease",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)",backgroundColor:"var(--blue-light-4)"}},src:"https://img.youtube.com/vi/".concat(ma(g),"/0.jpg"),alt:"Youtube Video"})})]}),b===Oi.H.CODE&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ti.Z,{variant:"outlined",colorName:"var(--blue-selected)",borderRadius:"12px",startIcon:(0,z.jsx)(Mi.Z,{sx:{color:"var(--blue-selected)",fontSize:"12px"}}),onClick:()=>{Z(!0)},children:(0,z.jsx)(J.Z,{fontSize:"12px",fontWeight:"500",colorname:"--blue-light-1",children:x("choose_code_question")})}),_===Oi.H.CODE&&""!==f&&(0,z.jsxs)(d.Z,{marginTop:"5px",children:[(0,z.jsxs)(J.Z,{children:[x("choose_code_question_title")," "]}),(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--eerie-black",children:f})]})]})]})]})}),!t&&(0,z.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,z.jsx)(n.Z,{sx:{backgroundColor:b===Oi.H.LESSON?"#E3F2FD":b===Oi.H.VIDEO?"#FFEBEE":"#E8F5E9",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",width:"fit-content",padding:"10px"},children:b===Oi.H.LESSON?(0,z.jsx)(Fi.Z,{sx:{color:"#1976D2"}}):b===Oi.H.VIDEO?(0,z.jsx)(Ui.Z,{sx:{color:"#D32F2F"}}):(0,z.jsx)(Hi.Z,{sx:{color:"#388E3C"}})}),(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--eerie-black",children:y})]})]})})},la=()=>{var e;const t=(0,o.s0)(),{t:i}=(0,P.$G)(),[s,r]=(0,S.useState)([]),[l,c]=(0,S.useState)(!0),[m,u]=(0,S.useState)(!1),[x,p]=(0,S.useState)(!1),g=[{navLink:A._.admin.dashboard,label:"Home"},{navLink:A._.admin.certificate.root,label:"Certificate Course Management"}];(0,S.useEffect)((()=>{(async()=>{(async()=>{try{const e=await zi.r.getTopics({pageNo:0,pageSize:999999,fetchAll:!0});r(e.topics),200===e.status&&console.log(e)}catch(e){console.error("error",e)}})(),c(!1)})()}),[]);const _=(0,S.useMemo)((()=>Object.values(qi.$).map((e=>({label:i(e),value:e})))),[i]),f=(0,S.useMemo)((()=>G.Ry().shape({name:G.Z_().required(i("certificate_course_name_required")),description:G.Z_(),skillLevel:G.Z_().required(i("skill_level_required")),topicId:G.Z_().required(i("topic_required")),chapters:G.IX().of(G.Ry().shape({no:G.Rx().required(),title:G.Z_().required(i("chapter_title_required")),description:G.Z_(),resources:G.IX().of(G.Ry().shape({no:G.Rx().required(),resourceType:G.Z_().required(),title:G.Z_().required(i("resource_title_required")),questionId:G.Z_(),lessonHtml:G.Z_(),youtubeVideoUrl:G.Z_().test("youtube-url",i("youtube_url_invalid"),(e=>da(e)))})).required()}))})),[i]),{register:j,control:Z,handleSubmit:b,trigger:v,setValue:y,watch:C,formState:{errors:w}}=(0,F.cI)({resolver:(0,L.X)(f)}),{fields:k,append:N,remove:I,move:T}=(0,F.Dq)({control:Z,name:"chapters"});return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Qt.q,{children:(0,z.jsx)("title",{children:i("create_certificate_course")})}),(0,z.jsx)("form",{onSubmit:b((async e=>{p(!0);const t={...e},i={name:t.name,description:t.description||"",skillLevel:t.skillLevel,topicId:t.topicId,startTime:(new Date).toISOString(),endTime:new Date((new Date).getTime()+1e11).toISOString(),email:"",chapters:(t.chapters||[]).map((e=>({title:e.title,no:e.no,description:e.description||"",resources:e.resources.map((e=>({no:e.no,resourceType:e.resourceType,title:e.title,questionId:e.questionId||"",lessonHtml:e.lessonHtml||"",lessonVideo:e.youtubeVideoUrl||""})))})))};try{const e=await Pt.M.createCertificateCourses(i);200===e.status&&console.log("response",e),p(!1)}catch(a){console.error("error",a),p(!1)}})),children:(0,z.jsxs)(Xt.Z,{children:[(0,z.jsx)(n.Z,{sx:{paddingLeft:"13px"},children:(0,z.jsx)(R.Z,{breadCrumbData:g,lastBreadCrumbLabel:"Create Certificate Course"})}),(0,z.jsxs)(a.ZP,{container:!0,spacing:4,sx:{padding:"0 20px"},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(ve.Z,{"translate-key":"create_certificate_course_title",children:i("create_certificate_course_title").toUpperCase()})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(_t.Z,{variant:"soft",color:"primary",sx:{padding:"10px"},children:(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--blue-2",children:i("common_general").toUpperCase()})})}),(0,z.jsx)(a.ZP,{item:!0,sm:12,md:6,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(F.Qr,{defaultValue:"",control:Z,name:"name",render:e=>{var t;let{field:{ref:a,...n}}=e;return(0,z.jsx)(Ei.Z,{useDefaultTitleStyle:!0,error:Boolean(null===w||void 0===w?void 0:w.name),errorMessage:null===(t=w.name)||void 0===t?void 0:t.message,title:"".concat(i("certificate_course_name")),type:"text",placeholder:i("enter_certificate_course_name"),titleRequired:!0,"translation-key":["certificate_course_name","enter_certificate_course_name"],inputRef:a,...n})}})}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(H.Z,{"translation-key":"certificate_course_skill_level_title",title:"".concat(i("certificate_course_skill_level_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,z.jsx)(F.Qr,{name:"skillLevel",control:Z,defaultValue:_[0].value,render:e=>{let{field:{onChange:t,value:i}}=e;return(0,z.jsx)(Li.Z,{value:i,onChange:t,options:_})}})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(H.Z,{"translation-key":"certificate_course_topic_title",title:"".concat(i("certificate_course_topic_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,z.jsx)(F.Qr,{name:"topicId",control:Z,defaultValue:null===(e=s[0])||void 0===e?void 0:e.topicId,render:e=>{let{field:{onChange:t,value:i}}=e;return(0,z.jsx)(Li.Z,{value:i,onChange:t,options:s.map((e=>({label:e.name,value:e.topicId})))})}})]})]})}),(0,z.jsxs)(a.ZP,{item:!0,sm:12,md:6,children:[(0,z.jsx)(H.Z,{"translation-key":"certificate_course_description_title",title:"".concat(i("certificate_course_description_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,z.jsx)(F.Qr,{defaultValue:"",control:Z,name:"description",render:e=>{let{field:t}=e;return(0,z.jsx)(ne.Z,{title:i("certificate_course_description_title"),openDialog:!0,roundedBorder:!0,error:Boolean(null===w||void 0===w?void 0:w.description),placeholder:"".concat(i("enter_certificate_course_description_title"),"..."),required:!0,"translation-key":"enter_certificate_course_description_title",maxLines:10,...t})}})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(_t.Z,{variant:"soft",color:"primary",sx:{padding:"10px",marginTop:"30px"},children:(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--blue-2",children:i("common_detail").toUpperCase()})}),(0,z.jsx)(ti.Z,{margin:"10px 0",variant:"outlined",colorName:"var(--blue-selected)",borderRadius:"12px",startIcon:(0,z.jsx)(Mi.Z,{sx:{color:"var(--blue-selected)",fontSize:"12px"}}),onClick:()=>{N({no:k.length,title:"",resources:[]})},children:(0,z.jsx)(J.Z,{fontSize:"12px",fontWeight:"500",colorname:"--blue-light-1",children:i("common_add_chapter")})}),(0,z.jsx)(ti.Z,{margin:"10px 0 10px 10px",variant:m?"contained":"outlined",borderRadius:"12px",startIcon:(0,z.jsx)($i.Z,{sx:{color:m?"var(--ghost-white)":"var(--blue-selected)",fontSize:"12px"}}),onClick:()=>u(!m),boxShadow:"0",children:(0,z.jsx)(J.Z,{fontSize:"12px",fontWeight:"500",colorname:m?"--ghost-white":"--blue-selected",children:i(m?"disable_drag_drop_chapter":"enable_drag_drop_chapter")})})]}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(Yi.Z5,{onDragEnd:e=>{let{source:t,destination:i}=e;i&&(T(t.index,i.index),k.forEach(((e,t)=>{y("chapters.".concat(t,".no"),t)})))},children:(0,z.jsx)(Yi.bK,{droppableId:"chapter",children:e=>(0,z.jsx)(d.Z,{spacing:2,...e.droppableProps,ref:e.innerRef,children:k.map(((e,t)=>(0,z.jsx)(Yi._l,{draggableId:"item-chapter-".concat(t),index:t,children:(i,a)=>(0,z.jsx)("div",{ref:i.innerRef,...i.draggableProps,children:(0,z.jsx)(ra,{setValue:y,errors:w,watch:C,isDragging:m,provided:i,field:e,removeChapter:()=>(e=>{I(e);const t=C("chapters");null===t||void 0===t||t.forEach(((e,t)=>{y("chapters.".concat(t,".no"),t)}))})(t),parentIndex:t,control:Z,register:j})},e.id)},"chapters[".concat(t,"]"))))})})})}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(h.Z,{}),(0,z.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:1,justifyContent:"center",mt:2,children:[(0,z.jsx)(M.Z,{variant:"outlined",color:"neutral",onClick:()=>{t(A._.admin.certificate.root)},children:(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--eerie-black",children:i("common_cancel")})}),(0,z.jsx)(M.Z,{variant:"solid",type:"submit",color:"primary",loading:x,children:(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--white",children:i("common_save")})})]})]})]})]})})]})},ca=/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube(?:-nocookie)?\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|live\/|v\/)?)([\w\-]+)(\S+)?$/;function da(e){return""===e||!(!e||!ca.test(e))}function ma(e){if(!e||!da(e))return"";const t=new URL(e);return new URLSearchParams(t.search).get("v")}var ua=i(53645);const xa="styles_breadcump__5khPw",ha="styles_breadcumpWrapper__6mqDS";var pa=i(66846);const ga=()=>{(0,S.useRef)(null);const{t:e}=(0,P.$G)(),t=(0,o.s0)(),i=(0,N.I0)(),[a,s]=(0,S.useState)(0),[r,l]=(0,S.useState)(10),{contestId:c}=(0,o.UO)(),[u,x]=(0,S.useState)(!1),[h,p]=(0,S.useState)(null),[_,f]=(0,S.useState)([]),Z=(0,S.useCallback)((async e=>{i((0,$t.K4)(!0));try{const t=await T.c.getContestById(e);t&&p(t),i((0,$t.K4)(!1))}catch(t){console.log("error",t),i((0,$t.K4)(!1))}}),[i]),v=(0,S.useCallback)((async e=>{let{contestId:t,pageNo:i,pageSize:a}=e;x(!0);try{const e=await ua.i.getAdminCodeSubmissionList({contestId:t,pageNo:i,pageSize:a});f(e.codeSubmissions),x(!1)}catch(n){console.log("error",n),x(!1)}}),[]),y=(0,S.useMemo)((()=>_.length),[_]),C=[{field:"problem",headerName:e("common_problem"),flex:.5,renderHeader:()=>(0,z.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_problem")}),renderCell:e=>{var t;return(0,z.jsx)(b.Z,{fontWeight:500,width:"auto",children:(null===(t=e.row.codeQuestion)||void 0===t?void 0:t.name)||""})}},{field:"status",headerName:e("common_status"),flex:.5,renderHeader:()=>(0,z.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_status")}),renderCell:e=>{var t;return(0,z.jsx)(_e.Z,{fontWeight:700,colorname:"GRADING"===e.row.gradingStatus?"--orange-4":"Accepted"!==e.row.description?"--red-error":"--green-600",children:"GRADING"===e.row.gradingStatus?e.row.gradingStatus:null!==(t=e.row.description)&&void 0!==t?t:"GRADING_SYSTEM_UNAVAILABLE"===e.row.gradingStatus?"GRADING SYSTEM UNAVAILABLE":""})}},{field:"email",headerName:e("common_email"),flex:.6,minWidth:270,renderHeader:()=>(0,z.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_email")}),renderCell:e=>{var t;return(0,z.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",sx:{textOverflow:"ellipsis"},children:[(0,z.jsx)(m.Z,{sx:{bgcolor:"".concat((0,D.M)("".concat(e.row.firstName," ").concat(e.row.lastName)))},alt:e.row.user.email,src:null===(t=e.row.user)||void 0===t?void 0:t.avatarUrl,children:e.row.user.firstName.charAt(0)}),(0,z.jsx)(b.Z,{fontWeight:500,children:e.row.user.email})]})}},{field:"language",headerName:e("common_programming_language"),flex:.7,renderHeader:()=>(0,z.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_programming_language")}),renderCell:e=>(0,z.jsx)(b.Z,{fontWeight:500,width:"auto",children:e.row.programmingLanguageName})},{field:"runtime",headerName:e("common_runtime"),flex:.5,renderHeader:()=>(0,z.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_runtime")}),renderCell:e=>(0,z.jsx)(b.Z,{fontWeight:500,width:"auto",children:void 0===e.row.avgRuntime||"GRADING"===e.row.gradingStatus?"N/A":"".concat((0,pa.RG)(e.row.avgRuntime,3),"s")})},{field:"memory",headerName:e("common_memory"),flex:.5,renderHeader:()=>(0,z.jsx)(_e.Z,{fontWeight:600,sx:{textAlign:"left"},textWrap:"wrap",children:e("common_memory")}),renderCell:e=>(0,z.jsx)(b.Z,{fontWeight:500,width:"auto",children:void 0===e.row.avgMemory||"GRADING"===e.row.gradingStatus?"N/A":"".concat((0,pa.RG)((0,pa.ZA)(e.row.avgMemory),3),"MB")})}];return(0,S.useEffect)((()=>{(async()=>{c&&(await Z(c),await v({contestId:c,pageNo:0,pageSize:r}))})()}),[c,v,Z,r]),c&&h?(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(n.Z,{className:xa,children:(0,z.jsx)(n.Z,{id:ha,children:(0,z.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.contest.root,label:e("contest_management_title")},{navLink:A._.admin.contest.edit.details.replace(":contestId",c),label:h.name}],lastBreadCrumbLabel:e("detail_problem_submission")})})}),(0,z.jsxs)(n.Z,{sx:{margin:"0 20px",minHeight:"700px"},children:[(0,z.jsx)(j.Z,{children:e("detail_problem_submission")}),(0,z.jsx)(n.Z,{sx:{margin:"20px 0"},children:(0,z.jsx)(g.Z,{loading:u,dataList:_,tableHeader:C,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:a,pageSize:r,totalElement:y,onPaginationModelChange:(e,t)=>{s(e.page),l(e.pageSize),v({contestId:c,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{t(A._.admin.contest.submission_detail.replace(":submissionId",e.id.toString()||"").replace(":contestId",c||""))},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})}):null},_a={breadcump:"styles_breadcump__64YsK"};var fa=i(46686),ja=i(70978),Za=i(1995),ba=function(e){return e.ALL="ALL",e.EASY="EASY",e.MEDIUM="MEDIUM",e.HARD="HARD",e}(ba||{});const va=()=>{const e=(0,S.useRef)(null),{t:t}=(0,P.$G)(),i=(0,o.s0)(),[s,r]=(0,S.useState)(""),d=(0,N.v9)((e=>e.codeQuestion)),[m,u]=S.useState(!0),x=[{field:"stt",sortable:!1,flex:.7,align:"center",headerName:t("common_no")},{field:"name",sortable:!1,flex:2.5,headerName:t("code_question_name")},{field:"difficulty",sortable:!1,flex:1.5,headerName:t("code_question_difficulty"),renderCell:e=>(0,z.jsx)(J.Z,{children:"HARD"===e.row.difficulty?t("common_hard"):"MEDIUM"===e.row.difficulty?t("common_medium"):"EASY"===e.row.difficulty?t("common_easy"):"Kh\xf4ng x\xe1c \u0111\u1ecbnh"})},{field:"updated",sortable:!1,flex:2,headerName:t("code_question_updated"),renderCell:e=>(0,z.jsxs)("div",{children:[(0,z.jsx)(J.Z,{children:e.row.updatedByName}),(0,z.jsx)("div",{children:Ft()(e.row.updatedAt).format("DD/MM/YYYY HH:mm")})]})},{field:"operation",sortable:!1,flex:1,type:"actions",cellClassName:"actions",getActions:e=>{let{id:t}=e;return[(0,z.jsx)(p.u,{icon:(0,z.jsx)(c.Z,{}),label:"Save",sx:{color:"primary.main"},onClick:()=>{}}),(0,z.jsx)(p.u,{icon:(0,z.jsx)(l.Z,{}),label:"Cancel",className:"textPrimary",onClick:()=>{D(t),E(!0)},sx:{color:ei.Z[500]}})]},headerName:t("common_action")}],Z=(0,N.I0)(),v=S.useCallback((async e=>{let{search:t,isPublic:i,difficulty:a,pageNo:n=0,pageSize:s=10}=e;u(!0);try{const e=await Ce.M.getAdminCodeQuestions({search:t,isPublic:i,difficulty:a,pageNo:n,pageSize:s});Z((0,Za.Dt)(e)),u(!1)}catch(r){console.error("error",r),u(!1)}}),[Z,t]);(0,S.useEffect)((()=>{(async()=>{await v({search:s})})()}),[s]);const[y,C]=(0,S.useState)(10),[w,k]=(0,S.useState)(0),[T,D]=(0,S.useState)(""),[q,E]=(0,S.useState)(!1),L=(0,S.useMemo)((()=>d.totalItems||0),[d.questions]),[M,W]=S.useState([{key:"Difficulty level",value:ba.ALL}]),R=S.useCallback((()=>{var e,t;const i=null===(e=M.find((e=>"Difficulty level"===e.key)))||void 0===e?void 0:e.value,a=null===(t=M.find((e=>"Is public"===e.key)))||void 0===t?void 0:t.value;v({search:s,isPublic:a&&"ALL"!==a?"PUBLIC"===a:void 0,difficulty:i&&i!==ba.ALL?i:void 0})}),[M,v,s]),O=S.useCallback((()=>{W([{key:"Difficulty level",value:ba.ALL}]),v({search:s})}),[v,s]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(_.Z,{isOpen:q,title:"Confirm delete",description:"Are you sure you want to delete this question?",onCancel:()=>{E(!1)},onDelete:async()=>{fa.a.deleteQuestion(T).then((()=>{Z((0,I.kU)("Delete code question successfully")),Z((0,ja.j$)())})).catch((e=>{console.log(e),Z((0,I.kU)("Delete code question failed"))})).finally((()=>{E(!1)}))}}),(0,z.jsxs)(ze.Z,{sx:{margin:"20px","& .MuiDataGrid-root":{border:"1px solid #e0e0e0",borderRadius:"4px"}},children:[(0,z.jsx)(n.Z,{className:_a.breadcump,ref:e,children:(0,z.jsx)(n.Z,{id:_a.breadcumpWrapper,children:(0,z.jsx)(b.Z,{colorname:"--blue-500","translate-key":"code_management_title",children:t("code_management_title")})})}),(0,z.jsx)(h.Z,{}),(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(j.Z,{"translate-key":"code_management_title",children:t("code_management_title")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(f.Z,{isLoading:d.isLoading,searchValue:s,setSearchValue:r,onHandleChange:async e=>{r(e)},createBtnText:t("code_management_create_new_title"),onClickCreate:()=>{i(A._.admin.code_question.create)},numOfResults:L,filterKeyList:[{label:t("common_difficulty_level"),value:"Difficulty level"},{label:t("contest_is_public"),value:"Is public"}],filterValueList:{"Difficulty level":[{label:t("common_all"),value:ba.ALL},{label:t("common_easy"),value:ba.EASY},{label:t("common_medium"),value:ba.MEDIUM},{label:t("common_hard"),value:ba.HARD}],"Is public":[{label:t("common_all"),value:"ALL"},{label:t("common_public"),value:"PUBLIC"},{label:t("common_private"),value:"PRIVATER"}]},filters:M,handleChangeFilters:e=>{W(e)},onHandleApplyFilter:R,onHandleCancelFilter:O})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(g.Z,{loading:d.isLoading,dataList:d.questions.map(((e,t)=>({stt:t+1,id:e.question.id,name:e.question.name,difficulty:e.question.difficulty,updatedByName:e.question.updatedBy.lastName+" "+e.question.updatedBy.firstName,updated:e.question.updatedAt}))),tableHeader:x,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:w,pageSize:y,totalElement:L,onPaginationModelChange:(e,t)=>{k(e.page),C(e.pageSize),v({search:s,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})]})]})},ya="styles_codequestionCreationBody__mef6N",Ca="styles_tabWrapper__6a1Ga",wa="styles_breadCump__dtmaf",ka="styles_formBody__Y7smA",Sa="styles_stickyFooterItem__4ovGW",Pa="styles_phantom__C-G+Y",Na="styles_stickyFooterContainer__bs6gV",Ia="styles_textEditor__hsgc7",Aa=(0,S.memo)((e=>{const{questionId:t}=(0,o.UO)(),[i,s]=(0,S.useState)({id:"",organizationId:"",difficulty:"",name:"",questionText:"",generalFeedback:"",defaultMark:0,createdAt:"",updatedAt:"",message:"",qtype:""});(0,S.useEffect)((()=>{(async()=>{await(async e=>{try{const t=await fa.a.getQuestionById(e);s(t)}catch(t){console.log(t)}})(null!==t&&void 0!==t?t:"")})()}),[]);const{t:r}=(0,P.$G)(),[l,c]=(0,S.useState)("M\xf4 t\u1ea3 b\xe0i to\xe1n"),[d,m]=(0,S.useState)("T\xednh t\u1ed5ng 2 s\u1ed1"),[u,x]=(0,S.useState)(""),[h,p]=(0,S.useState)("L\xe0 m\u1ed9t s\u1ed1 nguy\xean cho bi\u1ebft t\u1ed5ng c\u1ee7a a v\xe0 b"),[g,_]=(0,S.useState)("a v\xe0 b l\xe0 s\u1ed1 nguy\xean"),[f]=(0,S.useState)("T\u1ed5ng 2 s\u1ed1"),Z=(0,o.s0)();return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(n.Z,{id:ya,children:[(0,z.jsx)(n.Z,{className:Ca,children:(0,z.jsxs)(J.Z,{className:wa,colorname:"--gray-50",fontWeight:"600",children:[(0,z.jsx)("span",{onClick:()=>Z(A._.lecturer.code_question.management),"translation-key":"code_management_title",children:r("code_management_title")})," ",">"," ",(0,z.jsx)("span",{onClick:()=>Z(A._.lecturer.code_question.create),"translation-key":"code_management_create_new_title",children:r("code_management_create_new_title")})]})}),(0,z.jsxs)(n.Z,{component:"form",className:ka,autoComplete:"off",children:[(0,z.jsx)(j.Z,{fontWeight:"500",children:r("code_management_create_new_title")}),(0,z.jsx)(B.Z,{"translation-key":"code_management_create_new_title",title:r("code_management_create_new_title"),type:"text",value:f}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:3,children:(0,z.jsx)(v.Z,{"translation-key":"code_management_create_description",children:r("code_management_create_description")})}),(0,z.jsx)(a.ZP,{item:!0,xs:9,className:Ia,children:(0,z.jsx)(ne.Z,{value:l,onChange:c})})]}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:3,"translation-key":"code_management_create_statement",children:(0,z.jsx)(v.Z,{children:r("code_management_create_statement")})}),(0,z.jsx)(a.ZP,{item:!0,xs:9,className:Ia,children:(0,z.jsx)(ne.Z,{value:d,onChange:m})})]}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:3,children:(0,z.jsx)(v.Z,{"translation-key":"code_management_create_input_format",children:r("code_management_create_input_format")})}),(0,z.jsx)(a.ZP,{item:!0,xs:9,className:Ia,children:(0,z.jsx)(ne.Z,{value:i.name,onChange:x})})]}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:3,children:(0,z.jsx)(v.Z,{"translation-key":"code_management_create_constraint",children:r("code_management_create_constraint")})}),(0,z.jsx)(a.ZP,{item:!0,xs:9,className:Ia,children:(0,z.jsx)(ne.Z,{value:g,onChange:_})})]}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:3,children:(0,z.jsx)(v.Z,{"translation-key":"code_management_create_output_format",children:r("code_management_create_output_format")})}),(0,z.jsx)(a.ZP,{item:!0,xs:9,className:Ia,children:(0,z.jsx)(ne.Z,{value:h,onChange:p})})]})]})]}),(0,z.jsxs)(n.Z,{className:Na,children:[(0,z.jsx)(n.Z,{className:Pa}),(0,z.jsx)(n.Z,{className:Sa,children:(0,z.jsx)(ti.Z,{btnType:ti.s.Primary,"translation-key":"exam_management_create_new_question",children:r("exam_management_create_new_question")})})]})]})})),Ta=Aa;var Da=i(72106),qa=i(18005),za=i(16783),Ea=i(19187),La=i(38476);const Ma={formBody:"styles_formBody__ESro5",breadcump:"styles_breadcump__3ws7K",breadcumpWrapper:"styles_breadcumpWrapper__30u5u",icArrow:"styles_icArrow__dFOuF",cursorPointer:"styles_cursorPointer__SEtL2",tabs:"styles_tabs__0IrZX",stickyBack:"styles_stickyBack__DtOt6",backButton:"styles_backButton__vrVRP",backIcon:"styles_backIcon__H4tWr",submissionContainer:"styles_submissionContainer__N8vex",submissionInfo:"styles_submissionInfo__KWstn",submissionTitle:"styles_submissionTitle__OEPcz",submissionAuthor:"styles_submissionAuthor__40-BX",avatar:"styles_avatar__VzcTl",submissionStatistical:"styles_submissionStatistical__2MvKT",statisticalTime:"styles_statisticalTime__PHeio",statisticalMemory:"styles_statisticalMemory__gwA0L",title:"styles_title__REysx",data:"styles_data__EvA-Z",evaluateText:"styles_evaluateText__PVK3P",markdown:"styles_markdown__LC0Xy",feedbackTitle:"styles_feedbackTitle__kzkRy",submissionText:"styles_submissionText__cqPru"},Wa=()=>{var e,t,i,s,r,l,c,d,u,x,h,p,g,_,f,Z,v,C,w,k,I,E,L;(0,S.useRef)(null);const{t:M}=(0,P.$G)(),W=((0,o.s0)(),(0,N.I0)()),{contestId:O}=(0,o.UO)(),{submissionId:B}=(0,o.UO)(),[U,H]=(0,S.useState)(null),[F,G]=(0,S.useState)(null),V=(0,S.useCallback)((async e=>{try{const t=await T.c.getContestById(e);t&&H(t)}catch(t){console.log("error",t)}}),[]),Q=(0,S.useCallback)((e=>{ua.i.getDetailCodeSubmission(e).then((e=>{console.log("data",e),G(e)})).catch((e=>console.error(e))).finally((()=>{}))}),[]);(0,S.useEffect)((()=>{(async()=>{O&&B&&(W((0,$t.K4)(!0)),await V(O),await Q(B),W((0,$t.K4)(!1)))})()}),[O,W,Q,V,B]);const $=(0,S.useMemo)((()=>{var e,t;return{source_code:null!==(e=null===F||void 0===F?void 0:F.sourceCode)&&void 0!==e?e:"",language:null!==(t=null===F||void 0===F?void 0:F.programmingLanguageName)&&void 0!==t?t:""}}),[F]);return O&&U&&F&&B?(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(n.Z,{className:Ma.breadcump,children:(0,z.jsx)(n.Z,{id:Ma.breadcumpWrapper,children:(0,z.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.contest.root,label:M("contest_management_title")},{navLink:A._.admin.contest.edit.details.replace(":contestId",O),label:U.name},{navLink:A._.admin.contest.submissions.replace(":contestId",O),label:M("detail_problem_submission")}],lastBreadCrumbLabel:M("detail_problem_submission_details")})})}),(0,z.jsxs)(n.Z,{sx:{margin:"0 20px",minHeight:"700px"},children:[(0,z.jsx)(j.Z,{children:M("detail_problem_submission_details")}),(0,z.jsx)(n.Z,{sx:{margin:"0"},children:(0,z.jsxs)(n.Z,{className:Ma.submissionContainer,children:[(0,z.jsx)(n.Z,{className:Ma.submissionInfo,children:(0,z.jsxs)(n.Z,{className:Ma.submissionTitle,children:[F&&(0,z.jsx)(J.Z,{fontWeight:"700",colorname:"GRADING"===F.gradingStatus?"--orange-4":"Accepted"!==F.description?"--red-error":"--green-600",children:"GRADING"===F.gradingStatus||void 0===F.description?F.gradingStatus.replace("_"," "):F.description}),(0,z.jsxs)(n.Z,{className:Ma.submissionAuthor,children:[(0,z.jsx)(m.Z,{sx:{bgcolor:"".concat((0,D.M)("".concat(null===F||void 0===F||null===(e=F.user)||void 0===e?void 0:e.firstName," ").concat(null===F||void 0===F||null===(t=F.user)||void 0===t?void 0:t.lastName)))},alt:null===F||void 0===F||null===(i=F.user)||void 0===i?void 0:i.email,src:null===F||void 0===F||null===(s=F.user)||void 0===s?void 0:s.avatarUrl,children:null===F||void 0===F||null===(r=F.user)||void 0===r?void 0:r.firstName.charAt(0)}),(0,z.jsx)(La.Z,{fontWeight:"700",children:"vi"===y.ZP.language?"".concat(null!==(l=null===F||void 0===F||null===(c=F.user)||void 0===c?void 0:c.lastName)&&void 0!==l?l:""," ").concat(null!==(d=null===F||void 0===F||null===(u=F.user)||void 0===u?void 0:u.firstName)&&void 0!==d?d:""):"".concat(null!==(x=null===F||void 0===F||null===(h=F.user)||void 0===h?void 0:h.firstName)&&void 0!==x?x:""," ").concat(null!==(p=null===F||void 0===F||null===(g=F.user)||void 0===g?void 0:g.lastName)&&void 0!==p?p:"")}),(0,z.jsx)(La.Z,{"translation-key":"detail_problem_submission_detail_user_submission_time",children:M("detail_problem_submission_detail_user_submission_time",{time:null!==(_=((e,t)=>{try{return void 0===e?e:(0,q.J$)(e,t)}catch(i){return console.error(i),e}})(null===F||void 0===F?void 0:F.createdAt,y.ZP.language))&&void 0!==_?_:"N/A",interpolation:{escapeValue:!1}})})]})]})}),(null===F||void 0===F||null===(f=F.firstFailTestCase)||void 0===f?void 0:f.message)&&F.firstFailTestCase.message.length>0&&(0,z.jsxs)(n.Z,{className:Ma.result,sx:Ra.errorBox,children:[(0,z.jsx)(J.Z,{fontWeight:1e3,colorname:"--red-text",children:"Message"}),(0,z.jsx)(za.Z,{multiline:!0,InputProps:{readOnly:!0,disableUnderline:!0},fullWidth:!0,size:"small",className:Ma.input,value:null!==(Z=F.firstFailTestCase.message)&&void 0!==Z?Z:"",variant:"standard",inputProps:{style:{color:"var(--red-text)"}}})]}),(null===F||void 0===F||null===(v=F.firstFailTestCase)||void 0===v?void 0:v.stderr)&&F.firstFailTestCase.stderr.length>0&&(0,z.jsxs)(n.Z,{className:Ma.result,sx:Ra.errorBox,children:[(0,z.jsx)(J.Z,{fontWeight:1e3,colorname:"--red-text",children:"Stderr"}),(0,z.jsx)(za.Z,{multiline:!0,InputProps:{readOnly:!0,disableUnderline:!0},fullWidth:!0,size:"small",className:Ma.input,value:F.firstFailTestCase.stderr.length,variant:"standard",inputProps:{style:{color:"var(--red-text)"}}})]}),(null===F||void 0===F||null===(C=F.firstFailTestCase)||void 0===C?void 0:C.compileOutput)&&F.firstFailTestCase.compileOutput.length>0&&(0,z.jsxs)(n.Z,{className:Ma.result,sx:Ra.errorBox,children:[(0,z.jsx)(J.Z,{fontWeight:1e3,colorname:"--red-text",children:"Complie output"}),(0,z.jsx)(za.Z,{multiline:!0,InputProps:{readOnly:!0,disableUnderline:!0},fullWidth:!0,size:"small",className:Ma.input,value:F.firstFailTestCase.compileOutput,variant:"standard",inputProps:{style:{color:"var(--red-text)"}}})]}),(null===F||void 0===F?void 0:F.firstFailTestCase)&&"Compilation Error"!==F.description&&(0,z.jsx)(n.Z,{sx:{marginY:1},children:(0,z.jsx)(J.Z,{fontWeight:700,"translation-key":"detail_problem_submission_failed_test_case",children:M("detail_problem_submission_failed_test_case")})}),(null===F||void 0===F||null===(w=F.firstFailTestCase)||void 0===w?void 0:w.input)&&"Compilation Error"!==F.description&&(0,z.jsxs)(n.Z,{className:Ma.result,children:[(0,z.jsxs)(La.Z,{"translation-key":"detail_problem_input",children:[M("detail_problem_input"),": "]}),(0,z.jsx)(za.Z,{multiline:!0,InputProps:{readOnly:!0},fullWidth:!0,id:"outlined-basic",variant:"outlined",size:"small",className:Ma.input,value:F.firstFailTestCase.input})]}),(null===F||void 0===F||null===(k=F.firstFailTestCase)||void 0===k?void 0:k.output)&&"Compilation Error"!==F.description&&(0,z.jsxs)(n.Z,{className:Ma.result,children:[(0,z.jsxs)(La.Z,{"translation-key":"detail_problem_output",children:[M("detail_problem_output"),": "]}),(0,z.jsx)(za.Z,{multiline:!0,fullWidth:!0,InputProps:{readOnly:!0},id:"outlined-basic",variant:"outlined",size:"small",className:Ma.input,value:F.firstFailTestCase.output})]}),(null===F||void 0===F||null===(I=F.firstFailTestCase)||void 0===I?void 0:I.actualOutput)&&"Compilation Error"!==F.description&&(0,z.jsxs)(n.Z,{className:Ma.result,children:[(0,z.jsxs)(La.Z,{"translation-key":"detail_problem_actual_result",children:[M("detail_problem_actual_result"),": "]}),(0,z.jsx)(za.Z,{multiline:!0,InputProps:{readOnly:!0},fullWidth:!0,id:"outlined-basic",variant:"outlined",size:"small",className:Ma.input,value:F.firstFailTestCase.actualOutput})]}),(0,z.jsxs)(a.ZP,{container:!0,className:Ma.submissionStatistical,children:[(0,z.jsxs)(a.ZP,{item:!0,xs:5.75,className:Ma.statisticalTime,children:[(0,z.jsxs)(Xt.Z,{className:Ma.title,children:[(0,z.jsx)(Da.Z,{}),(0,z.jsx)(b.Z,{colorname:"--white","translation-key":"detail_problem_submission_detail_runtime",children:M("detail_problem_submission_detail_runtime")})]}),(0,z.jsx)(Xt.Z,{className:Ma.data,children:(0,z.jsxs)(J.Z,{colorname:"--white",fontSize:"20px",fontWeight:"700",children:[null!==(E=(0,pa.RG)(null===F||void 0===F?void 0:F.avgRuntime,3))&&void 0!==E?E:"N/A",void 0!==(null===F||void 0===F?void 0:F.avgRuntime)?"ms":""]})})]}),(0,z.jsx)(a.ZP,{item:!0,xs:.5}),(0,z.jsxs)(a.ZP,{item:!0,xs:5.75,className:Ma.statisticalMemory,children:[(0,z.jsxs)(Xt.Z,{className:Ma.title,children:[(0,z.jsx)(qa.Z,{}),(0,z.jsx)(b.Z,{colorname:"--white","translation-key":"detail_problem_submission_detail_memory",children:M("detail_problem_submission_detail_memory")})]}),(0,z.jsx)(Xt.Z,{className:Ma.data,children:(0,z.jsxs)(J.Z,{colorname:"--white",fontSize:"20px",fontWeight:"700",children:[null!==(L=(0,pa.RG)((0,pa.ZA)(null===F||void 0===F?void 0:F.avgMemory),3))&&void 0!==L?L:"N/A"," ",void 0!==(null===F||void 0===F?void 0:F.avgMemory)?"MB":""]})})]})]}),(0,z.jsxs)(n.Z,{className:Ma.submissionText,children:[(0,z.jsx)(n.Z,{className:Ma.feedbackTitle,children:(0,z.jsx)(J.Z,{fontWeight:700,"translation-key":"detail_admin_problem_submission_detail_solution",children:M("detail_admin_problem_submission_detail_solution")})}),(0,z.jsx)(n.Z,{"data-color-mode":"light",children:(0,z.jsx)(Ea.ZP.Markdown,{source:"```java\n"+$.source_code})})]})]})})]})]})}):null},Ra={errorBox:{backgroundColor:"var(--red-background)",borderRadius:1,paddingX:1}};var Oa=i(51485);const Ba=()=>{const{t:e}=(0,P.$G)(),t=(0,o.s0)(),[i,s]=(0,S.useState)(""),[r,m]=(0,S.useState)((()=>y.ZP.language)),[x,h]=(0,S.useState)([{key:"Status",value:"ALL"}]),[C,w]=(0,S.useState)(!1),[k,T]=(0,S.useState)(""),[D,E]=(0,S.useState)({currentPage:0,totalItems:0,totalPages:0,items:[]}),[L,M]=(0,S.useState)(!1),W=(0,N.I0)(),R=(0,S.useCallback)((async t=>{let{searchName:i,pageNo:a=0,pageSize:n=10}=t;M(!0);try{const e=await Oa.M.getAllOrganizations({searchName:i,pageNo:a,pageSize:n});E({currentPage:e.currentPage,totalItems:e.totalItems,totalPages:e.totalPages,items:e.organizations}),M(!1)}catch(s){console.error("error",s),401!==s.code&&403!==s.code||W((0,I.lS)(e("common_please_login_to_continue"))),M(!1)}}),[W,e]),O=(0,S.useCallback)((e=>{R({searchName:e})}),[R]),B=[{field:"email",headerName:e("organization_email"),flex:2,renderHeader:()=>(0,z.jsx)(Z.Z,{nonoverflow:!0,width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("organization_email")}),renderCell:e=>(0,z.jsx)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:(0,z.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.email})})},{field:"name",headerName:e("organization_name"),flex:2,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("organization_name")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:e.row.name})},{field:"phone",headerName:e("organization_phone"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("organization_phone")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:e.row.phone})},{field:"updatedAt",headerName:e("common_updated_at"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_updated_at")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:(0,q.J$)(e.row.updatedAt,r)})},{field:"isDeleted",headerName:e("common_is_blocked"),flex:.6,align:"center",renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_is_blocked")}),renderCell:e=>(0,z.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isDeleted,sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"isVerified",headerName:e("common_is_verified"),flex:.6,align:"center",renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_is_verified")}),renderCell:e=>(0,z.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isVerified,sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"action",headerName:e("common_action"),type:"actions",flex:.8,renderHeader:()=>(0,z.jsx)(v.Z,{width:"auto",sx:{textAlign:"left"},children:e("common_action")}),getActions:e=>[(0,z.jsx)(p.u,{icon:(0,z.jsx)(c.Z,{}),label:"Edit",onClick:()=>{t(A._.admin.organizations.edit.details.replace(":organizationId",e.row.organizationId),{state:{contestName:e.row.name}})}}),(0,z.jsx)(p.u,{onClick:()=>{T(e.row.organizationId),w(!0)},icon:(0,z.jsx)(l.Z,{}),label:"Delete"})]}],[U,H]=(0,S.useState)(0),[F,G]=(0,S.useState)(10),V=(0,S.useMemo)((()=>(null===D||void 0===D?void 0:D.totalItems)||0),[null===D||void 0===D?void 0:D.totalItems]),Q=(0,S.useMemo)((()=>D.items.length>0?D.items.map((e=>({id:e.organizationId,organizationId:e.organizationId,email:e.email,name:e.name,description:e.description,phone:e.phone,address:e.address,apiKey:e.apiKey,moodleUrl:e.moodleUrl,createdAt:e.createdAt,updatedAt:e.updatedAt,isDeleted:e.isDeleted,isVerified:e.isVerified}))):[]),[D.items]),$=(0,S.useCallback)((()=>{R({searchName:i})}),[R,i]),Y=(0,S.useCallback)((()=>{R({searchName:i})}),[R,i]);(0,S.useEffect)((()=>{m(y.ZP.language)}),[y.ZP.language]),(0,S.useEffect)((()=>{(async()=>{await R({searchName:""})})()}),[W,R]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(_.Z,{isOpen:C,title:"Confirm delete",description:"Are you sure you want to delete this organization?",onCancel:()=>{w(!1)},onDelete:async()=>{Oa.M.deleteOrganizationBySystemAdmin(k).then((e=>{W((0,I.kU)("Delete organization successfully")),R({searchName:""})})).catch((e=>{console.error("error",e),W((0,I.lS)("Delete organization failed"))})).finally((()=>{w(!1)}))}}),(0,z.jsx)(n.Z,{children:(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(j.Z,{"translate-key":"organization_management",children:e("organization_management")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(f.Z,{isLoading:L,searchValue:i,setSearchValue:s,onHandleChange:O,createBtnText:e("organization_create"),onClickCreate:()=>{t(A._.admin.organizations.create)},numOfResults:V,filterKeyList:[{label:e("common_status"),value:"Status"}],filterValueList:{Status:[{label:e("common_all"),value:"ALL"},{label:e("common_active"),value:"ACTIVE"},{label:e("common_inactive"),value:"INACTIVE"}]},filters:x,handleChangeFilters:e=>{h(e)},onHandleApplyFilter:$,onHandleCancelFilter:Y})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(g.Z,{loading:L,dataList:Q,tableHeader:B,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:U,pageSize:F,totalElement:V,onPaginationModelChange:(e,t)=>{H(e.page),G(e.pageSize),R({searchName:i,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})})]})};var Ua=i(91838);const Ha={formBody:"styles_formBody__-bgFU",breadcump:"styles_breadcump__+GQ-5",phoneInput:"styles_phoneInput__fodxg",textArea:"styles_textArea__TWsC6"},Fa=()=>{var e,t,i,s,r;const l=(0,S.useRef)(null),{t:c}=(0,P.$G)(),d=(0,o.s0)(),[m,u]=(0,S.useState)(!1),x=(0,N.I0)(),h=(0,S.useMemo)((()=>G.Ry().shape({email:G.Z_().required(c("email_required")).email(c("email_invalid")),name:G.Z_().required(c("organization_name_required")),description:G.Z_(),address:G.Z_().required(c("organization_address_required")),phone:G.Z_().matches(/^\+?[1-9][0-9]{7,14}$/,c("phone_number_invalid")).required(c("phone_required"))})),[c]),{handleSubmit:p,control:g,formState:{errors:_},register:f}=(0,F.cI)({resolver:(0,L.X)(h)}),Z=(0,S.useCallback)((async e=>{u(!0);try{await Oa.M.createOrganization(e),u(!1),x((0,I.kU)("Created organization successfully")),d(A._.admin.organizations.root)}catch(t){console.error("error",t),x((0,I.lS)("Organization creation failed!!! please check your input information")),401!==t.code&&403!==t.code||x((0,I.lS)(c("common_please_login_to_continue"))),u(!1)}}),[c]);return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(n.Z,{className:Ha.breadcump,ref:l,children:(0,z.jsx)(n.Z,{id:Ha.breadcumpWrapper,children:(0,z.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.organizations.root,label:c("organization_management")}],lastBreadCrumbLabel:c("organization_create")})})}),(0,z.jsxs)(n.Z,{sx:{padding:"0px 20px 20px 20px"},children:[(0,z.jsx)(j.Z,{"translate-key":"user_create",children:c("organization_create")}),(0,z.jsxs)(n.Z,{component:"form",className:Ha.formBody,onSubmit:p((async e=>{const t={...e},i={email:t.email,description:t.description,name:t.name,address:t.address,phone:t.phone};await Z(i)})),children:[(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,children:(0,z.jsx)(v.Z,{"translation-key":"common_phone",children:c("common_phone")})}),(0,z.jsxs)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:[(0,z.jsx)(F.Qr,{control:g,name:"phone",render:e=>{let{field:t}=e;return(0,z.jsx)(Et.ZP,{value:t.value,placeholder:"Enter phone number",onChange:t.onChange,className:Ha.phoneInput,defaultCountry:"VN"})}}),(null===(e=_.phone)||void 0===e?void 0:e.message)&&(0,z.jsx)(U.Z,{children:null===(t=_.phone)||void 0===t?void 0:t.message})]})]}),(0,z.jsx)(B.Z,{title:c("Email"),type:"text",inputRef:f("email"),errorMessage:null===_||void 0===_||null===(i=_.email)||void 0===i?void 0:i.message,width:"100%"}),(0,z.jsx)(B.Z,{title:c("organization_name"),type:"text",inputRef:f("name"),errorMessage:null===_||void 0===_||null===(s=_.name)||void 0===s?void 0:s.message,width:"100%"}),(0,z.jsx)(B.Z,{title:c("organization_address"),type:"text",inputRef:f("address"),errorMessage:null===_||void 0===_||null===(r=_.address)||void 0===r?void 0:r.message,width:"100%"}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,children:(0,z.jsx)(v.Z,{"translation-key":"common_description",children:c("common_description")})}),(0,z.jsx)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:(0,z.jsx)(Ua.u,{"aria-label":"empty textarea","translation-key":"common_description",placeholder:c("common_description"),className:Ha.textArea,minRows:5,...f("description"),"aria-invalid":!!_.description})})]}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,z.jsx)(M.Z,{loading:m,variant:"solid",type:"submit","translation-key":"user_create",children:c("organization_create")})})]})]})]})})},Ga={breadcump:"styles_breadcump__UneXy",tabs:"styles_tabs__cIQWX"},Va="styles_formBody__r9jA0",Qa="styles_phoneInput__4J9F9",$a="styles_textArea__LKtLr",Ya=e=>{var t,i;const[s,r]=(0,S.useState)(!1),l=(0,N.I0)(),{t:c}=(0,P.$G)(),d=(0,S.useMemo)((()=>G.Ry().shape({isVerified:G.O7().required(c("organization_is_verified_required")),isDeleted:G.O7().required(c("organization_is_deleted_required"))})),[c]),{handleSubmit:m,control:x,formState:{errors:h},reset:p,register:g}=(0,F.cI)({resolver:(0,L.X)(d)}),{organizationId:_}=(0,o.UO)(),[f,j]=(0,S.useState)((()=>y.ZP.language)),[Z,b]=(0,S.useState)();(0,S.useEffect)((()=>{j(y.ZP.language)}),[y.ZP.language]);const C=(0,S.useCallback)((async e=>{try{const t=await Oa.M.getOrganizationById(e);t&&(p({isVerified:t.isVerified,isDeleted:t.isDeleted}),b(t))}catch(t){console.error("error",t)}}),[p]);(0,S.useEffect)((()=>{_&&!Z&&C(_)}),[Z,C,_]);const w=(0,S.useCallback)((async e=>{r(!0);try{if(!_)return;await Oa.M.updateOrganizationBySystemAdmin(_,e),r(!1),l((0,I.kU)("Updated organization successfully"))}catch(t){console.error("error",t),l((0,I.lS)("Organization is updated failed!!! please check your input information")),401!==t.code&&403!==t.code||l((0,I.lS)(c("common_please_login_to_continue"))),r(!1)}}),[l,c,_]);return(0,z.jsxs)(n.Z,{component:"form",className:Va,onSubmit:m((async e=>{const t={...e},i={isVerified:t.isVerified,isDeleted:t.isDeleted};await w(i)})),children:[(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,children:(0,z.jsx)(v.Z,{"translation-key":"organization_phone",children:c("organization_phone")})}),(0,z.jsx)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:(0,z.jsx)(Et.ZP,{placeholder:"Enter phone number",value:null===Z||void 0===Z?void 0:Z.phone,onChange:()=>{},disabled:!0,className:Qa})})]}),(0,z.jsx)(B.Z,{title:c("common_created_at"),type:"text",disabled:!0,value:(0,q.J$)(null===Z||void 0===Z?void 0:Z.createdAt,f),width:"100%"}),(null===Z||void 0===Z?void 0:Z.createdBy)&&(0,z.jsx)(B.Z,{title:c("common_created_by"),type:"text",disabled:!0,value:null===Z||void 0===Z?void 0:Z.createdBy.email,width:"100%"}),(0,z.jsx)(B.Z,{title:c("common_updated_at"),type:"text",disabled:!0,value:(0,q.J$)(null===Z||void 0===Z?void 0:Z.updatedAt,f),width:"100%"}),(null===Z||void 0===Z?void 0:Z.updatedBy)&&(0,z.jsx)(B.Z,{title:c("common_updated_by"),type:"text",disabled:!0,value:null===Z||void 0===Z?void 0:Z.updatedBy.email,width:"100%"}),(0,z.jsx)(B.Z,{title:c("organization_email"),type:"text",disabled:!0,value:null===Z||void 0===Z?void 0:Z.email,width:"100%"}),(0,z.jsx)(B.Z,{title:c("organization_url"),type:"text",disabled:!0,value:null===Z||void 0===Z?void 0:Z.moodleUrl,width:"100%"}),(0,z.jsx)(B.Z,{title:c("organization_name"),type:"text",disabled:!0,value:null===Z||void 0===Z?void 0:Z.name,width:"100%"}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,display:"flex",flexDirection:"row",alignItems:"center",children:(0,z.jsx)(v.Z,{"translation-key":"common_description",children:c("common_description")})}),(0,z.jsx)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",children:(0,z.jsx)(Ua.u,{"aria-label":"empty textarea","translation-key":"common_description",placeholder:c("common_description"),className:$a,disabled:!0,minRows:5,value:null===Z||void 0===Z?void 0:Z.description})})]}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,display:"flex",flexDirection:"row",alignItems:"center",children:(0,z.jsx)(v.Z,{"translation-key":"common_is_verified",children:c("common_is_verified")})}),(0,z.jsx)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",children:(0,z.jsx)(F.Qr,{control:x,name:"isVerified",render:e=>{let{field:t}=e;return(0,z.jsx)(u.Z,{size:"large",checked:!!t.value,...t,name:"isVerified"})}})})]}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,display:"flex",flexDirection:"row",alignItems:"center",children:(0,z.jsx)(v.Z,{"translation-key":"common_is_blocked",children:c("common_is_blocked")})}),(0,z.jsxs)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"row",alignItems:"center",gap:"10px",children:[(0,z.jsx)(F.Qr,{control:x,name:"isDeleted",render:e=>{let{field:t}=e;return(0,z.jsx)(u.Z,{size:"large",checked:!!t.value,...t,name:"isDeleted"})}}),(null===(t=h.isDeleted)||void 0===t?void 0:t.message)&&(0,z.jsx)(U.Z,{children:null===(i=h.isDeleted)||void 0===i?void 0:i.message})]})]}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,z.jsx)(M.Z,{loading:s,variant:"solid",type:"submit","translation-key":"organization_update",children:c("organization_update")})})]})},Ka="styles_btnWrapper__czTJM",Xa="styles_pleaseVerifiedBody__q+piz";var Ja=i(15756);const en=()=>{const{t:e}=(0,P.$G)(),t=(0,o.s0)(),[i,s]=(0,S.useState)(""),{organizationId:r}=(0,o.UO)(),[x,h]=(0,S.useState)(),[C,w]=(0,S.useState)((()=>y.ZP.language)),[k,T]=(0,S.useState)([{key:"Status",value:"ALL"}]),[E,L]=(0,S.useState)({currentPage:0,totalItems:0,totalPages:0,items:[]}),[M,W]=(0,S.useState)(!1),R=(0,N.I0)(),O=(0,S.useCallback)((async e=>{try{R((0,$t.K4)(!0));const t=await Oa.M.getOrganizationById(e);t&&h(t),R((0,$t.K4)(!1))}catch(t){console.error("error",t),R((0,$t.K4)(!1))}}),[]);(0,S.useEffect)((()=>{r&&!x&&O(r)}),[x,O,r]);const B=(0,S.useCallback)((async t=>{let{searchName:i,pageNo:a=0,pageSize:n=10}=t;if(r){W(!0);try{const e=await jt.K.getAllUserByOrganization({searchName:i,pageNo:a,pageSize:n,id:r});L({currentPage:e.currentPage,totalItems:e.totalItems,totalPages:e.totalPages,items:e.users}),W(!1)}catch(s){console.error("error",s),401!==s.code&&403!==s.code||R((0,I.lS)(e("common_please_login_to_continue"))),W(!1)}}}),[R,r,e]),U=(0,S.useCallback)((e=>{B({searchName:e})}),[B]),H=[{field:"email",headerName:"Email",flex:2,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:"Email"}),renderCell:e=>(0,z.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,z.jsx)(m.Z,{sx:{bgcolor:"".concat((0,D.M)("".concat(e.row.firstName," ").concat(e.row.lastName)))},alt:e.row.email,src:e.row.avatarUrl,children:e.row.firstName.charAt(0)}),(0,z.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"fullname",headerName:e("common_fullname"),flex:2,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_fullname")}),renderCell:e=>(0,z.jsxs)(b.Z,{width:"auto",children:[e.row.firstName," ",e.row.lastName]})},{field:"lastLogin",headerName:e("common_last_login"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_last_login")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:(0,q.J$)(e.row.lastLogin,C)})},{field:"isDeleted",headerName:e("common_is_blocked"),flex:.6,align:"center",renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_is_blocked")}),renderCell:e=>(0,z.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isDeleted,color:e.row.isDeleted?"success":"error",sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"roleName",headerName:e("common_role"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:e("common_role")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:e.row.roleName})},{field:"action",headerName:e("common_action"),type:"actions",flex:.8,renderHeader:()=>(0,z.jsx)(v.Z,{width:"auto",sx:{textAlign:"left"},children:e("common_action")}),getActions:e=>[(0,z.jsx)(p.u,{icon:(0,z.jsx)(c.Z,{}),label:"Edit",onClick:()=>{r&&t(A._.admin.organizations.edit.edit_user.replace(":userId",e.row.userId).replace(":organizationId",r))}}),(0,z.jsx)(p.u,{onClick:()=>{ne(e.row.userId),ie(!0)},icon:(0,z.jsx)(l.Z,{}),label:"Delete"})]}],[F,G]=(0,S.useState)(0),[V,Q]=(0,S.useState)(10),$=(0,S.useMemo)((()=>E.totalItems||0),[E.totalItems]),Y=(0,S.useMemo)((()=>[{name:Dt.W.ADMIN,label:e("role_system_admin")},{name:Dt.W.ADMIN_MOODLE,label:e("role_org_admin")},{name:Dt.W.LECTURER_MOODLE,label:e("role_lecturer")},{name:Dt.W.STUDENT_MOODLE,label:e("role_student")}]),[e]),K=(0,S.useCallback)((t=>{const i=Y.find((e=>null===t||void 0===t?void 0:t.roles.some((t=>(null===t||void 0===t?void 0:t.name)===e.name))));return i?i.label:e("role_user")}),[Y,e]),X=(0,S.useMemo)((()=>E.items.length>0?E.items.map((e=>({id:e.userId,userId:e.userId,email:e.email,firstName:e.firstName,lastName:e.lastName,avatarUrl:e.avatarUrl,lastLogin:e.lastLogin,phone:e.phone,address:e.address,dob:e.dob,isLinkedWithGoogle:e.isLinkedWithGoogle,isLinkedWithMicrosoft:e.isLinkedWithMicrosoft,createdAt:e.createdAt,roleName:K(e),isDeleted:e.isDeleted}))):[]),[K,E.items]),J=(0,S.useCallback)((()=>{B({searchName:i})}),[B,i]),ee=(0,S.useCallback)((()=>{B({searchName:i})}),[B,i]);(0,S.useEffect)((()=>{w(y.ZP.language)}),[y.ZP.language]),(0,S.useEffect)((()=>{(async()=>{await B({searchName:""})})()}),[R,B]);const[te,ie]=(0,S.useState)(!1),[ae,ne]=(0,S.useState)("");return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(_.Z,{isOpen:te,title:"Confirm unassigned user",description:"Are you sure you want to unassigned this user to organization?",onCancel:()=>{ie(!1)},onDelete:async()=>{jt.K.unassignedUserToOrganization(ae).then((e=>{R((0,I.kU)("Unassigned user successfully")),B({searchName:i})})).catch((e=>{console.error("error",e),R((0,I.lS)("Delete user failed"))})).finally((()=>{ie(!1)}))}}),x&&!0===(null===x||void 0===x?void 0:x.isVerified)?(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{padding:"20px"},children:[(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(f.Z,{isLoading:M,searchValue:i,setSearchValue:s,onHandleChange:U,numOfResults:$,filterKeyList:[{label:e("common_status"),value:"Status"}],filterValueList:{Status:[{label:e("common_all"),value:"ALL"},{label:e("common_active"),value:"ACTIVE"},{label:e("common_inactive"),value:"INACTIVE"}]},filters:k,handleChangeFilters:e=>{T(e)},onHandleApplyFilter:J,onHandleCancelFilter:ee}),(0,z.jsxs)(n.Z,{className:Ka,children:[(0,z.jsx)(ti.Z,{onClick:()=>{r&&t(A._.admin.organizations.edit.create_user.replace(":organizationId",r))},btnType:ti.s.Primary,"translation-key":"user_create",children:e("user_create")}),(0,z.jsx)(ti.Z,{onClick:()=>{r&&t(A._.admin.organizations.edit.assign_user.replace(":organizationId",r))},btnType:ti.s.Secondary,"translation-key":"user_assign_to_organization",children:e("user_assign_to_organization")})]})]}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(g.Z,{loading:M,dataList:X,tableHeader:H,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:F,pageSize:V,totalElement:$,onPaginationModelChange:(e,t)=>{G(e.page),Q(e.pageSize),B({searchName:i,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{console.log(e)},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]}):(0,z.jsxs)(n.Z,{id:Xa,children:[(0,z.jsx)(Ja.Z,{sx:{fontSize:"100px",color:"var(--green-500)",margin:"0 auto"}}),(0,z.jsx)(j.Z,{children:e("organization_please_verified")})]})]})},tn="styles_formBody__2LxjL",an="styles_phoneInput__6LLBY";var nn=i(14647);const sn=()=>{var e,t,i,s,r,l,c,d,m;const{t:u}=(0,P.$G)(),x=(0,o.s0)(),[h,p]=(0,S.useState)(!1),g=(0,N.I0)(),_=(0,S.useMemo)((()=>G.Ry().shape({email:G.Z_().required(u("email_required")).email(u("email_invalid")),password:G.Z_().required(u("password_required")).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,u("password_invalid")),confirmPassword:G.Z_().required(u("password_confirm_required")).matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,u("password_invalid")).oneOf([G.iH("password")],u("password_confirm_not_match")),firstName:G.Z_().required(u("first_name_required")),lastName:G.Z_().required(u("last_name_required")),roleName:G.Ry().shape({id:G.Z_().required(u("role_required")),name:G.Z_().required(u("role_required"))}).required(u("role_required")),phone:G.Z_().matches(/^\+?[1-9][0-9]{7,14}$/,u("phone_number_invalid")).required(u("phone_required"))})),[u]),{handleSubmit:f,control:Z,formState:{errors:b},register:y}=(0,F.cI)({resolver:(0,L.X)(_)}),C=(0,S.useCallback)((async e=>{p(!0);try{await jt.K.createUserByAdmin(e),p(!1),g((0,I.kU)("Created user successfully")),k&&x(A._.admin.organizations.edit.list_users.replace(":organizationId",k))}catch(t){console.error("error",t),g((0,I.lS)("User creation failed!!! please check your input information")),401!==t.code&&403!==t.code||g((0,I.lS)(u("common_please_login_to_continue"))),p(!1)}}),[u]),w=(0,S.useMemo)((()=>[{id:Dt.W.LECTURER_MOODLE,name:u("role_lecturer")},{id:Dt.W.STUDENT_MOODLE,name:u("role_student")},{id:Dt.W.ADMIN_MOODLE,name:u("role_org_admin")}]),[u]),{organizationId:k}=(0,o.UO)();return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(ti.Z,{startIcon:(0,z.jsx)(nn.Z,{}),btnType:ti.s.Text,onClick:()=>{k&&x(A._.admin.organizations.edit.list_users.replace(":organizationId",k))},children:"Quay l\u1ea1i"}),(0,z.jsx)(j.Z,{"translate-key":"user_create",children:u("user_create")}),(0,z.jsxs)(n.Z,{component:"form",className:tn,onSubmit:f((async e=>{const t={...e},i={organizationId:k,email:t.email,password:t.password,firstName:t.firstName,lastName:t.lastName,roleName:t.roleName.id,phone:t.phone};await C(i)})),children:[(0,z.jsx)(Lt.Z,{fullWidth:!0,title:u("common_role"),name:"roleName",control:Z,selectProps:{options:w},errorMessage:null===(e=b.roleName)||void 0===e||null===(t=e.id)||void 0===t?void 0:t.message}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,children:(0,z.jsx)(v.Z,{"translation-key":"common_phone",children:u("common_phone")})}),(0,z.jsxs)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:[(0,z.jsx)(F.Qr,{control:Z,name:"phone",render:e=>{let{field:t}=e;return(0,z.jsx)(Et.ZP,{value:t.value,placeholder:"Enter phone number",onChange:t.onChange,className:an,defaultCountry:"VN"})}}),(null===(i=b.phone)||void 0===i?void 0:i.message)&&(0,z.jsx)(U.Z,{children:null===(s=b.phone)||void 0===s?void 0:s.message})]})]}),(0,z.jsx)(B.Z,{title:u("Email"),type:"text",inputRef:y("email"),errorMessage:null===b||void 0===b||null===(r=b.email)||void 0===r?void 0:r.message,width:"100%"}),(0,z.jsx)(B.Z,{title:u("first_name"),type:"text",inputRef:y("firstName"),errorMessage:null===b||void 0===b||null===(l=b.firstName)||void 0===l?void 0:l.message,width:"100%"}),(0,z.jsx)(B.Z,{title:u("last_name"),type:"text",inputRef:y("lastName"),errorMessage:null===b||void 0===b||null===(c=b.lastName)||void 0===c?void 0:c.message,width:"100%"}),(0,z.jsx)(B.Z,{title:u("common_password"),type:"password",inputRef:y("password"),errorMessage:null===b||void 0===b||null===(d=b.password)||void 0===d?void 0:d.message,width:"100%"}),(0,z.jsx)(B.Z,{title:u("common_password_confirm"),type:"password",inputRef:y("confirmPassword"),errorMessage:null===b||void 0===b||null===(m=b.confirmPassword)||void 0===m?void 0:m.message,width:"100%"}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,z.jsx)(M.Z,{loading:h,variant:"solid",type:"submit","translation-key":"user_create",children:u("user_create")})})]})]})})},rn="styles_formBody__QcWU1",on="styles_titleWrapper__vDWgz";function ln(e){let{open:t,title:i,handleClose:n,children:s,isConfirmLoading:r=!1,handleUserSelected:l,...c}=e;const{t:x}=(0,P.$G)(),[h,p]=((0,o.s0)(),(0,S.useState)("")),[_,j]=(0,S.useState)((()=>y.ZP.language)),[v,C]=(0,S.useState)({currentPage:0,totalItems:0,totalPages:0,items:[]}),[w,k]=(0,S.useState)(!1),[A,T]=(0,S.useState)([{key:"Status",value:"ALL"}]),E=(0,N.I0)(),L=(0,S.useCallback)((async e=>{let{searchName:t,pageNo:i=0,pageSize:a=10,belongToOrg:n=Tt.c.NOT_BELONG_TO_ORGANIZATION}=e;k(!0);try{const e=await jt.K.getAllUser({searchName:t,pageNo:i,pageSize:a,belongToOrg:n});C({currentPage:e.currentPage,totalItems:e.totalItems,totalPages:e.totalPages,items:e.users}),k(!1)}catch(s){console.error("error",s),401!==s.code&&403!==s.code||E((0,I.lS)(x("common_please_login_to_continue"))),k(!1)}}),[E,x]),M=(0,S.useCallback)((e=>{L({searchName:e})}),[L]),W=[{field:"email",headerName:"Email",flex:2.5,renderHeader:()=>(0,z.jsx)(Z.Z,{nonoverflow:!0,width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:"Email"}),renderCell:e=>(0,z.jsxs)(d.Z,{direction:"row",gap:2,alignItems:"center",justifyContent:"flex-start",margin:"5px",children:[(0,z.jsx)(m.Z,{sx:{bgcolor:"".concat((0,D.M)("".concat(e.row.firstName," ").concat(e.row.lastName)))},alt:e.row.email,src:e.row.avatarUrl,children:e.row.firstName.charAt(0)}),(0,z.jsx)(b.Z,{width:"auto",fontWeight:500,children:e.row.email})]})},{field:"fullname",headerName:x("common_fullname"),flex:1.5,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:x("common_fullname")}),renderCell:e=>(0,z.jsxs)(b.Z,{width:"auto",children:[e.row.firstName," ",e.row.lastName]})},{field:"lastLogin",headerName:x("common_last_login"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:x("common_last_login")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:(0,q.J$)(e.row.lastLogin,_)})},{field:"isDeleted",headerName:x("common_is_blocked"),flex:.6,align:"center",renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:x("common_is_blocked")}),renderCell:e=>(0,z.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isDeleted,color:e.row.isDeleted?"success":"error",sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"isBelongToOrganization",headerName:x("common_is_belong_to_organization"),flex:.6,align:"center",renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:x("common_is_belong_to_organization")}),renderCell:e=>(0,z.jsx)(u.Z,{disableRipple:!0,checked:!0===e.row.isBelongToOrganization,sx:{"&:hover":{backgroundColor:"transparent !important",cursor:"default"}}})},{field:"roleName",headerName:x("common_role"),flex:1,renderHeader:()=>(0,z.jsx)(Z.Z,{width:"auto",sx:{textAlign:"left"},textWrap:"wrap",children:x("common_role")}),renderCell:e=>(0,z.jsx)(b.Z,{width:"auto",children:e.row.roleName})}],[R,O]=(0,S.useState)(0),[B,U]=(0,S.useState)(10),H=(0,S.useMemo)((()=>v.totalItems||0),[v.totalItems]),F=(0,S.useMemo)((()=>[{name:Dt.W.ADMIN,label:x("role_system_admin")},{name:Dt.W.ADMIN_MOODLE,label:x("role_org_admin")},{name:Dt.W.LECTURER_MOODLE,label:x("role_lecturer")},{name:Dt.W.STUDENT_MOODLE,label:x("role_student")}]),[x]),G=(0,S.useCallback)((e=>{const t=F.find((t=>null===e||void 0===e?void 0:e.roles.some((e=>(null===e||void 0===e?void 0:e.name)===t.name))));return t?t.label:x("role_user")}),[F,x]),V=(0,S.useMemo)((()=>v.items.length>0?v.items.map((e=>({id:e.userId,userId:e.userId,email:e.email,firstName:e.firstName,lastName:e.lastName,avatarUrl:e.avatarUrl,lastLogin:e.lastLogin,phone:e.phone,address:e.address,dob:e.dob,isLinkedWithGoogle:e.isLinkedWithGoogle,isLinkedWithMicrosoft:e.isLinkedWithMicrosoft,createdAt:e.createdAt,roleName:G(e),isDeleted:e.isDeleted,isBelongToOrganization:!!e.organization}))):[]),[G,v.items]),Q=(0,S.useCallback)((()=>{L({searchName:h})}),[L,h]),$=(0,S.useCallback)((()=>{L({searchName:h})}),[L,h]);(0,S.useEffect)((()=>{j(y.ZP.language)}),[y.ZP.language]),(0,S.useEffect)((()=>{(async()=>{await L({searchName:""})})()}),[E,L]);return(0,z.jsx)(be.Z,{open:t,handleClose:n,title:i,actionsDisabled:!0,minWidth:"1000px",...c,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(ve.Z,{"translate-key":"user_management",children:x("user_management")})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(f.Z,{isLoading:w,searchValue:h,setSearchValue:p,onHandleChange:M,numOfResults:H,filterKeyList:[{label:x("common_status"),value:"Status"}],filterValueList:{Status:[{label:x("common_all"),value:"ALL"},{label:x("common_active"),value:"ACTIVE"},{label:x("common_inactive"),value:"INACTIVE"}]},filters:A,handleChangeFilters:e=>{T(e)},onHandleApplyFilter:Q,onHandleCancelFilter:$})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(g.Z,{loading:w,dataList:V,tableHeader:W,onSelectData:(e,t)=>{},dataGridToolBar:{enableToolbar:!0},page:R,pageSize:B,totalElement:H,onPaginationModelChange:(e,t)=>{O(e.page),U(e.pageSize),L({searchName:h,pageNo:e.page,pageSize:e.pageSize})},showVerticalCellBorder:!0,getRowHeight:()=>"auto",onClickRow:e=>{l(e.row),n()},sx:{"& .MuiDataGrid-cell":{border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f5f9fb"},"& .MuiDataGrid-toolbarContainer":{backgroundColor:"#f5f9fb"}},personalSx:!0})})]})})}const cn=()=>{var e,t;const{t:i}=(0,P.$G)(),s=(0,o.s0)(),[r,l]=(0,S.useState)(!1),[c,d]=(0,S.useState)(),u=(0,N.I0)(),[x,h]=(0,S.useState)((()=>y.ZP.language)),{organizationId:p}=(0,o.UO)(),g=(0,S.useMemo)((()=>G.Ry().shape({roleName:G.Ry().shape({id:G.Z_().required(i("role_required")),name:G.Z_().required(i("role_required"))}).required(i("role_required"))})),[i]),{handleSubmit:_,control:f,formState:{errors:Z},reset:b}=(0,F.cI)({resolver:(0,L.X)(g)}),v=(0,S.useCallback)((async(e,t)=>{l(!0);try{await jt.K.assignUserToOrganization(e,t),l(!1),u((0,I.kU)("User assigned successfully!!!")),p&&s(A._.admin.organizations.edit.list_users.replace(":organizationId",p))}catch(a){console.error("error",a),u((0,I.lS)("User assignation failed!!! please check your input information")),401!==a.code&&403!==a.code||u((0,I.lS)(i("common_please_login_to_continue"))),l(!1)}}),[i]),C=(0,S.useMemo)((()=>[{id:Dt.W.LECTURER_MOODLE,name:i("role_lecturer")},{id:Dt.W.STUDENT_MOODLE,name:i("role_student")},{id:Dt.W.ADMIN_MOODLE,name:i("role_org_admin")}]),[i]),[w,k]=(0,S.useState)(!1);return(0,S.useEffect)((()=>{h(y.ZP.language)}),[y.ZP.language]),(0,z.jsxs)(z.Fragment,{children:[w&&(0,z.jsx)(ln,{open:w,title:i("user_select_from_list"),handleClose:()=>{k(!1)},handleUserSelected:e=>{d(e),b({roleName:C.find((t=>t.name===e.roleName))})},maxWidth:"md"}),(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(ti.Z,{startIcon:(0,z.jsx)(nn.Z,{}),btnType:ti.s.Text,onClick:()=>{p&&s(A._.admin.organizations.edit.list_users.replace(":organizationId",p))},children:"Quay l\u1ea1i"}),(0,z.jsxs)(n.Z,{id:on,children:[(0,z.jsx)(j.Z,{"translate-key":"user_assign_to_organization",children:i("user_assign_to_organization")}),(0,z.jsx)(ti.Z,{btnType:ti.s.Outlined,"translate-key":"user_select_from_list",onClick:()=>{k(!0)},children:i("user_select_from_list")})]}),(0,z.jsxs)(n.Z,{component:"form",className:rn,onSubmit:_((async e=>{const t={...e};if(null===c||void 0===c||!c.userId||!p)return void u((0,I.lS)("Please select a user to assign to organization"));const i={roleName:t.roleName.id,organizationId:p};await v(c.userId,i)})),children:[(0,z.jsx)(a.ZP,{container:!0,columns:12,justifyContent:"center",children:(0,z.jsx)(m.Z,{sx:{bgcolor:"".concat((0,D.M)("".concat(null===c||void 0===c?void 0:c.firstName," ").concat(null===c||void 0===c?void 0:c.lastName))),width:150,height:150,fontSize:"60px"},alt:null===c||void 0===c?void 0:c.email,src:null===c||void 0===c?void 0:c.avatarUrl,children:null===c||void 0===c?void 0:c.firstName.charAt(0)})}),(0,z.jsx)(Lt.Z,{fullWidth:!0,title:i("common_role"),name:"roleName",control:f,selectProps:{options:C},errorMessage:null===(e=Z.roleName)||void 0===e||null===(t=e.id)||void 0===t?void 0:t.message}),(0,z.jsx)(B.Z,{title:i("common_last_login"),type:"text",disabled:!0,value:(0,q.J$)(null===c||void 0===c?void 0:c.lastLogin,x),width:"100%"}),(0,z.jsx)(B.Z,{title:i("Email"),type:"text",disabled:!0,value:null===c||void 0===c?void 0:c.email,width:"100%"}),(0,z.jsx)(B.Z,{title:i("first_name"),type:"text",disabled:!0,value:null===c||void 0===c?void 0:c.firstName,width:"100%"}),(0,z.jsx)(B.Z,{title:i("last_name"),type:"text",disabled:!0,value:null===c||void 0===c?void 0:c.lastLogin,width:"100%"}),(0,z.jsx)(a.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,z.jsx)(M.Z,{loading:r,variant:"solid",type:"submit","translation-key":"user_assign_to_organization",children:i("user_assign_to_organization")})})]})]})]})},dn="styles_formBody__yN0td",mn="styles_phoneInput__5jKWr",un=()=>{const{t:e}=(0,P.$G)(),t=(0,o.s0)(),{userId:i}=(0,o.UO)(),[s,r]=(0,S.useState)((()=>y.ZP.language)),[l,c]=(0,S.useState)();(0,S.useEffect)((()=>{r(y.ZP.language)}),[y.ZP.language]);const d=(0,S.useCallback)((async e=>{try{const t=await jt.K.getUserById(e);t&&c(t)}catch(t){console.error("error",t)}}),[]);(0,S.useEffect)((()=>{!l&&i&&d(i)}),[l,d,i]);const{organizationId:u}=(0,o.UO)();return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(ti.Z,{startIcon:(0,z.jsx)(nn.Z,{}),btnType:ti.s.Text,onClick:()=>{u&&t(A._.admin.organizations.edit.list_users.replace(":organizationId",u))},children:"Quay l\u1ea1i"}),(0,z.jsxs)(n.Z,{sx:{padding:"0px 20px 20px 20px"},children:[(0,z.jsx)(j.Z,{"translate-key":"common_account_info",children:e("common_account_info")}),(0,z.jsxs)(n.Z,{component:"form",className:dn,children:[(0,z.jsx)(a.ZP,{container:!0,columns:12,justifyContent:"center",children:(0,z.jsx)(m.Z,{sx:{bgcolor:"".concat((0,D.M)("".concat(null===l||void 0===l?void 0:l.firstName," ").concat(null===l||void 0===l?void 0:l.lastName))),width:150,height:150,fontSize:"60px"},alt:null===l||void 0===l?void 0:l.email,src:null===l||void 0===l?void 0:l.avatarUrl,children:null===l||void 0===l?void 0:l.firstName.charAt(0)})}),(0,z.jsx)(B.Z,{title:e("common_organization_name"),type:"text",disabled:!0,value:null===l||void 0===l?void 0:l.organization.name,width:"100%"}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsx)(a.ZP,{item:!0,xs:4,children:(0,z.jsx)(v.Z,{"translation-key":"common_phone",children:e("common_phone")})}),(0,z.jsx)(a.ZP,{item:!0,xs:7,display:"flex",flexDirection:"column",gap:"10px",children:(0,z.jsx)(Et.ZP,{placeholder:"Enter phone number",value:null===l||void 0===l?void 0:l.phone,onChange:()=>{},disabled:!0,className:mn})})]}),(0,z.jsx)(B.Z,{title:e("common_last_login"),type:"text",disabled:!0,value:(0,q.J$)(null===l||void 0===l?void 0:l.lastLogin,s),width:"100%"}),(0,z.jsx)(B.Z,{title:e("Email"),type:"text",disabled:!0,value:null===l||void 0===l?void 0:l.email,width:"100%"}),(0,z.jsx)(B.Z,{title:e("first_name"),type:"text",disabled:!0,value:null===l||void 0===l?void 0:l.firstName,width:"100%"}),(0,z.jsx)(B.Z,{title:e("last_name"),type:"text",disabled:!0,value:null===l||void 0===l?void 0:l.lastName,width:"100%"}),l&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsxs)(a.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center"},children:[Me.Z.logo.moodleLogo&&(0,z.jsx)(m.Z,{alt:"Google",src:Me.Z.logo.googleLogo,sx:{width:"40px",height:"40px"}}),(0,z.jsx)(J.Z,{sx:{marginLeft:"5px"},children:"Google"})]}),(0,z.jsx)(a.ZP,{item:!0,xs:7,sx:{display:"flex",alignItems:"center"},children:null!==l&&void 0!==l&&l.isLinkedWithGoogle?(0,z.jsx)(J.Z,{"translation-key":"user_detail_dialog_linked",children:e("user_detail_dialog_linked")}):(0,z.jsx)(J.Z,{"translation-key":"user_detail_dialog_not_linked",children:e("user_detail_dialog_not_linked")})})]}),(0,z.jsx)(h.Z,{}),(0,z.jsxs)(a.ZP,{container:!0,spacing:1,columns:12,children:[(0,z.jsxs)(a.ZP,{item:!0,xs:4,sx:{display:"flex",alignItems:"center"},children:[Me.Z.logo.moodleLogo&&(0,z.jsx)(m.Z,{alt:"Microsoft",src:Me.Z.logo.microsoftLogo,sx:{width:"40px",height:"40px"}}),(0,z.jsx)(J.Z,{sx:{marginLeft:"5px"},children:"Microsoft"})]}),(0,z.jsx)(a.ZP,{item:!0,xs:7,sx:{display:"flex",alignItems:"center"},children:null!==l&&void 0!==l&&l.isLinkedWithMicrosoft?(0,z.jsx)(J.Z,{"translation-key":"user_detail_dialog_linked",children:e("user_detail_dialog_linked")}):(0,z.jsx)(J.Z,{"translation-key":"user_detail_dialog_not_linked",children:e("user_detail_dialog_not_linked")})})]}),(0,z.jsx)(h.Z,{})]})]})]})]})})},xn=()=>{const{t:e}=(0,P.$G)(),t=(0,S.useMemo)((()=>[A._.admin.organizations.edit.details,A._.admin.organizations.edit.list_users]),[A._]),{pathname:i}=(0,o.TH)(),{organizationId:a}=(0,o.UO)(),s=(0,S.useMemo)((()=>{if(a){const e=t.findIndex((e=>{return t=e.replace(":organizationId",a),!!i.startsWith(t);var t}));return-1===e?0:e}}),[i,t]),r=(0,o.s0)();return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(n.Z,{children:[(0,z.jsx)(n.Z,{className:Ga.breadcump,children:(0,z.jsx)(n.Z,{id:Ga.breadcumpWrapper,children:(0,z.jsx)(R.Z,{breadCrumbData:[{navLink:A._.admin.organizations.root,label:e("organization_management")}],lastBreadCrumbLabel:e("organization_information")})})}),(0,z.jsxs)(n.Z,{sx:{padding:"0px 20px 20px 20px"},children:[(0,z.jsx)(j.Z,{"translate-key":"organization_information",children:e("organization_information")}),(0,z.jsx)(n.Z,{sx:{margin:"20px 0px",borderRadius:"5px",border:"1px solid #e0e0e0"},children:(0,z.jsxs)(K.Z,{value:s,onChange:(e,i)=>{a&&r(t[i].replace(":organizationId",a))},"aria-label":"basic tabs example",className:Ga.tabs,variant:"fullWidth",children:[(0,z.jsx)(X.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(J.Z,{"translate-key":"common_details",children:e("common_details")}),value:0}),(0,z.jsx)(X.Z,{sx:{textTransform:"none"},label:(0,z.jsx)(J.Z,{"translate-key":"organization_list_users",children:e("organization_list_users")}),value:1})]})}),(0,z.jsx)(n.Z,{children:(0,z.jsxs)(o.Z5,{children:[(0,z.jsx)(o.AW,{path:"details",element:(0,z.jsx)(Ya,{})}),(0,z.jsx)(o.AW,{path:"users",element:(0,z.jsx)(en,{})}),(0,z.jsx)(o.AW,{path:"users/create",element:(0,z.jsx)(sn,{})}),(0,z.jsx)(o.AW,{path:"users/:userId",element:(0,z.jsx)(un,{})}),(0,z.jsx)(o.AW,{path:"users/assign-user",element:(0,z.jsx)(cn,{})}),(0,z.jsx)(o.AW,{path:"*",element:(0,z.jsx)(ee.Z,{})})]})})]})]})})};var hn=i(92687);const pn=e=>{const{t:t}=(0,P.$G)(),{field:i,removeChapter:s,control:r,register:o,parentIndex:l,provided:c,isDragging:m,watch:u,errors:x,setValue:p}=e,[g,_]=(0,S.useState)(!1),[f,j]=(0,S.useState)(!1),{fields:Z,append:b,remove:v,move:y}=(0,F.Dq)({control:r,name:"chapters.".concat(l,".resources")}),C=u("chapters.".concat(l,".title")),[w,k]=(0,S.useState)("Chapter "+l);(0,S.useEffect)((()=>{_(!m)}),[m]),(0,S.useEffect)((()=>{k(C&&""!==C?C:"Chapter "+l)}),[C]),(0,S.useEffect)((()=>{f&&!m&&_(!0)}),[f]);return(0,z.jsxs)(z.Fragment,{children:[!m&&(0,z.jsxs)(n.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-start",marginBottom:"10px",children:[(0,z.jsx)(Gi.ZP,{variant:f?"soft":"solid",onClick:()=>{j(!f)},color:"primary",children:f?(0,z.jsx)(Vi.Z,{}):(0,z.jsx)(Qi.Z,{})}),(0,z.jsx)(Gi.ZP,{variant:"soft",sx:{marginLeft:"10px"},color:"danger",onClick:()=>{s()},children:(0,z.jsx)(Bi.Z,{})})]}),(0,z.jsxs)(d.Z,{direction:"row",display:"flex",alignItems:"center",spacing:1,flex:1,sx:{width:"100%"},children:[m&&(0,z.jsx)("div",{...c.dragHandleProps,children:(0,z.jsx)($i.Z,{})}),(0,z.jsxs)(_t.Z,{variant:"soft",color:"neutral",sx:{flexGrow:1,padding:"10px",display:"flex",justifyContent:"space-between",flexDirection:"row","&:hover":{cursor:m?"":"pointer",backgroundColor:"var(--blue-light-4)"}},onClick:()=>{!m&&_(!g)},"translation-key":"question_management_answer",children:[(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--eerie-black",children:w}),g?(0,z.jsx)(Ri.Z,{}):(0,z.jsx)(Wi.Z,{})]})]}),(0,z.jsxs)(Di.Z,{in:g,timeout:"auto",children:[f&&(0,z.jsxs)(a.ZP,{container:!0,spacing:2,sx:{marginBottom:"40px",marginTop:"5px"},children:[(0,z.jsx)(a.ZP,{item:!0,sm:12,md:6,children:(0,z.jsx)(F.Qr,{control:r,name:"chapters.".concat(l,".title"),render:e=>{var t,i,a,n,s;let{field:{ref:r,...o}}=e;return(0,z.jsx)(Ei.Z,{error:Boolean(null===x||void 0===x||null===(t=x.chapters)||void 0===t||null===(i=t[l])||void 0===i?void 0:i.title),errorMessage:null===x||void 0===x||null===(a=x.chapters)||void 0===a||null===(n=a[l])||void 0===n||null===(s=n.title)||void 0===s?void 0:s.message,useDefaultTitleStyle:!0,title:"Chapter Title",inputRef:r,type:"text",placeholder:"Enter Chapter Title",titleRequired:!0,"translation-key":["chapter_title","enter_chapter_title"],...o})}})}),(0,z.jsxs)(a.ZP,{item:!0,sm:12,md:6,children:[(0,z.jsx)(H.Z,{"translation-key":"chapter_description_title",title:"Chapter Description".concat(" "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,z.jsx)(F.Qr,{control:r,name:"chapters.".concat(l,".description"),render:e=>{let{field:t}=e;return(0,z.jsx)(ne.Z,{title:"Chapter Description",openDialog:!0,roundedBorder:!0,error:!1,placeholder:"Enter Chapter Description",required:!0,"translation-key":"enter_chapter_description",maxLines:10,...t})}})]})]}),f&&(0,z.jsx)(ti.Z,{margin:"5px 0",variant:"outlined",colorName:"var(--blue-light)",borderRadius:"12px",startIcon:(0,z.jsx)(Mi.Z,{}),onClick:()=>{b({no:Z.length,resourceType:Oi.H.LESSON,title:"",lessonHtml:"",questionId:"",youtubeVideoUrl:""})},children:(0,z.jsx)(J.Z,{fontSize:"12px",fontWeight:"500",colorname:"--blue-light-1",children:t("add_chapter_resource")})}),0!==Z.length&&(0,z.jsx)(_t.Z,{sx:{marginTop:"10px"},children:(0,z.jsx)(Yi.Z5,{onDragEnd:e=>{const t=e.source,i=e.destination;null!==e&&null!==i&&null!==t&&(y(t.index,i.index),Z.forEach(((e,t)=>{p("chapters.".concat(l,".resources.").concat(t,".no"),t)})))},children:(0,z.jsx)(Yi.bK,{droppableId:"resource",children:e=>(0,z.jsx)(d.Z,{spacing:2,...e.droppableProps,ref:e.innerRef,children:Z.map(((e,t)=>(0,z.jsxs)(S.Fragment,{children:[(0,z.jsx)(Yi._l,{draggableId:"item-resource-".concat(t),index:t,children:(i,a)=>(0,z.jsxs)("div",{ref:i.innerRef,...i.draggableProps,children:[(0,z.jsx)("div",{...i.dragHandleProps,children:(0,z.jsx)($i.Z,{})}),(0,z.jsx)(gn,{setValue:p,errors:x,watch:u,parentIndex:l,isEditting:f,index:t,removeResource:()=>(e=>{v(e);const t=u("chapters.".concat(l,".resources"));null===t||void 0===t||t.forEach(((e,t)=>{p("chapters.".concat(l,".resources.").concat(t,".no"),t)}))})(t),control:r,register:o})]},e.id)}),t!==Z.length-1&&(0,z.jsx)(h.Z,{})]},"resources[".concat(t,"]"))))})})})})]})]})},gn=e=>{const{isEditting:t,removeResource:i,index:s,control:r,register:o,parentIndex:l,watch:c,errors:m,setValue:u}=e,{t:x}=(0,P.$G)(),h=(0,S.useMemo)((()=>Object.values(Oi.H).map((e=>({label:x(e),value:e})))),[x]),p=c("chapters.".concat(l,".resources.").concat(s,".title")),g=c("chapters.".concat(l,".resources.").concat(s,".youtubeVideoUrl")),_=c("chapters.".concat(l,".resources.").concat(s,".resourceType")),f=c("chapters.".concat(l,".resources.").concat(s,".lessonHtml")),[j,Z]=(0,S.useState)(!1),[b,v]=(0,S.useState)(_||Oi.H.LESSON),[y,C]=(0,S.useState)("Resource "+s);(0,S.useEffect)((()=>(C(p&&""!==p?p:"Resource "+s),()=>{C("")})),[p]),(0,S.useEffect)((()=>{b===Oi.H.VIDEO?(u("chapters.".concat(l,".resources.").concat(s,".lessonHtml"),""),u("chapters.".concat(l,".resources.").concat(s,".questionId"),"")):b===Oi.H.LESSON?(u("chapters.".concat(l,".resources.").concat(s,".youtubeVideoUrl"),""),u("chapters.".concat(l,".resources.").concat(s,".questionId"),"")):u("chapters.".concat(l,".resources.").concat(s,".youtubeVideoUrl"),"")}),[b]);return(0,z.jsx)(z.Fragment,{children:(0,z.jsxs)(d.Z,{children:[j&&(0,z.jsx)(sa,{open:j,onClose:()=>{Z(!1)},onConfirm:e=>{u("chapters.".concat(l,".resources.").concat(s,".questionId"),e.questionId),u("chapters.".concat(l,".resources.").concat(s,".lessonHtml"),e.name),Z(!1)}}),(0,z.jsx)(n.Z,{display:"flex",flexDirection:"row",justifyContent:"flex-end",children:(0,z.jsx)(Gi.ZP,{variant:"soft",sx:{marginLeft:"10px"},color:"danger",onClick:()=>{i()},children:(0,z.jsx)(Bi.Z,{})})}),(0,z.jsx)(a.ZP,{container:!0,spacing:2,children:t&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(a.ZP,{item:!0,xs:6,children:(0,z.jsx)(F.Qr,{name:"chapters.".concat(l,".resources.").concat(s,".title"),control:r,render:e=>{var t,i,a,n,r,o,c,d,u;let{field:{ref:h,...p}}=e;return(0,z.jsx)(Ei.Z,{error:Boolean(null===m||void 0===m||null===(t=m.chapters)||void 0===t||null===(i=t[l])||void 0===i||null===(a=i.resources)||void 0===a||null===(n=a[s])||void 0===n?void 0:n.title),errorMessage:null===m||void 0===m||null===(r=m.chapters)||void 0===r||null===(o=r[l])||void 0===o||null===(c=o.resources)||void 0===c||null===(d=c[s])||void 0===d||null===(u=d.title)||void 0===u?void 0:u.message,inputRef:h,useDefaultTitleStyle:!0,title:"".concat(x("chapter_resource_title")),type:"text",placeholder:x("enter_chapter_resource_title"),titleRequired:!0,"translation-key":["chapter_resource_title","enter_chapter_resource_title"],...p})}})}),(0,z.jsxs)(a.ZP,{item:!0,xs:6,children:[(0,z.jsx)(H.Z,{"translation-key":"resource_type_title",title:"".concat(x("resource_type_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,z.jsx)(F.Qr,{name:"chapters.".concat(l,".resources.").concat(s,".resourceType"),control:r,defaultValue:h[0].value,render:e=>{let{field:{onChange:t,value:i}}=e;return(0,z.jsx)(Li.Z,{value:i,onChange:e=>{v(e),t(e)},options:h})}})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[b===Oi.H.LESSON&&(0,z.jsx)(F.Qr,{name:"chapters.".concat(l,".resources.").concat(s,".lessonHtml"),control:r,render:e=>{let{field:t}=e;return(0,z.jsx)(ne.Z,{title:"Lesson",openDialog:!0,roundedBorder:!0,error:!1,placeholder:"Enter Lesson",required:!0,"translation-key":"enter_lesson",maxLines:10,...t})}}),b===Oi.H.VIDEO&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(F.Qr,{name:"chapters.".concat(l,".resources.").concat(s,".youtubeVideoUrl"),control:r,render:e=>{var t,i,a,n,r,o,c,d,u;let{field:{ref:h,...p}}=e;return(0,z.jsx)(Ei.Z,{error:Boolean(null===m||void 0===m||null===(t=m.chapters)||void 0===t||null===(i=t[l])||void 0===i||null===(a=i.resources)||void 0===a||null===(n=a[s])||void 0===n?void 0:n.youtubeVideoUrl),errorMessage:null===m||void 0===m||null===(r=m.chapters)||void 0===r||null===(o=r[l])||void 0===o||null===(c=o.resources)||void 0===c||null===(d=c[s])||void 0===d||null===(u=d.youtubeVideoUrl)||void 0===u?void 0:u.message,inputRef:h,useDefaultTitleStyle:!0,title:"".concat(x("youtube_video_url")),type:"text",placeholder:x("enter_youtube_video_url"),titleRequired:!0,"translation-key":["youtube_video_url","enter_youtube_video_url"],...p})}}),(0,z.jsx)(Ki.Z,{href:g,target:"_blank",rel:"noopener noreferrer",children:(0,z.jsx)(n.Z,{component:"img",sx:{marginTop:"20px",maxWidth:"200px",minWidth:"150px",borderRadius:"8px","&:hover":{cursor:"pointer",transform:"scale(1.05)",transition:"all 0.3s ease",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)",backgroundColor:"var(--blue-light-4)"}},src:"https://img.youtube.com/vi/".concat(Zn(g),"/0.jpg"),alt:"Youtube Video"})})]}),b===Oi.H.CODE&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ti.Z,{variant:"outlined",colorName:"var(--blue-selected)",borderRadius:"12px",startIcon:(0,z.jsx)(Mi.Z,{sx:{color:"var(--blue-selected)",fontSize:"12px"}}),onClick:()=>{Z(!0)},children:(0,z.jsx)(J.Z,{fontSize:"12px",fontWeight:"500",colorname:"--blue-light-1",children:x("choose_code_question")})}),_===Oi.H.CODE&&""!==f&&(0,z.jsxs)(d.Z,{marginTop:"5px",children:[(0,z.jsxs)(J.Z,{children:[x("choose_code_question_title")," "]}),(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--eerie-black",children:f})]})]})]})]})}),!t&&(0,z.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:1,children:[(0,z.jsx)(n.Z,{sx:{backgroundColor:b===Oi.H.LESSON?"#E3F2FD":b===Oi.H.VIDEO?"#FFEBEE":"#E8F5E9",borderRadius:"8px",display:"flex",justifyContent:"center",alignItems:"center",width:"fit-content",padding:"10px"},children:b===Oi.H.LESSON?(0,z.jsx)(Fi.Z,{sx:{color:"#1976D2"}}):b===Oi.H.VIDEO?(0,z.jsx)(Ui.Z,{sx:{color:"#D32F2F"}}):(0,z.jsx)(Hi.Z,{sx:{color:"#388E3C"}})}),(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--eerie-black",children:y})]})]})})},_n=()=>{var e;const t=(0,o.s0)(),{t:i}=(0,P.$G)(),[s,r]=(0,S.useState)([]),[l,c]=(0,S.useState)(!0),[m,u]=(0,S.useState)(!1),[x,p]=(0,S.useState)(!1),{id:g}=(0,o.UO)(),[_,f]=(0,S.useState)(),[j,Z]=(0,S.useState)([]),b=[{navLink:A._.admin.dashboard,label:"Home"},{navLink:A._.admin.certificate.root,label:"Certificate Course Management"}];(0,S.useEffect)((()=>{(async()=>{(async()=>{try{const e=await zi.r.getTopics({pageNo:0,pageSize:999999,fetchAll:!0});r(e.topics)}catch(e){console.error("error",e)}})(),(async()=>{try{if(g){const e=await Pt.M.getCertificateCourseById(g);f(e)}}catch(e){console.error("error",e)}})(),(async()=>{try{if(g){const e=await hn.t.getChaptersByCertificateCourseIdResponse(g);Z(e.chapters)}}catch(e){console.error("error",e)}})(),c(!1)})()}),[]);const v=(0,S.useMemo)((()=>Object.values(qi.$).map((e=>({label:i(e),value:e})))),[i]),y=(0,S.useMemo)((()=>G.Ry().shape({name:G.Z_().required(i("certificate_course_name_required")),description:G.Z_(),skillLevel:G.Z_().required(i("skill_level_required")),topicId:G.Z_().required(i("topic_required")),chapters:G.IX().of(G.Ry().shape({no:G.Rx().required(),title:G.Z_().required(i("chapter_title_required")),description:G.Z_(),resources:G.IX().of(G.Ry().shape({no:G.Rx().required(),resourceType:G.Z_().required(),title:G.Z_().required(i("resource_title_required")),questionId:G.Z_(),lessonHtml:G.Z_(),youtubeVideoUrl:G.Z_().test("youtube-url",i("youtube_url_invalid"),(e=>jn(e)))})).required()}))})),[i]),{register:C,control:w,handleSubmit:k,trigger:N,setValue:I,watch:T,reset:D,formState:{errors:q}}=(0,F.cI)({resolver:(0,L.X)(y)}),{fields:E,append:W,remove:O,move:B}=(0,F.Dq)({control:w,name:"chapters"});return(0,S.useEffect)((()=>{var e;D({name:(null===_||void 0===_?void 0:_.name)||"",description:(null===_||void 0===_?void 0:_.description)||"",skillLevel:(null===_||void 0===_?void 0:_.skillLevel)||v[0].value,topicId:(null===_||void 0===_?void 0:_.topic.topicId)||(null===(e=s[0])||void 0===e?void 0:e.topicId),chapters:null===j||void 0===j?void 0:j.map(((e,t)=>({no:t,title:e.title,description:e.description,resources:e.resources.map(((e,t)=>{var i;return{no:t,resourceType:e.resourceType,title:e.title,questionId:(null===(i=e.question)||void 0===i?void 0:i.id)||"",lessonHtml:e.lessonHtml,youtubeVideoUrl:e.youtubeVideoUrl}}))})))})}),[_,j]),(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Qt.q,{children:(0,z.jsx)("title",{children:i("create_certificate_course")})}),(0,z.jsx)("form",{onSubmit:k((async e=>{const t={...e},i={certificateCourseId:g||"",name:t.name,description:t.description||"",skillLevel:t.skillLevel,topicId:t.topicId,startTime:(new Date).toISOString(),endTime:new Date((new Date).getTime()+1e11).toISOString(),email:"",chapters:(t.chapters||[]).map((e=>({title:e.title,no:e.no,description:e.description||"",resources:(e.resources||[]).map((e=>({no:e.no,resourceType:e.resourceType,title:e.title,questionId:e.questionId||"",lessonHtml:e.lessonHtml||"",lessonVideo:e.youtubeVideoUrl||""})))})))};try{if(g){const e=await Pt.M.updateCertificateCourseById(g,i);console.log("Submit response",e)}p(!1)}catch(a){console.error("error",a),p(!1)}})),children:(0,z.jsxs)(Xt.Z,{children:[(0,z.jsx)(n.Z,{sx:{paddingLeft:"13px"},children:(0,z.jsx)(R.Z,{breadCrumbData:b,lastBreadCrumbLabel:"Edit Certificate Course"})}),(0,z.jsxs)(a.ZP,{container:!0,spacing:4,sx:{padding:"0 20px"},children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(ve.Z,{"translate-key":"create_certificate_course_title",children:i("edit_certificate_course_title").toUpperCase()})}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(_t.Z,{variant:"soft",color:"primary",sx:{padding:"10px"},children:(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--blue-2",children:i("common_general").toUpperCase()})})}),(0,z.jsx)(a.ZP,{item:!0,sm:12,md:6,children:(0,z.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(F.Qr,{defaultValue:"",control:w,name:"name",render:e=>{var t;let{field:{ref:a,...n}}=e;return(0,z.jsx)(Ei.Z,{useDefaultTitleStyle:!0,error:Boolean(null===q||void 0===q?void 0:q.name),errorMessage:null===(t=q.name)||void 0===t?void 0:t.message,title:"".concat(i("certificate_course_name")),type:"text",placeholder:i("enter_certificate_course_name"),titleRequired:!0,"translation-key":["certificate_course_name","enter_certificate_course_name"],inputRef:a,...n})}})}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(H.Z,{"translation-key":"certificate_course_skill_level_title",title:"".concat(i("certificate_course_skill_level_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,z.jsx)(F.Qr,{name:"skillLevel",control:w,defaultValue:v[0].value,render:e=>{let{field:{onChange:t,value:i}}=e;return(0,z.jsx)(Li.Z,{value:i,onChange:t,options:v})}})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(H.Z,{"translation-key":"certificate_course_topic_title",title:"".concat(i("certificate_course_topic_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,z.jsx)(F.Qr,{name:"topicId",control:w,defaultValue:null===(e=s[0])||void 0===e?void 0:e.topicId,render:e=>{let{field:{onChange:t,value:i}}=e;return(0,z.jsx)(Li.Z,{value:i,onChange:t,options:s.map((e=>({label:e.name,value:e.topicId})))})}})]})]})}),(0,z.jsxs)(a.ZP,{item:!0,sm:12,md:6,children:[(0,z.jsx)(H.Z,{"translation-key":"certificate_course_description_title",title:"".concat(i("certificate_course_description_title")," "),titleRequired:!0,fontSize:"12px",color:"var(--gray-60)",gutterBottom:!0,fontWeight:"600"}),(0,z.jsx)(F.Qr,{defaultValue:"",control:w,name:"description",render:e=>{let{field:t}=e;return(0,z.jsx)(ne.Z,{title:i("certificate_course_description_title"),openDialog:!0,roundedBorder:!0,error:Boolean(null===q||void 0===q?void 0:q.description),placeholder:"".concat(i("enter_certificate_course_description_title"),"..."),required:!0,"translation-key":"enter_certificate_course_description_title",maxLines:10,...t})}})]}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(_t.Z,{variant:"soft",color:"primary",sx:{padding:"10px",marginTop:"30px"},children:(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--blue-2",children:i("common_detail").toUpperCase()})}),(0,z.jsx)(ti.Z,{margin:"10px 0",variant:"outlined",colorName:"var(--blue-selected)",borderRadius:"12px",startIcon:(0,z.jsx)(Mi.Z,{sx:{color:"var(--blue-selected)",fontSize:"12px"}}),onClick:()=>{W({no:E.length,title:"",resources:[]})},children:(0,z.jsx)(J.Z,{fontSize:"12px",fontWeight:"500",colorname:"--blue-light-1",children:i("common_add_chapter")})}),(0,z.jsx)(ti.Z,{margin:"10px 0 10px 10px",variant:m?"contained":"outlined",borderRadius:"12px",startIcon:(0,z.jsx)($i.Z,{sx:{color:m?"var(--ghost-white)":"var(--blue-selected)",fontSize:"12px"}}),onClick:()=>u(!m),boxShadow:"0",children:(0,z.jsx)(J.Z,{fontSize:"12px",fontWeight:"500",colorname:m?"--ghost-white":"--blue-selected",children:i(m?"disable_drag_drop_chapter":"enable_drag_drop_chapter")})})]}),(0,z.jsx)(a.ZP,{item:!0,xs:12,children:(0,z.jsx)(Yi.Z5,{onDragEnd:e=>{let{source:t,destination:i}=e;i&&(B(t.index,i.index),E.forEach(((e,t)=>{I("chapters.".concat(t,".no"),t)})))},children:(0,z.jsx)(Yi.bK,{droppableId:"chapter",children:e=>(0,z.jsx)(d.Z,{spacing:2,...e.droppableProps,ref:e.innerRef,children:E.map(((e,t)=>(0,z.jsx)(Yi._l,{draggableId:"item-chapter-".concat(t),index:t,children:(i,a)=>(0,z.jsx)("div",{ref:i.innerRef,...i.draggableProps,children:(0,z.jsx)(pn,{setValue:I,errors:q,watch:T,isDragging:m,provided:i,field:e,removeChapter:()=>(e=>{O(e);const t=T("chapters");null===t||void 0===t||t.forEach(((e,t)=>{I("chapters.".concat(t,".no"),t)}))})(t),parentIndex:t,control:w,register:C})},e.id)},"chapters[".concat(t,"]"))))})})})}),(0,z.jsxs)(a.ZP,{item:!0,xs:12,children:[(0,z.jsx)(h.Z,{}),(0,z.jsxs)(d.Z,{direction:"row",alignItems:"center",spacing:1,justifyContent:"center",mt:2,children:[(0,z.jsx)(M.Z,{variant:"outlined",color:"neutral",onClick:()=>{t(A._.admin.certificate.root)},children:(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--eerie-black",children:i("common_cancel")})}),(0,z.jsx)(M.Z,{variant:"solid",type:"submit",color:"primary",loading:x,children:(0,z.jsx)(J.Z,{fontWeight:"600",colorname:"--white",children:i("common_save")})})]})]})]})]})})]})},fn=/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube(?:-nocookie)?\.com|youtu.be))(\/(?:[\w\-]+\?v=|embed\/|live\/|v\/)?)([\w\-]+)(\S+)?$/;function jn(e){return""===e||!(!e||!fn.test(e))}function Zn(e){if(!e||!jn(e))return"";const t=new URL(e);return new URLSearchParams(t.search).get("v")}const bn=e=>{const[t,i]=S.useState(!0),l=(0,N.I0)();return(0,z.jsx)(a.ZP,{className:s,children:(0,z.jsx)(mt,{open:t,toggleDrawer:()=>{i((e=>!e)),l((0,Ti.G)())},children:(0,z.jsx)(n.Z,{className:r,children:(0,z.jsxs)(o.Z5,{children:[(0,z.jsx)(o.AW,{path:"contests",element:(0,z.jsx)(E,{})}),(0,z.jsx)(o.AW,{path:"contests/create",element:(0,z.jsx)(Y,{})}),(0,z.jsx)(o.AW,{path:"contests/:contestId/submissions",element:(0,z.jsx)(ga,{})}),(0,z.jsx)(o.AW,{path:"contests/:contestId/submissions/:submissionId",element:(0,z.jsx)(Wa,{})}),(0,z.jsx)(o.AW,{path:"contests/edit/:contestId/*",element:(0,z.jsx)(Qe,{isDrawerOpen:t})}),(0,z.jsx)(o.AW,{path:"information",element:(0,z.jsx)(ut.Z,{})}),(0,z.jsx)(o.AW,{path:"/dashboard",element:(0,z.jsx)(At,{})}),(0,z.jsx)(o.AW,{path:"users",element:(0,z.jsx)(qt,{})}),(0,z.jsx)(o.AW,{path:"users/create",element:(0,z.jsx)(Mt,{})}),(0,z.jsx)(o.AW,{path:"users/edit/:userId/*",element:(0,z.jsx)(Vt,{})}),(0,z.jsx)(o.AW,{path:"organizations",element:(0,z.jsx)(Ba,{})}),(0,z.jsx)(o.AW,{path:"organizations/create",element:(0,z.jsx)(Fa,{})}),(0,z.jsx)(o.AW,{path:"organizations/edit/:organizationId/*",element:(0,z.jsx)(xn,{})}),(0,z.jsx)(o.AW,{path:"/certificate-course",element:(0,z.jsx)(Kt,{})}),(0,z.jsx)(o.AW,{path:"question-bank-management",element:(0,z.jsx)(Ai,{})}),(0,z.jsx)(o.AW,{path:"question-bank-management/:categoryId",element:(0,z.jsx)(_i,{})}),(0,z.jsx)(o.AW,{path:"question-bank-management/:categoryId/create/short-answer",element:(0,z.jsx)(fi.default,{qtype:ai.Z.short_answer.code})}),(0,z.jsx)(o.AW,{path:"question-bank-management/:categoryId/create/essay",element:(0,z.jsx)(ji.default,{qtype:ai.Z.essay.code})}),(0,z.jsx)(o.AW,{path:"question-bank-management/:categoryId/create/multiple-choice",element:(0,z.jsx)(Zi.default,{qtype:ai.Z.multiple_choice.code})}),(0,z.jsx)(o.AW,{path:"question-bank-management/:categoryId/create/true-false",element:(0,z.jsx)(bi.default,{qtype:ai.Z.true_false.code})}),(0,z.jsx)(o.AW,{path:"question-bank-management/:categoryId/create/code",element:(0,z.jsx)(vi.Z,{})}),(0,z.jsx)(o.AW,{path:"/certificate-course/create",element:(0,z.jsx)(la,{})}),(0,z.jsx)(o.AW,{path:"/code-questions",element:(0,z.jsx)(va,{})}),(0,z.jsx)(o.AW,{path:"/code-questions/create",element:(0,z.jsx)(Ta,{})}),(0,z.jsx)(o.AW,{path:"/certificate-course/:id",element:(0,z.jsx)(_n,{})})]})})})})}},51485:(e,t,i)=>{i.d(t,{M:()=>r});var a=i(66010),n=i(65005);const s="https://api.codedynamite.click";class r{static async getAllOrganizations(e){let{searchName:t,pageNo:i=0,pageSize:r=10}=e;try{const e=await(0,n.Z)({baseURL:s,isAuthorization:!0}).get("".concat(a.b.AUTH.ORGANIZATION.GET_ALL_ORGANIZATIONS),{params:{searchName:t,pageNo:i,pageSize:r}});if(200===e.status)return e.data}catch(o){return Promise.reject({code:o.code||503,status:o.status||"Service Unavailable",message:o.message})}}static async getOrganizationById(e){try{const t=await(0,n.Z)({baseURL:s,isAuthorization:!0}).get("".concat(a.b.AUTH.ORGANIZATION.GET_ORGANIZATION_BY_ID.replace(":id",e)));if(200===t.status)return t.data}catch(t){return Promise.reject({code:t.code||503,status:t.status||"Service Unavailable",message:t.message})}}static async createOrganization(e){try{const t=await(0,n.Z)({baseURL:s,isAuthorization:!0}).post("".concat(a.b.AUTH.ORGANIZATION.CREATE_ORGANIZATION),e);if(201===t.status)return t.data}catch(d){var t,i,r,o,l,c;return Promise.reject({code:(null===(t=d.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.code)||503,status:(null===(r=d.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.status)||"Service Unavailable",message:(null===(l=d.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||d.message})}}static async createOrganizationByContactUs(e){try{const t=await(0,n.Z)({baseURL:s}).post("".concat(a.b.AUTH.ORGANIZATION.CREATE_ORGANIZATION_BY_CONTACT_US),e);if(201===t.status)return t.data}catch(d){var t,i,r,o,l,c;return Promise.reject({code:(null===(t=d.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.code)||503,status:(null===(r=d.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.status)||"Service Unavailable",message:(null===(l=d.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||d.message})}}static async updateOrganizationBySystemAdmin(e,t){try{const i=await(0,n.Z)({baseURL:s,isAuthorization:!0}).put("".concat(a.b.AUTH.ORGANIZATION.UPDATE_ORGANIZATION_BY_ID.replace(":id",e)),t);if(200===i.status)return i.data}catch(m){var i,r,o,l,c,d;return Promise.reject({code:(null===(i=m.response)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.code)||503,status:(null===(o=m.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.status)||"Service Unavailable",message:(null===(c=m.response)||void 0===c||null===(d=c.data)||void 0===d?void 0:d.message)||m.message})}}static async deleteOrganizationBySystemAdmin(e){try{const t=await(0,n.Z)({baseURL:s,isAuthorization:!0}).delete("".concat(a.b.AUTH.ORGANIZATION.DELETE_ORGANIZATION_BY_ID.replace(":id",e)));if(200===t.status)return t.data}catch(d){var t,i,r,o,l,c;return Promise.reject({code:(null===(t=d.response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.code)||503,status:(null===(r=d.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.status)||"Service Unavailable",message:(null===(l=d.response)||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||d.message})}}}},30371:(e,t,i)=>{i.d(t,{r:()=>r});var a=i(66010),n=i(65005);const s="https://api.codedynamite.click";class r{static async getTopics(e){let{pageNo:t=0,pageSize:i=10,fetchAll:r}=e;try{const e=await(0,n.Z)({baseURL:s}).get("".concat(a.b.CORE.TOPIC.DEFAULT),{params:{pageNo:t,pageSize:i,fetchAll:r}});if(200===e.status)return e.data}catch(o){return Promise.reject({code:o.code||503,status:o.status||"Service Unavailable",message:o.message})}}static async getTopicById(e){try{const t=await(0,n.Z)({baseURL:s}).get("".concat(a.b.CORE.TOPIC.GET_BY_ID.replace(":id",e)));if(200===t.status)return t.data}catch(t){return Promise.reject({code:t.code||503,status:t.status||"Service Unavailable",message:t.message})}}static async updateTopicById(e,t){try{const i=await(0,n.Z)({baseURL:s,isAuthorization:!0}).put("".concat(a.b.CORE.TOPIC.GET_BY_ID.replace(":id",e)),t);if(200===i.status)return i.data}catch(i){return Promise.reject({code:i.code||503,status:i.status||"Service Unavailable",message:i.message})}}static async deleteTopicById(e){try{const t=await(0,n.Z)({baseURL:s,isAuthorization:!0}).delete("".concat(a.b.CORE.TOPIC.GET_BY_ID.replace(":id",e)));if(200===t.status)return t.data}catch(t){return Promise.reject({code:t.code||503,status:t.status||"Service Unavailable",message:t.message})}}}}}]);